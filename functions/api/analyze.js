var oa=Object.create;var Ei=Object.defineProperty;var la=Object.getOwnPropertyDescriptor;var _a=Object.getOwnPropertyNames;var ua=Object.getPrototypeOf,ca=Object.prototype.hasOwnProperty;var xn=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var fa=(s,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _a(e))!ca.call(s,i)&&i!==t&&Ei(s,i,{get:()=>e[i],enumerable:!(n=la(e,i))||n.enumerable});return s};var da=(s,e,t)=>(t=s!=null?oa(ua(s)):{},fa(e||!s||!s.__esModule?Ei(t,"default",{value:s,enumerable:!0}):t,s));var Pi=xn(Bs=>{"use strict";Bs.byteLength=ha;Bs.toByteArray=ga;Bs.fromByteArray=ba;var re=[],ee=[],pa=typeof Uint8Array<"u"?Uint8Array:Array,vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(ze=0,Ri=vn.length;ze<Ri;++ze)re[ze]=vn[ze],ee[vn.charCodeAt(ze)]=ze;var ze,Ri;ee[45]=62;ee[95]=63;function Si(s){var e=s.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=s.indexOf("=");t===-1&&(t=e);var n=t===e?0:4-t%4;return[t,n]}function ha(s){var e=Si(s),t=e[0],n=e[1];return(t+n)*3/4-n}function ma(s,e,t){return(e+t)*3/4-t}function ga(s){var e,t=Si(s),n=t[0],i=t[1],r=new pa(ma(s,n,i)),a=0,o=i>0?n-4:n,l;for(l=0;l<o;l+=4)e=ee[s.charCodeAt(l)]<<18|ee[s.charCodeAt(l+1)]<<12|ee[s.charCodeAt(l+2)]<<6|ee[s.charCodeAt(l+3)],r[a++]=e>>16&255,r[a++]=e>>8&255,r[a++]=e&255;return i===2&&(e=ee[s.charCodeAt(l)]<<2|ee[s.charCodeAt(l+1)]>>4,r[a++]=e&255),i===1&&(e=ee[s.charCodeAt(l)]<<10|ee[s.charCodeAt(l+1)]<<4|ee[s.charCodeAt(l+2)]>>2,r[a++]=e>>8&255,r[a++]=e&255),r}function ya(s){return re[s>>18&63]+re[s>>12&63]+re[s>>6&63]+re[s&63]}function wa(s,e,t){for(var n,i=[],r=e;r<t;r+=3)n=(s[r]<<16&16711680)+(s[r+1]<<8&65280)+(s[r+2]&255),i.push(ya(n));return i.join("")}function ba(s){for(var e,t=s.length,n=t%3,i=[],r=16383,a=0,o=t-n;a<o;a+=r)i.push(wa(s,a,a+r>o?o:a+r));return n===1?(e=s[t-1],i.push(re[e>>2]+re[e<<4&63]+"==")):n===2&&(e=(s[t-2]<<8)+s[t-1],i.push(re[e>>10]+re[e>>4&63]+re[e<<2&63]+"=")),i.join("")}});var Ci=xn(kn=>{kn.read=function(s,e,t,n,i){var r,a,o=i*8-n-1,l=(1<<o)-1,_=l>>1,h=-7,c=t?i-1:0,g=t?-1:1,f=s[e+c];for(c+=g,r=f&(1<<-h)-1,f>>=-h,h+=o;h>0;r=r*256+s[e+c],c+=g,h-=8);for(a=r&(1<<-h)-1,r>>=-h,h+=n;h>0;a=a*256+s[e+c],c+=g,h-=8);if(r===0)r=1-_;else{if(r===l)return a?NaN:(f?-1:1)*(1/0);a=a+Math.pow(2,n),r=r-_}return(f?-1:1)*a*Math.pow(2,r-n)};kn.write=function(s,e,t,n,i,r){var a,o,l,_=r*8-i-1,h=(1<<_)-1,c=h>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:r-1,v=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?e+=g/l:e+=g*Math.pow(2,1-c),e*l>=2&&(a++,l/=2),a+c>=h?(o=0,a=h):a+c>=1?(o=(e*l-1)*Math.pow(2,i),a=a+c):(o=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;s[t+f]=o&255,f+=v,o/=256,i-=8);for(a=a<<i|o,_+=i;_>0;s[t+f]=a&255,f+=v,a/=256,_-=8);s[t+f-v]|=w*128}});var Vi=xn(gt=>{"use strict";var An=Pi(),ht=Ci(),Fi=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;gt.Buffer=p;gt.SlowBuffer=Ea;gt.INSPECT_MAX_BYTES=50;var Ns=2147483647;gt.kMaxLength=Ns;p.TYPED_ARRAY_SUPPORT=xa();!p.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function xa(){try{let s=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(s,e),s.foo()===42}catch{return!1}}Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}});Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}});function pe(s){if(s>Ns)throw new RangeError('The value "'+s+'" is invalid for option "size"');let e=new Uint8Array(s);return Object.setPrototypeOf(e,p.prototype),e}function p(s,e,t){if(typeof s=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Sn(s)}return Bi(s,e,t)}p.poolSize=8192;function Bi(s,e,t){if(typeof s=="string")return ka(s,e);if(ArrayBuffer.isView(s))return Aa(s);if(s==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s);if(ae(s,ArrayBuffer)||s&&ae(s.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ae(s,SharedArrayBuffer)||s&&ae(s.buffer,SharedArrayBuffer)))return En(s,e,t);if(typeof s=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=s.valueOf&&s.valueOf();if(n!=null&&n!==s)return p.from(n,e,t);let i=Ia(s);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof s[Symbol.toPrimitive]=="function")return p.from(s[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof s)}p.from=function(s,e,t){return Bi(s,e,t)};Object.setPrototypeOf(p.prototype,Uint8Array.prototype);Object.setPrototypeOf(p,Uint8Array);function Ni(s){if(typeof s!="number")throw new TypeError('"size" argument must be of type number');if(s<0)throw new RangeError('The value "'+s+'" is invalid for option "size"')}function va(s,e,t){return Ni(s),s<=0?pe(s):e!==void 0?typeof t=="string"?pe(s).fill(e,t):pe(s).fill(e):pe(s)}p.alloc=function(s,e,t){return va(s,e,t)};function Sn(s){return Ni(s),pe(s<0?0:Pn(s)|0)}p.allocUnsafe=function(s){return Sn(s)};p.allocUnsafeSlow=function(s){return Sn(s)};function ka(s,e){if((typeof e!="string"||e==="")&&(e="utf8"),!p.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=qi(s,e)|0,n=pe(t),i=n.write(s,e);return i!==t&&(n=n.slice(0,i)),n}function In(s){let e=s.length<0?0:Pn(s.length)|0,t=pe(e);for(let n=0;n<e;n+=1)t[n]=s[n]&255;return t}function Aa(s){if(ae(s,Uint8Array)){let e=new Uint8Array(s);return En(e.buffer,e.byteOffset,e.byteLength)}return In(s)}function En(s,e,t){if(e<0||s.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(s.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&t===void 0?n=new Uint8Array(s):t===void 0?n=new Uint8Array(s,e):n=new Uint8Array(s,e,t),Object.setPrototypeOf(n,p.prototype),n}function Ia(s){if(p.isBuffer(s)){let e=Pn(s.length)|0,t=pe(e);return t.length===0||s.copy(t,0,0,e),t}if(s.length!==void 0)return typeof s.length!="number"||Fn(s.length)?pe(0):In(s);if(s.type==="Buffer"&&Array.isArray(s.data))return In(s.data)}function Pn(s){if(s>=Ns)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ns.toString(16)+" bytes");return s|0}function Ea(s){return+s!=s&&(s=0),p.alloc(+s)}p.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==p.prototype};p.compare=function(e,t){if(ae(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),ae(t,Uint8Array)&&(t=p.from(t,t.offset,t.byteLength)),!p.isBuffer(e)||!p.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,i=t.length;for(let r=0,a=Math.min(n,i);r<a;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0};p.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};p.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return p.alloc(0);let n;if(t===void 0)for(t=0,n=0;n<e.length;++n)t+=e[n].length;let i=p.allocUnsafe(t),r=0;for(n=0;n<e.length;++n){let a=e[n];if(ae(a,Uint8Array))r+a.length>i.length?(p.isBuffer(a)||(a=p.from(a)),a.copy(i,r)):Uint8Array.prototype.set.call(i,a,r);else if(p.isBuffer(a))a.copy(i,r);else throw new TypeError('"list" argument must be an Array of Buffers');r+=a.length}return i};function qi(s,e){if(p.isBuffer(s))return s.length;if(ArrayBuffer.isView(s)||ae(s,ArrayBuffer))return s.byteLength;if(typeof s!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof s);let t=s.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&t===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Rn(s).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Ji(s).length;default:if(i)return n?-1:Rn(s).length;e=(""+e).toLowerCase(),i=!0}}p.byteLength=qi;function Ra(s,e,t){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(s||(s="utf8");;)switch(s){case"hex":return qa(this,e,t);case"utf8":case"utf-8":return Mi(this,e,t);case"ascii":return Ba(this,e,t);case"latin1":case"binary":return Na(this,e,t);case"base64":return Oa(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ua(this,e,t);default:if(n)throw new TypeError("Unknown encoding: "+s);s=(s+"").toLowerCase(),n=!0}}p.prototype._isBuffer=!0;function We(s,e,t){let n=s[e];s[e]=s[t],s[t]=n}p.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)We(this,t,t+1);return this};p.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)We(this,t,t+3),We(this,t+1,t+2);return this};p.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)We(this,t,t+7),We(this,t+1,t+6),We(this,t+2,t+5),We(this,t+3,t+4);return this};p.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Mi(this,0,e):Ra.apply(this,arguments)};p.prototype.toLocaleString=p.prototype.toString;p.prototype.equals=function(e){if(!p.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:p.compare(this,e)===0};p.prototype.inspect=function(){let e="",t=gt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};Fi&&(p.prototype[Fi]=p.prototype.inspect);p.prototype.compare=function(e,t,n,i,r){if(ae(e,Uint8Array)&&(e=p.from(e,e.offset,e.byteLength)),!p.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),r===void 0&&(r=this.length),t<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&t>=n)return 0;if(i>=r)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,i>>>=0,r>>>=0,this===e)return 0;let a=r-i,o=n-t,l=Math.min(a,o),_=this.slice(i,r),h=e.slice(t,n);for(let c=0;c<l;++c)if(_[c]!==h[c]){a=_[c],o=h[c];break}return a<o?-1:o<a?1:0};function Ui(s,e,t,n,i){if(s.length===0)return-1;if(typeof t=="string"?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Fn(t)&&(t=i?0:s.length-1),t<0&&(t=s.length+t),t>=s.length){if(i)return-1;t=s.length-1}else if(t<0)if(i)t=0;else return-1;if(typeof e=="string"&&(e=p.from(e,n)),p.isBuffer(e))return e.length===0?-1:Ti(s,e,t,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(s,e,t):Uint8Array.prototype.lastIndexOf.call(s,e,t):Ti(s,[e],t,n,i);throw new TypeError("val must be string, number or Buffer")}function Ti(s,e,t,n,i){let r=1,a=s.length,o=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(s.length<2||e.length<2)return-1;r=2,a/=2,o/=2,t/=2}function l(h,c){return r===1?h[c]:h.readUInt16BE(c*r)}let _;if(i){let h=-1;for(_=t;_<a;_++)if(l(s,_)===l(e,h===-1?0:_-h)){if(h===-1&&(h=_),_-h+1===o)return h*r}else h!==-1&&(_-=_-h),h=-1}else for(t+o>a&&(t=a-o),_=t;_>=0;_--){let h=!0;for(let c=0;c<o;c++)if(l(s,_+c)!==l(e,c)){h=!1;break}if(h)return _}return-1}p.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1};p.prototype.indexOf=function(e,t,n){return Ui(this,e,t,n,!0)};p.prototype.lastIndexOf=function(e,t,n){return Ui(this,e,t,n,!1)};function Sa(s,e,t,n){t=Number(t)||0;let i=s.length-t;n?(n=Number(n),n>i&&(n=i)):n=i;let r=e.length;n>r/2&&(n=r/2);let a;for(a=0;a<n;++a){let o=parseInt(e.substr(a*2,2),16);if(Fn(o))return a;s[t+a]=o}return a}function Pa(s,e,t,n){return qs(Rn(e,s.length-t),s,t,n)}function Ca(s,e,t,n){return qs(La(e),s,t,n)}function Fa(s,e,t,n){return qs(Ji(e),s,t,n)}function Ta(s,e,t,n){return qs(za(e,s.length-t),s,t,n)}p.prototype.write=function(e,t,n,i){if(t===void 0)i="utf8",n=this.length,t=0;else if(n===void 0&&typeof t=="string")i=t,n=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let r=this.length-t;if((n===void 0||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return Sa(this,e,t,n);case"utf8":case"utf-8":return Pa(this,e,t,n);case"ascii":case"latin1":case"binary":return Ca(this,e,t,n);case"base64":return Fa(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ta(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Oa(s,e,t){return e===0&&t===s.length?An.fromByteArray(s):An.fromByteArray(s.slice(e,t))}function Mi(s,e,t){t=Math.min(s.length,t);let n=[],i=e;for(;i<t;){let r=s[i],a=null,o=r>239?4:r>223?3:r>191?2:1;if(i+o<=t){let l,_,h,c;switch(o){case 1:r<128&&(a=r);break;case 2:l=s[i+1],(l&192)===128&&(c=(r&31)<<6|l&63,c>127&&(a=c));break;case 3:l=s[i+1],_=s[i+2],(l&192)===128&&(_&192)===128&&(c=(r&15)<<12|(l&63)<<6|_&63,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:l=s[i+1],_=s[i+2],h=s[i+3],(l&192)===128&&(_&192)===128&&(h&192)===128&&(c=(r&15)<<18|(l&63)<<12|(_&63)<<6|h&63,c>65535&&c<1114112&&(a=c))}}a===null?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=o}return $a(n)}var Oi=4096;function $a(s){let e=s.length;if(e<=Oi)return String.fromCharCode.apply(String,s);let t="",n=0;for(;n<e;)t+=String.fromCharCode.apply(String,s.slice(n,n+=Oi));return t}function Ba(s,e,t){let n="";t=Math.min(s.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(s[i]&127);return n}function Na(s,e,t){let n="";t=Math.min(s.length,t);for(let i=e;i<t;++i)n+=String.fromCharCode(s[i]);return n}function qa(s,e,t){let n=s.length;(!e||e<0)&&(e=0),(!t||t<0||t>n)&&(t=n);let i="";for(let r=e;r<t;++r)i+=Wa[s[r]];return i}function Ua(s,e,t){let n=s.slice(e,t),i="";for(let r=0;r<n.length-1;r+=2)i+=String.fromCharCode(n[r]+n[r+1]*256);return i}p.prototype.slice=function(e,t){let n=this.length;e=~~e,t=t===void 0?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);let i=this.subarray(e,t);return Object.setPrototypeOf(i,p.prototype),i};function z(s,e,t){if(s%1!==0||s<0)throw new RangeError("offset is not uint");if(s+e>t)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUintLE=p.prototype.readUIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||z(e,t,this.length);let i=this[e],r=1,a=0;for(;++a<t&&(r*=256);)i+=this[e+a]*r;return i};p.prototype.readUintBE=p.prototype.readUIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||z(e,t,this.length);let i=this[e+--t],r=1;for(;t>0&&(r*=256);)i+=this[e+--t]*r;return i};p.prototype.readUint8=p.prototype.readUInt8=function(e,t){return e=e>>>0,t||z(e,1,this.length),this[e]};p.prototype.readUint16LE=p.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||z(e,2,this.length),this[e]|this[e+1]<<8};p.prototype.readUint16BE=p.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||z(e,2,this.length),this[e]<<8|this[e+1]};p.prototype.readUint32LE=p.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||z(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};p.prototype.readUint32BE=p.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||z(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};p.prototype.readBigUInt64LE=Ie(function(e){e=e>>>0,mt(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&us(e,this.length-8);let i=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,r=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(r)<<BigInt(32))});p.prototype.readBigUInt64BE=Ie(function(e){e=e>>>0,mt(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&us(e,this.length-8);let i=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],r=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(r)});p.prototype.readIntLE=function(e,t,n){e=e>>>0,t=t>>>0,n||z(e,t,this.length);let i=this[e],r=1,a=0;for(;++a<t&&(r*=256);)i+=this[e+a]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i};p.prototype.readIntBE=function(e,t,n){e=e>>>0,t=t>>>0,n||z(e,t,this.length);let i=t,r=1,a=this[e+--i];for(;i>0&&(r*=256);)a+=this[e+--i]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a};p.prototype.readInt8=function(e,t){return e=e>>>0,t||z(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};p.prototype.readInt16LE=function(e,t){e=e>>>0,t||z(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};p.prototype.readInt16BE=function(e,t){e=e>>>0,t||z(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};p.prototype.readInt32LE=function(e,t){return e=e>>>0,t||z(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};p.prototype.readInt32BE=function(e,t){return e=e>>>0,t||z(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};p.prototype.readBigInt64LE=Ie(function(e){e=e>>>0,mt(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&us(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});p.prototype.readBigInt64BE=Ie(function(e){e=e>>>0,mt(e,"offset");let t=this[e],n=this[e+7];(t===void 0||n===void 0)&&us(e,this.length-8);let i=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});p.prototype.readFloatLE=function(e,t){return e=e>>>0,t||z(e,4,this.length),ht.read(this,e,!0,23,4)};p.prototype.readFloatBE=function(e,t){return e=e>>>0,t||z(e,4,this.length),ht.read(this,e,!1,23,4)};p.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||z(e,8,this.length),ht.read(this,e,!0,52,8)};p.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||z(e,8,this.length),ht.read(this,e,!1,52,8)};function X(s,e,t,n,i,r){if(!p.isBuffer(s))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<r)throw new RangeError('"value" argument is out of bounds');if(t+n>s.length)throw new RangeError("Index out of range")}p.prototype.writeUintLE=p.prototype.writeUIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;X(this,e,t,n,o,0)}let r=1,a=0;for(this[t]=e&255;++a<n&&(r*=256);)this[t+a]=e/r&255;return t+n};p.prototype.writeUintBE=p.prototype.writeUIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,n=n>>>0,!i){let o=Math.pow(2,8*n)-1;X(this,e,t,n,o,0)}let r=n-1,a=1;for(this[t+r]=e&255;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+n};p.prototype.writeUint8=p.prototype.writeUInt8=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,1,255,0),this[t]=e&255,t+1};p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function ji(s,e,t,n,i){Hi(e,n,i,s,t,7);let r=Number(e&BigInt(4294967295));s[t++]=r,r=r>>8,s[t++]=r,r=r>>8,s[t++]=r,r=r>>8,s[t++]=r;let a=Number(e>>BigInt(32)&BigInt(4294967295));return s[t++]=a,a=a>>8,s[t++]=a,a=a>>8,s[t++]=a,a=a>>8,s[t++]=a,t}function Di(s,e,t,n,i){Hi(e,n,i,s,t,7);let r=Number(e&BigInt(4294967295));s[t+7]=r,r=r>>8,s[t+6]=r,r=r>>8,s[t+5]=r,r=r>>8,s[t+4]=r;let a=Number(e>>BigInt(32)&BigInt(4294967295));return s[t+3]=a,a=a>>8,s[t+2]=a,a=a>>8,s[t+1]=a,a=a>>8,s[t]=a,t+8}p.prototype.writeBigUInt64LE=Ie(function(e,t=0){return ji(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});p.prototype.writeBigUInt64BE=Ie(function(e,t=0){return Di(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});p.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let l=Math.pow(2,8*n-1);X(this,e,t,n,l-1,-l)}let r=0,a=1,o=0;for(this[t]=e&255;++r<n&&(a*=256);)e<0&&o===0&&this[t+r-1]!==0&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n};p.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=t>>>0,!i){let l=Math.pow(2,8*n-1);X(this,e,t,n,l-1,-l)}let r=n-1,a=1,o=0;for(this[t+r]=e&255;--r>=0&&(a*=256);)e<0&&o===0&&this[t+r+1]!==0&&(o=1),this[t+r]=(e/a>>0)-o&255;return t+n};p.prototype.writeInt8=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};p.prototype.writeInt16LE=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};p.prototype.writeInt16BE=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};p.prototype.writeInt32LE=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};p.prototype.writeInt32BE=function(e,t,n){return e=+e,t=t>>>0,n||X(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};p.prototype.writeBigInt64LE=Ie(function(e,t=0){return ji(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});p.prototype.writeBigInt64BE=Ie(function(e,t=0){return Di(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Li(s,e,t,n,i,r){if(t+n>s.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function zi(s,e,t,n,i){return e=+e,t=t>>>0,i||Li(s,e,t,4,34028234663852886e22,-34028234663852886e22),ht.write(s,e,t,n,23,4),t+4}p.prototype.writeFloatLE=function(e,t,n){return zi(this,e,t,!0,n)};p.prototype.writeFloatBE=function(e,t,n){return zi(this,e,t,!1,n)};function Wi(s,e,t,n,i){return e=+e,t=t>>>0,i||Li(s,e,t,8,17976931348623157e292,-17976931348623157e292),ht.write(s,e,t,n,52,8),t+8}p.prototype.writeDoubleLE=function(e,t,n){return Wi(this,e,t,!0,n)};p.prototype.writeDoubleBE=function(e,t,n){return Wi(this,e,t,!1,n)};p.prototype.copy=function(e,t,n,i){if(!p.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-n&&(i=e.length-t+n);let r=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),t),r};p.prototype.fill=function(e,t,n,i){if(typeof e=="string"){if(typeof t=="string"?(i=t,t=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!p.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t=t>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let r;if(typeof e=="number")for(r=t;r<n;++r)this[r]=e;else{let a=p.isBuffer(e)?e:p.from(e,i),o=a.length;if(o===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<n-t;++r)this[r+t]=a[r%o]}return this};var pt={};function Cn(s,e,t){pt[s]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${s}]`,this.stack,delete this.name}get code(){return s}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${s}]: ${this.message}`}}}Cn("ERR_BUFFER_OUT_OF_BOUNDS",function(s){return s?`${s} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Cn("ERR_INVALID_ARG_TYPE",function(s,e){return`The "${s}" argument must be of type number. Received type ${typeof e}`},TypeError);Cn("ERR_OUT_OF_RANGE",function(s,e,t){let n=`The value of "${s}" is out of range.`,i=t;return Number.isInteger(t)&&Math.abs(t)>2**32?i=$i(String(t)):typeof t=="bigint"&&(i=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(i=$i(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function $i(s){let e="",t=s.length,n=s[0]==="-"?1:0;for(;t>=n+4;t-=3)e=`_${s.slice(t-3,t)}${e}`;return`${s.slice(0,t)}${e}`}function Ma(s,e,t){mt(e,"offset"),(s[e]===void 0||s[e+t]===void 0)&&us(e,s.length-(t+1))}function Hi(s,e,t,n,i,r){if(s>t||s<e){let a=typeof e=="bigint"?"n":"",o;throw r>3?e===0||e===BigInt(0)?o=`>= 0${a} and < 2${a} ** ${(r+1)*8}${a}`:o=`>= -(2${a} ** ${(r+1)*8-1}${a}) and < 2 ** ${(r+1)*8-1}${a}`:o=`>= ${e}${a} and <= ${t}${a}`,new pt.ERR_OUT_OF_RANGE("value",o,s)}Ma(n,i,r)}function mt(s,e){if(typeof s!="number")throw new pt.ERR_INVALID_ARG_TYPE(e,"number",s)}function us(s,e,t){throw Math.floor(s)!==s?(mt(s,t),new pt.ERR_OUT_OF_RANGE(t||"offset","an integer",s)):e<0?new pt.ERR_BUFFER_OUT_OF_BOUNDS:new pt.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,s)}var ja=/[^+/0-9A-Za-z-_]/g;function Da(s){if(s=s.split("=")[0],s=s.trim().replace(ja,""),s.length<2)return"";for(;s.length%4!==0;)s=s+"=";return s}function Rn(s,e){e=e||1/0;let t,n=s.length,i=null,r=[];for(let a=0;a<n;++a){if(t=s.charCodeAt(a),t>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&r.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&r.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&r.push(239,191,189),i=t;continue}t=(i-55296<<10|t-56320)+65536}else i&&(e-=3)>-1&&r.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;r.push(t)}else if(t<2048){if((e-=2)<0)break;r.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;r.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;r.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return r}function La(s){let e=[];for(let t=0;t<s.length;++t)e.push(s.charCodeAt(t)&255);return e}function za(s,e){let t,n,i,r=[];for(let a=0;a<s.length&&!((e-=2)<0);++a)t=s.charCodeAt(a),n=t>>8,i=t%256,r.push(i),r.push(n);return r}function Ji(s){return An.toByteArray(Da(s))}function qs(s,e,t,n){let i;for(i=0;i<n&&!(i+t>=e.length||i>=s.length);++i)e[i+t]=s[i];return i}function ae(s,e){return s instanceof e||s!=null&&s.constructor!=null&&s.constructor.name!=null&&s.constructor.name===e.name}function Fn(s){return s!==s}var Wa=(function(){let s="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let n=t*16;for(let i=0;i<16;++i)e[n+i]=s[t]+s[i]}return e})();function Ie(s){return typeof BigInt>"u"?Ha:s}function Ha(){throw new Error("BigInt not supported")}});var Yi=da(Vi(),1);var Ja=14.5037738,J={scConst:180/Math.pow(2,31),options:{speedUnits:{"m/s":{multiplier:1,offset:0},mph:{multiplier:3600/1609.344,offset:0},"km/h":{multiplier:3600/1e3,offset:0}},lengthUnits:{m:{multiplier:1,offset:0},mi:{multiplier:1/1609.344,offset:0},km:{multiplier:1/1e3,offset:0}},temperatureUnits:{"\xB0C":{multiplier:1,offset:0},kelvin:{multiplier:1,offset:-273.15},fahrenheit:{multiplier:9/5,offset:32}},pressureUnits:{cbar:{multiplier:1,offset:0},bar:{multiplier:1/100,offset:0},psi:{multiplier:1/100*Ja,offset:0}}},messages:{0:{name:"file_id",0:{field:"type",type:"file",scale:null,offset:0,units:""},1:{field:"manufacturer",type:"manufacturer",scale:null,offset:0,units:""},2:{field:"product",type:"uint16",scale:null,offset:0,units:""},3:{field:"serial_number",type:"uint32z",scale:null,offset:0,units:""},4:{field:"time_created",type:"date_time",scale:null,offset:0,units:""},5:{field:"number",type:"uint16",scale:null,offset:0,units:""},8:{field:"product_name",type:"string",scale:null,offset:0,units:""}},1:{name:"capabilities",0:{field:"languages",type:"uint8z",scale:null,offset:0,units:""},1:{field:"sports",type:"sport_bits_0",scale:null,offset:0,units:""},21:{field:"workouts_supported",type:"workout_capabilities",scale:null,offset:0,units:""},23:{field:"connectivity_supported",type:"connectivity_capabilities",scale:null,offset:0,units:""}},2:{name:"device_settings",0:{field:"active_time_zone",type:"uint8",scale:null,offset:0,units:""},1:{field:"utc_offset",type:"uint32",scale:null,offset:0,units:""},2:{field:"time_offset",type:"uint32",scale:null,offset:0,units:"s"},5:{field:"time_zone_offset",type:"sint8",scale:4,offset:0,units:"hr"},55:{field:"display_orientation",type:"display_orientation",scale:null,offset:0,units:""},56:{field:"mounting_side",type:"side",scale:null,offset:0,units:""},94:{field:"number_of_screens",type:"uint8",scale:null,offset:0,units:""},95:{field:"smart_notification_display_orientation",type:"display_orientation",scale:null,offset:0,units:""}},3:{name:"user_profile",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"friendly_name",type:"string",scale:null,offset:0,units:""},1:{field:"gender",type:"gender",scale:null,offset:0,units:""},2:{field:"age",type:"uint8",scale:null,offset:0,units:"years"},3:{field:"height",type:"uint8",scale:100,offset:0,units:"m"},4:{field:"weight",type:"uint16",scale:10,offset:0,units:"kg"},5:{field:"language",type:"language",scale:null,offset:0,units:""},6:{field:"elev_setting",type:"display_measure",scale:null,offset:0,units:""},7:{field:"weight_setting",type:"display_measure",scale:null,offset:0,units:""},8:{field:"resting_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},9:{field:"default_max_running_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},10:{field:"default_max_biking_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},11:{field:"default_max_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},12:{field:"hr_setting",type:"display_heart",scale:null,offset:0,units:""},13:{field:"speed_setting",type:"display_measure",scale:null,offset:0,units:""},14:{field:"dist_setting",type:"display_measure",scale:null,offset:0,units:""},16:{field:"power_setting",type:"display_power",scale:null,offset:0,units:""},17:{field:"activity_class",type:"activity_class",scale:null,offset:0,units:""},18:{field:"position_setting",type:"display_position",scale:null,offset:0,units:""},21:{field:"temperature_setting",type:"display_measure",scale:null,offset:0,units:""},22:{field:"local_id",type:"user_local_id",scale:null,offset:0,units:""},23:{field:"global_id",type:"byte",scale:null,offset:0,units:""},28:{field:"wake_time",type:"localtime_into_day",scale:null,offset:0,units:""},29:{field:"sleep_time",type:"localtime_into_day",scale:null,offset:0,units:""},30:{field:"height_setting",type:"display_measure",scale:null,offset:0,units:""}},4:{name:"hrm_profile",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"enabled",type:"bool",scale:null,offset:0,units:""},1:{field:"hrm_ant_id",type:"uint16z",scale:null,offset:0,units:""},2:{field:"log_hrv",type:"bool",scale:null,offset:0,units:""},3:{field:"hrm_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""}},5:{name:"sdm_profile",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"enabled",type:"bool",scale:null,offset:0,units:""},1:{field:"sdm_ant_id",type:"uint16z",scale:null,offset:0,units:""},2:{field:"sdm_cal_factor",type:"uint16",scale:10,offset:0,units:"%"},3:{field:"odometer",type:"uint32",scale:100,offset:0,units:"m"},4:{field:"speed_source",type:"bool",scale:null,offset:0,units:""},5:{field:"sdm_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},7:{field:"odometer_rollover",type:"uint8",scale:null,offset:0,units:""}},6:{name:"bike_profile",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"name",type:"string",scale:null,offset:0,units:""},1:{field:"sport",type:"sport",scale:null,offset:0,units:""},2:{field:"sub_sport",type:"sub_sport",scale:null,offset:0,units:""},3:{field:"odometer",type:"uint32",scale:100,offset:0,units:"m"},4:{field:"bike_spd_ant_id",type:"uint16z",scale:null,offset:0,units:""},5:{field:"bike_cad_ant_id",type:"uint16z",scale:null,offset:0,units:""},6:{field:"bike_spdcad_ant_id",type:"uint16z",scale:null,offset:0,units:""},7:{field:"bike_power_ant_id",type:"uint16z",scale:null,offset:0,units:""},8:{field:"custom_wheelsize",type:"uint16",scale:1e3,offset:0,units:"m"},9:{field:"auto_wheelsize",type:"uint16",scale:1e3,offset:0,units:"m"},10:{field:"bike_weight",type:"uint16",scale:10,offset:0,units:"kg"},11:{field:"power_cal_factor",type:"uint16",scale:10,offset:0,units:"%"},12:{field:"auto_wheel_cal",type:"bool",scale:null,offset:0,units:""},13:{field:"auto_power_zero",type:"bool",scale:null,offset:0,units:""},14:{field:"id",type:"uint8",scale:null,offset:0,units:""},15:{field:"spd_enabled",type:"bool",scale:null,offset:0,units:""},16:{field:"cad_enabled",type:"bool",scale:null,offset:0,units:""},17:{field:"spdcad_enabled",type:"bool",scale:null,offset:0,units:""},18:{field:"power_enabled",type:"bool",scale:null,offset:0,units:""},19:{field:"crank_length",type:"uint8",scale:2,offset:-110,units:"mm"},20:{field:"enabled",type:"bool",scale:null,offset:0,units:""},21:{field:"bike_spd_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},22:{field:"bike_cad_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},23:{field:"bike_spdcad_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},24:{field:"bike_power_ant_id_trans_type",type:"uint8z",scale:null,offset:0,units:""},37:{field:"odometer_rollover",type:"uint8",scale:null,offset:0,units:""},38:{field:"front_gear_num",type:"uint8z",scale:null,offset:0,units:""},39:{field:"front_gear",type:"uint8z",scale:null,offset:0,units:""},40:{field:"rear_gear_num",type:"uint8z",scale:null,offset:0,units:""},41:{field:"rear_gear",type:"uint8z",scale:null,offset:0,units:""},44:{field:"shimano_di2_enabled",type:"bool",scale:null,offset:0,units:""}},7:{name:"zones_target",1:{field:"max_heart_rate",type:"uint8",scale:null,offset:0,units:""},2:{field:"threshold_heart_rate",type:"uint8",scale:null,offset:0,units:""},3:{field:"functional_threshold_power",type:"uint16",scale:null,offset:0,units:""},5:{field:"hr_calc_type",type:"hr_zone_calc",scale:null,offset:0,units:""},7:{field:"pwr_calc_type",type:"pwr_zone_calc",scale:null,offset:0,units:""}},8:{name:"hr_zone",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},1:{field:"high_bpm",type:"uint8",scale:null,offset:0,units:"bpm"},2:{field:"name",type:"string",scale:null,offset:0,units:""}},9:{name:"power_zone",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},1:{field:"high_value",type:"uint16",scale:null,offset:0,units:"watts"},2:{field:"name",type:"string",scale:null,offset:0,units:""}},10:{name:"met_zone",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},1:{field:"high_bpm",type:"uint8",scale:null,offset:0,units:""},2:{field:"calories",type:"uint16",scale:10,offset:0,units:"kcal / min"},3:{field:"fat_calories",type:"uint8",scale:10,offset:0,units:"kcal / min"}},12:{name:"sport",0:{field:"sport",type:"sport",scale:null,offset:0,units:""},1:{field:"sub_sport",type:"sub_sport",scale:null,offset:0,units:""},3:{field:"name",type:"string",scale:null,offset:0,units:""}},15:{name:"goal",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"sport",type:"sport",scale:null,offset:0,units:""},1:{field:"sub_sport",type:"sub_sport",scale:null,offset:0,units:""},2:{field:"start_date",type:"date_time",scale:null,offset:0,units:""},3:{field:"end_date",type:"date_time",scale:null,offset:0,units:""},4:{field:"type",type:"goal",scale:null,offset:0,units:""},5:{field:"value",type:"uint32",scale:null,offset:0,units:""},6:{field:"repeat",type:"bool",scale:null,offset:0,units:""},7:{field:"target_value",type:"uint32",scale:null,offset:0,units:""},8:{field:"recurrence",type:"goal_recurrence",scale:null,offset:0,units:""},9:{field:"recurrence_value",type:"uint16",scale:null,offset:0,units:""},10:{field:"enabled",type:"bool",scale:null,offset:0,units:""}},18:{name:"session",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"event",type:"event",scale:null,offset:0,units:""},1:{field:"event_type",type:"event_type",scale:null,offset:0,units:""},2:{field:"start_time",type:"date_time",scale:null,offset:0,units:""},3:{field:"start_position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},4:{field:"start_position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},5:{field:"sport",type:"sport",scale:null,offset:0,units:""},6:{field:"sub_sport",type:"sub_sport",scale:null,offset:0,units:""},7:{field:"total_elapsed_time",type:"uint32",scale:1e3,offset:0,units:"s"},8:{field:"total_timer_time",type:"uint32",scale:1e3,offset:0,units:"s"},9:{field:"total_distance",type:"uint32",scale:100,offset:0,units:"m"},10:{field:"total_cycles",type:"uint32",scale:null,offset:0,units:"cycles"},11:{field:"total_calories",type:"uint16",scale:null,offset:0,units:"kcal"},13:{field:"total_fat_calories",type:"uint16",scale:null,offset:0,units:"kcal"},14:{field:"avg_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},15:{field:"max_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},16:{field:"avg_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},17:{field:"max_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},18:{field:"avg_cadence",type:"uint8",scale:null,offset:0,units:"rpm"},19:{field:"max_cadence",type:"uint8",scale:null,offset:0,units:"rpm"},20:{field:"avg_power",type:"uint16",scale:null,offset:0,units:"watts"},21:{field:"max_power",type:"uint16",scale:null,offset:0,units:"watts"},22:{field:"total_ascent",type:"uint16",scale:null,offset:0,units:"m"},23:{field:"total_descent",type:"uint16",scale:null,offset:0,units:"m"},24:{field:"total_training_effect",type:"uint8",scale:10,offset:0,units:""},25:{field:"first_lap_index",type:"uint16",scale:null,offset:0,units:""},26:{field:"num_laps",type:"uint16",scale:null,offset:0,units:""},27:{field:"event_group",type:"uint8",scale:null,offset:0,units:""},28:{field:"trigger",type:"session_trigger",scale:null,offset:0,units:""},29:{field:"nec_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},30:{field:"nec_long",type:"sint32",scale:null,offset:0,units:"semicircles"},31:{field:"swc_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},32:{field:"swc_long",type:"sint32",scale:null,offset:0,units:"semicircles"},34:{field:"normalized_power",type:"uint16",scale:null,offset:0,units:"watts"},35:{field:"training_stress_score",type:"uint16",scale:10,offset:0,units:"tss"},36:{field:"intensity_factor",type:"uint16",scale:1e3,offset:0,units:"if"},37:{field:"left_right_balance",type:"left_right_balance_100",scale:100,offset:0,units:"%"},41:{field:"avg_stroke_count",type:"uint32",scale:10,offset:0,units:"strokes/lap"},42:{field:"avg_stroke_distance",type:"uint16",scale:100,offset:0,units:"m"},43:{field:"swim_stroke",type:"swim_stroke",scale:null,offset:0,units:"swim_stroke"},44:{field:"pool_length",type:"uint16",scale:100,offset:0,units:"m"},45:{field:"threshold_power",type:"uint16",scale:null,offset:0,units:"watts"},46:{field:"pool_length_unit",type:"display_measure",scale:null,offset:0,units:""},47:{field:"num_active_lengths",type:"uint16",scale:null,offset:0,units:"lengths"},48:{field:"total_work",type:"uint32",scale:null,offset:0,units:"J"},49:{field:"avg_altitude",type:"uint16",scale:5,offset:-500,units:"m"},50:{field:"max_altitude",type:"uint16",scale:5,offset:-500,units:"m"},51:{field:"gps_accuracy",type:"uint8",scale:null,offset:0,units:"m"},52:{field:"avg_grade",type:"sint16",scale:100,offset:0,units:"%"},53:{field:"avg_pos_grade",type:"sint16",scale:100,offset:0,units:"%"},54:{field:"avg_neg_grade",type:"sint16",scale:100,offset:0,units:"%"},55:{field:"max_pos_grade",type:"sint16",scale:100,offset:0,units:"%"},56:{field:"max_neg_grade",type:"sint16",scale:100,offset:0,units:"%"},57:{field:"avg_temperature",type:"sint8",scale:null,offset:0,units:"C"},58:{field:"max_temperature",type:"sint8",scale:null,offset:0,units:"C"},59:{field:"total_moving_time",type:"uint32",scale:1e3,offset:0,units:"s"},60:{field:"avg_pos_vertical_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},61:{field:"avg_neg_vertical_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},62:{field:"max_pos_vertical_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},63:{field:"max_neg_vertical_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},64:{field:"min_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},65:{field:"time_in_hr_zone",type:"uint32_array",scale:1e3,offset:0,units:"s"},66:{field:"time_in_speed_zone",type:"uint32_array",scale:1e3,offset:0,units:"s"},67:{field:"time_in_cadence_zone",type:"uint32_array",scale:1e3,offset:0,units:"s"},68:{field:"time_in_power_zone",type:"uint32_array",scale:1e3,offset:0,units:"s"},69:{field:"avg_lap_time",type:"uint32",scale:1e3,offset:0,units:"s"},70:{field:"best_lap_index",type:"uint16",scale:null,offset:0,units:""},71:{field:"min_altitude",type:"uint16",scale:5,offset:-500,units:"m"},82:{field:"player_score",type:"uint16",scale:null,offset:0,units:""},83:{field:"opponent_score",type:"uint16",scale:null,offset:0,units:""},84:{field:"opponent_name",type:"string",scale:null,offset:0,units:""},85:{field:"stroke_count",type:"uint16",scale:null,offset:0,units:"counts"},86:{field:"zone_count",type:"uint16",scale:null,offset:0,units:"counts"},87:{field:"max_ball_speed",type:"uint16",scale:100,offset:0,units:"m/s"},88:{field:"avg_ball_speed",type:"uint16",scale:100,offset:0,units:"m/s"},89:{field:"avg_vertical_oscillation",type:"uint16",scale:10,offset:0,units:"mm"},90:{field:"avg_stance_time_percent",type:"uint16",scale:100,offset:0,units:"percent"},91:{field:"avg_stance_time",type:"uint16",scale:10,offset:0,units:"ms"},92:{field:"avg_fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},93:{field:"max_fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},94:{field:"total_fractional_cycles",type:"uint8",scale:128,offset:0,units:"cycles"},95:{field:"avg_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},96:{field:"min_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},97:{field:"max_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},98:{field:"avg_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},99:{field:"min_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},100:{field:"max_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},101:{field:"avg_left_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},102:{field:"avg_right_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},103:{field:"avg_left_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},104:{field:"avg_right_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},105:{field:"avg_combined_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},111:{field:"sport_index",type:"uint8",scale:null,offset:0,units:""},112:{field:"time_standing",type:"uint32",scale:1e3,offset:0,units:"s"},113:{field:"stand_count",type:"uint16",scale:null,offset:0,units:""},114:{field:"avg_left_pco",type:"sint8",scale:null,offset:0,units:"mm"},115:{field:"avg_right_pco",type:"sint8",scale:null,offset:0,units:"mm"},116:{field:"avg_left_power_phase",type:"uint8",scale:.7111111,offset:0,units:"degrees"},117:{field:"avg_left_power_phase_peak",type:"uint8",scale:.7111111,offset:0,units:"degrees"},118:{field:"avg_right_power_phase",type:"uint8",scale:.7111111,offset:0,units:"degrees"},119:{field:"avg_right_power_phase_peak",type:"uint8",scale:.7111111,offset:0,units:"degrees"},120:{field:"avg_power_position",type:"uint16",scale:null,offset:0,units:"watts"},121:{field:"max_power_position",type:"uint16",scale:null,offset:0,units:"watts"},122:{field:"avg_cadence_position",type:"uint8",scale:null,offset:0,units:"rpm"},123:{field:"max_cadence_position",type:"uint8",scale:null,offset:0,units:"rpm"},124:{field:"enhanced_avg_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},125:{field:"enhanced_max_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},126:{field:"enhanced_avg_altitude",type:"uint32",scale:5,offset:-500,units:"m"},127:{field:"enhanced_min_altitude",type:"uint32",scale:5,offset:-500,units:"m"},128:{field:"enhanced_max_altitude",type:"uint32",scale:5,offset:-500,units:"m"},129:{field:"avg_lev_motor_power",type:"uint16",scale:null,offset:0,units:"watts"},130:{field:"max_lev_motor_power",type:"uint16",scale:null,offset:0,units:"watts"},131:{field:"lev_battery_consumption",type:"uint8",scale:2,offset:0,units:"percent"},132:{field:"avg_vertical_ratio",type:"uint16",scale:100,offset:0,units:"percent"},133:{field:"avg_stance_time_balance",type:"uint16",scale:100,offset:0,units:"percent"},134:{field:"avg_step_length",type:"uint16",scale:10,offset:0,units:"mm"},137:{field:"total_anaerobic_effect",type:"uint8",scale:10,offset:0,units:""},139:{field:"avg_vam",type:"uint16",scale:1e3,offset:0,units:"m/s"},192:{field:"workout_feel",type:"uint8",scale:null,offset:0,units:""},193:{field:"workout_rpe",type:"uint8",scale:10,offset:0,units:""}},19:{name:"lap",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"event",type:"event",scale:null,offset:0,units:""},1:{field:"event_type",type:"event_type",scale:null,offset:0,units:""},2:{field:"start_time",type:"date_time",scale:null,offset:0,units:""},3:{field:"start_position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},4:{field:"start_position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},5:{field:"end_position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},6:{field:"end_position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},7:{field:"total_elapsed_time",type:"uint32",scale:1e3,offset:0,units:"s"},8:{field:"total_timer_time",type:"uint32",scale:1e3,offset:0,units:"s"},9:{field:"total_distance",type:"uint32",scale:100,offset:0,units:"m"},10:{field:"total_cycles",type:"uint32",scale:null,offset:0,units:"cycles"},11:{field:"total_calories",type:"uint16",scale:null,offset:0,units:"kcal"},12:{field:"total_fat_calories",type:"uint16",scale:null,offset:0,units:"kcal"},13:{field:"avg_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},14:{field:"max_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},15:{field:"avg_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},16:{field:"max_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},17:{field:"avg_cadence",type:"uint8",scale:null,offset:0,units:"rpm"},18:{field:"max_cadence",type:"uint8",scale:null,offset:0,units:"rpm"},19:{field:"avg_power",type:"uint16",scale:null,offset:0,units:"watts"},20:{field:"max_power",type:"uint16",scale:null,offset:0,units:"watts"},21:{field:"total_ascent",type:"uint16",scale:null,offset:0,units:"m"},22:{field:"total_descent",type:"uint16",scale:null,offset:0,units:"m"},23:{field:"intensity",type:"intensity",scale:null,offset:0,units:""},24:{field:"lap_trigger",type:"lap_trigger",scale:null,offset:0,units:""},25:{field:"sport",type:"sport",scale:null,offset:0,units:""},26:{field:"event_group",type:"uint8",scale:null,offset:0,units:""},32:{field:"num_lengths",type:"uint16",scale:null,offset:0,units:"lengths"},33:{field:"normalized_power",type:"uint16",scale:null,offset:0,units:"watts"},34:{field:"left_right_balance",type:"left_right_balance_100",scale:100,offset:0,units:"%"},35:{field:"first_length_index",type:"uint16",scale:null,offset:0,units:""},37:{field:"avg_stroke_distance",type:"uint16",scale:100,offset:0,units:"m"},38:{field:"swim_stroke",type:"swim_stroke",scale:null,offset:0,units:""},39:{field:"sub_sport",type:"sub_sport",scale:null,offset:0,units:""},40:{field:"num_active_lengths",type:"uint16",scale:null,offset:0,units:"lengths"},41:{field:"total_work",type:"uint32",scale:null,offset:0,units:"J"},42:{field:"avg_altitude",type:"uint16",scale:5,offset:-500,units:"m"},43:{field:"max_altitude",type:"uint16",scale:5,offset:-500,units:"m"},44:{field:"gps_accuracy",type:"uint8",scale:null,offset:0,units:"m"},45:{field:"avg_grade",type:"sint16",scale:100,offset:0,units:"%"},46:{field:"avg_pos_grade",type:"sint16",scale:100,offset:0,units:"%"},47:{field:"avg_neg_grade",type:"sint16",scale:100,offset:0,units:"%"},48:{field:"max_pos_grade",type:"sint16",scale:100,offset:0,units:"%"},49:{field:"max_neg_grade",type:"sint16",scale:100,offset:0,units:"%"},50:{field:"avg_temperature",type:"sint8",scale:null,offset:0,units:"C"},51:{field:"max_temperature",type:"sint8",scale:null,offset:0,units:"C"},52:{field:"total_moving_time",type:"uint32",scale:1e3,offset:0,units:"s"},53:{field:"avg_pos_vertical_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},54:{field:"avg_neg_vertical_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},55:{field:"max_pos_vertical_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},56:{field:"max_neg_vertical_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},57:{field:"time_in_hr_zone",type:"uint32_array",scale:1e3,offset:0,units:"s"},58:{field:"time_in_speed_zone",type:"uint32_array",scale:1e3,offset:0,units:"s"},59:{field:"time_in_cadence_zone",type:"uint32_array",scale:1e3,offset:0,units:"s"},60:{field:"time_in_power_zone",type:"uint32_array",scale:1e3,offset:0,units:"s"},61:{field:"repetition_num",type:"uint16",scale:null,offset:0,units:""},62:{field:"min_altitude",type:"uint16",scale:5,offset:-500,units:"m"},63:{field:"min_heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},71:{field:"wkt_step_index",type:"message_index",scale:null,offset:0,units:""},74:{field:"opponent_score",type:"uint16",scale:null,offset:0,units:""},75:{field:"stroke_count",type:"uint16",scale:null,offset:0,units:"counts"},76:{field:"zone_count",type:"uint16",scale:null,offset:0,units:"counts"},77:{field:"avg_vertical_oscillation",type:"uint16",scale:10,offset:0,units:"mm"},78:{field:"avg_stance_time_percent",type:"uint16",scale:100,offset:0,units:"percent"},79:{field:"avg_stance_time",type:"uint16",scale:10,offset:0,units:"ms"},80:{field:"avg_fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},81:{field:"max_fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},82:{field:"total_fractional_cycles",type:"uint8",scale:128,offset:0,units:"cycles"},83:{field:"player_score",type:"uint16",scale:null,offset:0,units:""},84:{field:"avg_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},85:{field:"min_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},86:{field:"max_total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},87:{field:"avg_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},88:{field:"min_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},89:{field:"max_saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},91:{field:"avg_left_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},92:{field:"avg_right_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},93:{field:"avg_left_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},94:{field:"avg_right_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},95:{field:"avg_combined_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},98:{field:"time_standing",type:"uint32",scale:1e3,offset:0,units:"s"},99:{field:"stand_count",type:"uint16",scale:null,offset:0,units:""},100:{field:"avg_left_pco",type:"sint8",scale:null,offset:0,units:"mm"},101:{field:"avg_right_pco",type:"sint8",scale:null,offset:0,units:"mm"},102:{field:"avg_left_power_phase",type:"uint8",scale:.7111111,offset:0,units:"degrees"},103:{field:"avg_left_power_phase_peak",type:"uint8",scale:.7111111,offset:0,units:"degrees"},104:{field:"avg_right_power_phase",type:"uint8",scale:.7111111,offset:0,units:"degrees"},105:{field:"avg_right_power_phase_peak",type:"uint8",scale:.7111111,offset:0,units:"degrees"},106:{field:"avg_power_position",type:"uint16",scale:null,offset:0,units:"watts"},107:{field:"max_power_position",type:"uint16",scale:null,offset:0,units:"watts"},108:{field:"avg_cadence_position",type:"uint8",scale:null,offset:0,units:"rpm"},109:{field:"max_cadence_position",type:"uint8",scale:null,offset:0,units:"rpm"},110:{field:"enhanced_avg_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},111:{field:"enhanced_max_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},112:{field:"enhanced_avg_altitude",type:"uint32",scale:5,offset:-500,units:"m"},113:{field:"enhanced_min_altitude",type:"uint32",scale:5,offset:-500,units:"m"},114:{field:"enhanced_max_altitude",type:"uint32",scale:5,offset:-500,units:"m"},115:{field:"avg_lev_motor_power",type:"uint16",scale:null,offset:0,units:"watts"},116:{field:"max_lev_motor_power",type:"uint16",scale:null,offset:0,units:"watts"},117:{field:"lev_battery_consumption",type:"uint8",scale:2,offset:0,units:"percent"},118:{field:"avg_vertical_ratio",type:"uint16",scale:100,offset:0,units:"percent"},119:{field:"avg_stance_time_balance",type:"uint16",scale:100,offset:0,units:"percent"},120:{field:"avg_step_length",type:"uint16",scale:10,offset:0,units:"mm"},121:{field:"avg_vam",type:"uint16",scale:1e3,offset:0,units:"m/s"}},20:{name:"record",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},1:{field:"position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},2:{field:"altitude",type:"uint16",scale:5,offset:-500,units:"m"},3:{field:"heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},4:{field:"cadence",type:"uint8",scale:null,offset:0,units:"rpm"},5:{field:"distance",type:"uint32",scale:100,offset:0,units:"m"},6:{field:"speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},7:{field:"power",type:"uint16",scale:null,offset:0,units:"watts"},8:{field:"compressed_speed_distance",type:"byte",scale:100.16,offset:0,units:"m/s,m"},9:{field:"grade",type:"sint16",scale:100,offset:0,units:"%"},10:{field:"resistance",type:"uint8",scale:null,offset:0,units:""},11:{field:"time_from_course",type:"sint32",scale:1e3,offset:0,units:"s"},12:{field:"cycle_length",type:"uint8",scale:100,offset:0,units:"m"},13:{field:"temperature",type:"sint8",scale:null,offset:0,units:"C"},17:{field:"speed_1s",type:"uint8",scale:16,offset:0,units:"m/s"},18:{field:"cycles",type:"uint8",scale:null,offset:0,units:"cycles"},19:{field:"total_cycles",type:"uint32",scale:null,offset:0,units:"cycles"},28:{field:"compressed_accumulated_power",type:"uint16",scale:null,offset:0,units:"watts"},29:{field:"accumulated_power",type:"uint32",scale:null,offset:0,units:"watts"},30:{field:"left_right_balance",type:"left_right_balance",scale:null,offset:0,units:""},31:{field:"gps_accuracy",type:"uint8",scale:null,offset:0,units:"m"},32:{field:"vertical_speed",type:"sint16",scale:1e3,offset:0,units:"m/s"},33:{field:"calories",type:"uint16",scale:null,offset:0,units:"kcal"},39:{field:"vertical_oscillation",type:"uint16",scale:10,offset:0,units:"mm"},40:{field:"stance_time_percent",type:"uint16",scale:100,offset:0,units:"percent"},41:{field:"stance_time",type:"uint16",scale:10,offset:0,units:"ms"},42:{field:"activity_type",type:"activity_type",scale:null,offset:0,units:""},43:{field:"left_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},44:{field:"right_torque_effectiveness",type:"uint8",scale:2,offset:0,units:"percent"},45:{field:"left_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},46:{field:"right_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},47:{field:"combined_pedal_smoothness",type:"uint8",scale:2,offset:0,units:"percent"},48:{field:"time128",type:"uint8",scale:128,offset:0,units:"s"},49:{field:"stroke_type",type:"stroke_type",scale:null,offset:0,units:""},50:{field:"zone",type:"uint8",scale:null,offset:0,units:""},51:{field:"ball_speed",type:"uint16",scale:100,offset:0,units:"m/s"},52:{field:"cadence256",type:"uint16",scale:256,offset:0,units:"rpm"},53:{field:"fractional_cadence",type:"uint8",scale:128,offset:0,units:"rpm"},54:{field:"total_hemoglobin_conc",type:"uint16",scale:100,offset:0,units:"g/dL"},55:{field:"total_hemoglobin_conc_min",type:"uint16",scale:100,offset:0,units:"g/dL"},56:{field:"total_hemoglobin_conc_max",type:"uint16",scale:100,offset:0,units:"g/dL"},57:{field:"saturated_hemoglobin_percent",type:"uint16",scale:10,offset:0,units:"%"},58:{field:"saturated_hemoglobin_percent_min",type:"uint16",scale:10,offset:0,units:"%"},59:{field:"saturated_hemoglobin_percent_max",type:"uint16",scale:10,offset:0,units:"%"},62:{field:"device_index",type:"device_index",scale:null,offset:0,units:""},67:{field:"left_pco",type:"sint8",scale:null,offset:0,units:"mm"},68:{field:"right_pco",type:"sint8",scale:null,offset:0,units:"mm"},69:{field:"left_power_phase",type:"uint8",scale:.7111111,offset:0,units:"degrees"},70:{field:"left_power_phase_peak",type:"uint8",scale:.7111111,offset:0,units:"degrees"},71:{field:"right_power_phase",type:"uint8",scale:.7111111,offset:0,units:"degrees"},72:{field:"right_power_phase_peak",type:"uint8",scale:.7111111,offset:0,units:"degrees"},73:{field:"enhanced_speed",type:"uint32",scale:1e3,offset:0,units:"m/s"},78:{field:"enhanced_altitude",type:"uint32",scale:5,offset:-500,units:"m"},81:{field:"battery_soc",type:"uint8",scale:2,offset:0,units:"percent"},82:{field:"motor_power",type:"uint16",scale:null,offset:0,units:"watts"},83:{field:"vertical_ratio",type:"uint16",scale:100,offset:0,units:"percent"},84:{field:"stance_time_balance",type:"uint16",scale:100,offset:0,units:"percent"},85:{field:"step_length",type:"uint16",scale:10,offset:0,units:"mm"},91:{field:"absolute_pressure",type:"uint32",scale:null,offset:0,units:"Pa"},92:{field:"depth",type:"uint32",scale:null,offset:0,units:"m"},93:{field:"next_stop_depth",type:"uint32",scale:null,offset:0,units:"m"},94:{field:"next_stop_time",type:"uint32",scale:null,offset:0,units:"s"},95:{field:"time_to_surface",type:"uint32",scale:null,offset:0,units:"s"},96:{field:"ndl_time",type:"uint32",scale:null,offset:0,units:"s"},97:{field:"cns_load",type:"uint8",scale:null,offset:0,units:"percent"},98:{field:"n2_load",type:"uint16",scale:null,offset:0,units:"percent"}},21:{name:"event",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"event",type:"event",scale:null,offset:0,units:""},1:{field:"event_type",type:"event_type",scale:null,offset:0,units:""},2:{field:"data16",type:"uint16",scale:null,offset:0,units:""},3:{field:"data",type:"uint32",scale:null,offset:0,units:""},4:{field:"event_group",type:"uint8",scale:null,offset:0,units:""},7:{field:"score",type:"uint16",scale:null,offset:0,units:""},8:{field:"opponent_score",type:"uint16",scale:null,offset:0,units:""},9:{field:"front_gear_num",type:"uint8z",scale:null,offset:0,units:""},10:{field:"front_gear",type:"uint8z",scale:null,offset:0,units:""},11:{field:"rear_gear_num",type:"uint8z",scale:null,offset:0,units:""},12:{field:"rear_gear",type:"uint8z",scale:null,offset:0,units:""},13:{field:"device_index",type:"device_index",scale:null,offset:0,units:""}},23:{name:"device_info",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"device_index",type:"uint8",scale:null,offset:0,units:""},1:{field:"device_type",type:"antplus_device_type",scale:null,offset:0,units:""},2:{field:"manufacturer",type:"manufacturer",scale:null,offset:0,units:""},3:{field:"serial_number",type:"uint32z",scale:null,offset:0,units:""},4:{field:"product",type:"uint16",scale:null,offset:0,units:""},5:{field:"software_version",type:"uint16",scale:100,offset:0,units:""},6:{field:"hardware_version",type:"uint8",scale:null,offset:0,units:""},7:{field:"cum_operating_time",type:"uint32",scale:null,offset:0,units:"s"},10:{field:"battery_voltage",type:"uint16",scale:256,offset:0,units:"V"},11:{field:"battery_status",type:"battery_status",scale:null,offset:0,units:""},18:{field:"sensor_position",type:"body_location",scale:null,offset:0,units:""},19:{field:"descriptor",type:"string",scale:null,offset:0,units:""},20:{field:"ant_transmission_type",type:"uint8z",scale:null,offset:0,units:""},21:{field:"ant_device_number",type:"uint16z",scale:null,offset:0,units:""},22:{field:"ant_network",type:"ant_network",scale:null,offset:0,units:""},25:{field:"source_type",type:"source_type",scale:null,offset:0,units:""},27:{field:"product_name",type:"string",scale:null,offset:0,units:""}},26:{name:"workout",4:{field:"sport",type:"sport",scale:null,offset:0,units:""},5:{field:"capabilities",type:"workout_capabilities",scale:null,offset:0,units:""},6:{field:"num_valid_steps",type:"uint16",scale:null,offset:0,units:""},8:{field:"wkt_name",type:"string",scale:null,offset:0,units:""}},27:{name:"workout_step",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"wkt_step_name",type:"string",scale:null,offset:0,units:""},1:{field:"duration_type",type:"wkt_step_duration",scale:null,offset:0,units:""},2:{field:"duration_value",type:"uint32",scale:null,offset:0,units:""},3:{field:"target_type",type:"wkt_step_target",scale:null,offset:0,units:""},4:{field:"target_value",type:"uint32",scale:null,offset:0,units:""},5:{field:"custom_target_value_low",type:"uint32",scale:null,offset:0,units:""},6:{field:"custom_target_value_high",type:"uint32",scale:null,offset:0,units:""},7:{field:"intensity",type:"intensity",scale:null,offset:0,units:""}},30:{name:"weight_scale",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"weight",type:"weight",scale:100,offset:0,units:"kg"},1:{field:"percent_fat",type:"uint16",scale:100,offset:0,units:"%"},2:{field:"percent_hydration",type:"uint16",scale:100,offset:0,units:"%"},3:{field:"visceral_fat_mass",type:"uint16",scale:100,offset:0,units:"kg"},4:{field:"bone_mass",type:"uint16",scale:100,offset:0,units:"kg"},5:{field:"muscle_mass",type:"uint16",scale:100,offset:0,units:"kg"},7:{field:"basal_met",type:"uint16",scale:4,offset:0,units:"kcal/day"},8:{field:"physique_rating",type:"uint8",scale:null,offset:0,units:""},9:{field:"active_met",type:"uint16",scale:4,offset:0,units:"kcal/day"},10:{field:"metabolic_age",type:"uint8",scale:null,offset:0,units:"years"},11:{field:"visceral_fat_rating",type:"uint8",scale:null,offset:0,units:""},12:{field:"user_profile_index",type:"message_index",scale:null,offset:0,units:""}},31:{name:"course",4:{field:"sport",type:"sport",scale:null,offset:0,units:""},5:{field:"name",type:"string",scale:null,offset:0,units:""},6:{field:"capabilities",type:"course_capabilities",scale:null,offset:0,units:""}},32:{name:"course_point",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},1:{field:"timestamp",type:"date_time",scale:null,offset:0,units:""},2:{field:"position_lat",type:"sint32",scale:null,offset:0,units:"semicircles"},3:{field:"position_long",type:"sint32",scale:null,offset:0,units:"semicircles"},4:{field:"distance",type:"uint32",scale:100,offset:0,units:"m"},5:{field:"type",type:"course_point",scale:null,offset:0,units:""},6:{field:"name",type:"string",scale:null,offset:0,units:""},8:{field:"favorite",type:"bool",scale:null,offset:0,units:""}},33:{name:"totals",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"timer_time",type:"uint32",scale:null,offset:0,units:"s"},1:{field:"distance",type:"uint32",scale:null,offset:0,units:"m"},2:{field:"calories",type:"uint32",scale:null,offset:0,units:"kcal"},3:{field:"sport",type:"sport",scale:null,offset:0,units:""},4:{field:"elapsed_time",type:"uint32",scale:null,offset:0,units:"s"},5:{field:"sessions",type:"uint16",scale:null,offset:0,units:""},6:{field:"active_time",type:"uint32",scale:null,offset:0,units:"s"},9:{field:"sport_index",type:"uint8",scale:null,offset:0,units:""}},34:{name:"activity",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:""},0:{field:"total_timer_time",type:"uint32",scale:1e3,offset:0,units:"s"},1:{field:"num_sessions",type:"uint16",scale:null,offset:0,units:""},2:{field:"type",type:"activity",scale:null,offset:0,units:""},3:{field:"event",type:"event",scale:null,offset:0,units:""},4:{field:"event_type",type:"event_type",scale:null,offset:0,units:""},5:{field:"local_timestamp",type:"local_date_time",scale:null,offset:0,units:""},6:{field:"event_group",type:"uint8",scale:null,offset:0,units:""}},35:{name:"software",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},3:{field:"version",type:"uint16",scale:100,offset:0,units:""},5:{field:"part_number",type:"string",scale:null,offset:0,units:""}},37:{name:"file_capabilities",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"type",type:"file",scale:null,offset:0,units:""},1:{field:"flags",type:"file_flags",scale:null,offset:0,units:""},2:{field:"directory",type:"string",scale:null,offset:0,units:""},3:{field:"max_count",type:"uint16",scale:null,offset:0,units:""},4:{field:"max_size",type:"uint32",scale:null,offset:0,units:"bytes"}},38:{name:"mesg_capabilities",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"file",type:"file",scale:null,offset:0,units:""},1:{field:"mesg_num",type:"mesg_num",scale:null,offset:0,units:""},2:{field:"count_type",type:"mesg_count",scale:null,offset:0,units:""},3:{field:"count",type:"uint16",scale:null,offset:0,units:""}},39:{name:"field_capabilities",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"file",type:"file",scale:null,offset:0,units:""},1:{field:"mesg_num",type:"mesg_num",scale:null,offset:0,units:""},2:{field:"field_num",type:"uint8",scale:null,offset:0,units:""},3:{field:"count",type:"uint16",scale:null,offset:0,units:""}},49:{name:"file_creator",0:{field:"software_version",type:"uint16",scale:null,offset:0,units:""},1:{field:"hardware_version",type:"uint8",scale:null,offset:0,units:""}},51:{name:"blood_pressure",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"systolic_pressure",type:"uint16",scale:null,offset:0,units:"mmHg"},1:{field:"diastolic_pressure",type:"uint16",scale:null,offset:0,units:"mmHg"},2:{field:"mean_arterial_pressure",type:"uint16",scale:null,offset:0,units:"mmHg"},3:{field:"map_3_sample_mean",type:"uint16",scale:null,offset:0,units:"mmHg"},4:{field:"map_morning_values",type:"uint16",scale:null,offset:0,units:"mmHg"},5:{field:"map_evening_values",type:"uint16",scale:null,offset:0,units:"mmHg"},6:{field:"heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},7:{field:"heart_rate_type",type:"hr_type",scale:null,offset:0,units:""},8:{field:"status",type:"bp_status",scale:null,offset:0,units:""},9:{field:"user_profile_index",type:"message_index",scale:null,offset:0,units:""}},55:{name:"monitoring",253:{field:"timestamp",type:"uint32",scale:null,offset:0,units:""},0:{field:"device_index",type:"device_index",scale:null,offset:0,units:""},1:{field:"calories",type:"uint16",scale:null,offset:0,units:"kcal"},2:{field:"distance",type:"float32",scale:null,offset:0,units:"m"},3:{field:"cycles",type:"float32",scale:null,offset:0,units:"cycles"},4:{field:"active_time",type:"float32",scale:null,offset:0,units:"s"},5:{field:"activity_type",type:"activity_type",scale:null,offset:0,units:""},6:{field:"activity_subtype",type:"activity_subtype",scale:null,offset:0,units:""},7:{field:"activity_level",type:"activity_level",scale:null,offset:0,units:"s"},8:{field:"distance16",type:"uint16",scale:null,offset:0,units:"m"},9:{field:"cycles16",type:"uint16",scale:null,offset:0,units:"cycles"},10:{field:"active_time16",type:"uint16",scale:null,offset:0,units:""},11:{field:"local_timestamp",type:"uint32",scale:null,offset:0,units:""},12:{field:"temperature",type:"float32",scale:null,offset:0,units:"C"},14:{field:"temperature_min",type:"float32",scale:null,offset:0,units:"C"},15:{field:"temperature_max",type:"float32",scale:null,offset:0,units:"C"},16:{field:"activity_time",type:"int32",scale:null,offset:0,units:""},19:{field:"active_calories",type:"uint16",scale:null,offset:0,units:"kcal"},24:{field:"current_activity_type_intensity",type:"uint8",scale:null,offset:0,units:""},25:{field:"timestamp_min8",type:"uint8",scale:null,offset:0,units:""},26:{field:"timestamp16",type:"uint16",scale:null,offset:0,units:""},27:{field:"heart_rate",type:"uint8",scale:null,offset:0,units:"bpm"},28:{field:"intensity",type:"uint8",scale:null,offset:0,units:""},29:{field:"duration_min",type:"uint16",scale:null,offset:0,units:""},30:{field:"duration",type:"uint32",scale:null,offset:0,units:""},31:{field:"ascent",type:"float32",scale:null,offset:0,units:"m"},32:{field:"descent",type:"float32",scale:null,offset:0,units:"m"},33:{field:"moderate_activity_minutes",type:"uint16",scale:null,offset:0,units:""},34:{field:"vigorous_activity_inutes",type:"uint16",scale:null,offset:0,units:""}},78:{name:"hrv",0:{field:"time",type:"uint16_array",scale:1e3,offset:0,units:"s"}},101:{name:"length",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"event",type:"event",scale:null,offset:0,units:""},1:{field:"event_type",type:"event_type",scale:null,offset:0,units:""},2:{field:"start_time",type:"date_time",scale:null,offset:0,units:""},3:{field:"total_elapsed_time",type:"uint32",scale:1e3,offset:0,units:"s"},4:{field:"total_timer_time",type:"uint32",scale:1e3,offset:0,units:"s"},5:{field:"total_strokes",type:"uint16",scale:null,offset:0,units:"strokes"},6:{field:"avg_speed",type:"uint16",scale:1e3,offset:0,units:"m/s"},7:{field:"swim_stroke",type:"swim_stroke",scale:null,offset:0,units:"swim_stroke"},9:{field:"avg_swimming_cadence",type:"uint8",scale:null,offset:0,units:"strokes/min"},10:{field:"event_group",type:"uint8",scale:null,offset:0,units:""},11:{field:"total_calories",type:"uint16",scale:null,offset:0,units:"kcal"},12:{field:"length_type",type:"length_type",scale:null,offset:0,units:"length_type"},18:{field:"player_score",type:"uint16",scale:null,offset:0,units:""},19:{field:"opponent_score",type:"uint16",scale:null,offset:0,units:""},20:{field:"stroke_count",type:"uint16",scale:null,offset:0,units:"counts"},21:{field:"zone_count",type:"uint16",scale:null,offset:0,units:"counts"}},103:{name:"monitoring_info",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:""},0:{field:"local_timestamp",type:"uint32",scale:null,offset:0,units:""},1:{field:"activity_type",type:"activity_type",scale:null,offset:0,units:""},3:{field:"cycles_to_distance",type:"float32",scale:null,offset:0,units:"cycles"},4:{field:"cycles_to_calories",type:"float32",scale:null,offset:0,units:"kcal"},5:{field:"resting_metabolic_rate",type:"uint16",scale:null,offset:0,units:""}},108:{name:"o_hr_settings",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:""},0:{field:"enabled",type:"byte",scale:null,offset:0,units:""}},206:{name:"field_description",0:{field:"developer_data_index",type:"uint8",scale:null,offset:0,units:""},1:{field:"field_definition_number",type:"uint8",scale:null,offset:0,units:""},2:{field:"fit_base_type_id",type:"uint8",scale:null,offset:0,units:""},3:{field:"field_name",type:"string",scale:null,offset:0,units:""},6:{field:"scale",type:"uint8",scale:null,offset:0,units:""},7:{field:"offset",type:"sint8",scale:null,offset:0,units:""},8:{field:"units",type:"string",scale:null,offset:0,units:""},15:{field:"native_field_num",type:"uint8",scale:null,offset:0,units:""}},227:{name:"stress_level",0:{field:"stress_level_value",type:"uint16",scale:null,offset:0,units:""},1:{field:"stress_level_time",type:"date_time",scale:null,offset:0,units:"s"},2:{field:"field_two",type:"sint8",scale:null,offset:0,units:""},3:{field:"body_battery",type:"uint8",scale:null,offset:0,units:""},4:{field:"field_four",type:"uint8",scale:null,offset:0,units:""}},207:{name:"developer_data_id",0:{field:"developer_id",type:"uint8",scale:null,offset:0,units:""},1:{field:"application_id",type:"byte_array",scale:null,offset:0,units:""},2:{field:"manufacturer_id",type:"manufacturer",scale:null,offset:0,units:""},3:{field:"developer_data_index",type:"uint8",scale:null,offset:0,units:""},4:{field:"application_version",type:"uint8",scale:null,offset:0,units:""}},258:{name:"dive_settings",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"name",type:"string",scale:null,offset:0,units:""},1:{field:"model",type:"tissue_model_type",scale:null,offset:0,units:""},2:{field:"gf_low",type:"uint8",scale:null,offset:0,units:"percent"},3:{field:"gf_high",type:"uint8",scale:null,offset:0,units:"percent"},4:{field:"water_type",type:"water_type",scale:null,offset:0,units:""},5:{field:"water_density",type:"float32",scale:null,offset:0,units:"kg/m^3"},6:{field:"po2_warn",type:"uint8",scale:null,offset:0,units:"percent"},7:{field:"po2_critical",type:"uint8",scale:null,offset:0,units:"percent"},8:{field:"po2_deco",type:"uint8",scale:null,offset:0,units:"percent"},9:{field:"safety_stop_enabled",type:"bool",scale:null,offset:0,units:""},10:{field:"bottom_depth",type:"float32",scale:null,offset:0,units:""},11:{field:"bottom_time",type:"uint32",scale:null,offset:0,units:""},12:{field:"apnea_countdown_enabled",type:"bool",scale:null,offset:0,units:""},13:{field:"apnea_countdown_time",type:"uint32",scale:null,offset:0,units:""},14:{field:"backlight_mode",type:"dive_backlight_mode",scale:null,offset:0,units:""},15:{field:"backlight_brightness",type:"uint8",scale:null,offset:0,units:""},16:{field:"backlight_timeout",type:"backlight_timeout",scale:null,offset:0,units:""},17:{field:"repeat_dive_time",type:"uint16",scale:null,offset:0,units:"s"},18:{field:"safety_stop_time",type:"uint16",scale:null,offset:0,units:"s"},19:{field:"heart_rate_source_type",type:"source_type",scale:null,offset:0,units:""},20:{field:"heart_rate_source",type:"uint8",scale:null,offset:0,units:""}},259:{name:"dive_gas",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"helium_content",type:"uint8",scale:null,offset:0,units:"percent"},1:{field:"oxygen_content",type:"uint8",scale:null,offset:0,units:"percent"},2:{field:"status",type:"dive_gas_status",scale:null,offset:0,units:""}},262:{name:"dive_alarm",254:{field:"message_index",type:"message_index",scale:null,offset:0,units:""},0:{field:"depth",type:"uint32",scale:null,offset:0,units:"m"},1:{field:"time",type:"sint32",scale:null,offset:0,units:"s"},2:{field:"enabled",type:"bool",scale:null,offset:0,units:""},3:{field:"alarm_type",type:"dive_alarm_type",scale:null,offset:0,units:""},4:{field:"sound",type:"tone",scale:null,offset:0,units:""},5:{field:"dive_types",type:"sub_sport",scale:null,offset:0,units:""}},268:{name:"dive_summary",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"reference_mesg",type:"mesg_num",scale:null,offset:0,units:""},1:{field:"reference_index",type:"message_index",scale:null,offset:0,units:""},2:{field:"avg_depth",type:"uint32",scale:null,offset:0,units:"m"},3:{field:"max_depth",type:"uint32",scale:null,offset:0,units:"m"},4:{field:"surface_interval",type:"uint32",scale:null,offset:0,units:"s"},5:{field:"start_cns",type:"uint8",scale:null,offset:0,units:"percent"},6:{field:"end_cns",type:"uint8",scale:null,offset:0,units:"percent"},7:{field:"start_n2",type:"uint16",scale:null,offset:0,units:"percent"},8:{field:"end_n2",type:"uint16",scale:null,offset:0,units:"percent"},9:{field:"o2_toxicity",type:"uint16",scale:null,offset:0,units:"OTUs"},10:{field:"dive_number",type:"uint32",scale:null,offset:0,units:""},11:{field:"bottom_time",type:"uint32",scale:null,offset:0,units:"s"}},319:{name:"tank_update",253:{field:"timestamp",type:"date_time",scale:null,offset:0,units:"s"},0:{field:"sensor",type:"uint32",scale:null,offset:0,units:""},1:{field:"pressure",type:"uint16",scale:null,offset:0,units:"cbar"}},323:{name:"tank_summary",0:{field:"sensor",type:"uint32",scale:null,offset:0,units:""},1:{field:"start_pressure",type:"uint16",scale:null,offset:0,units:"cbar"},2:{field:"end_pressure",type:"uint16",scale:null,offset:0,units:"cbar"},3:{field:"volume_used",type:"uint16",scale:null,offset:0,units:"cbar"}}},types:{file:{1:"device",2:"settings",3:"sport",4:"activity",5:"workout",6:"course",7:"schedules",9:"weight",10:"totals",11:"goals",14:"blood_pressure",15:"monitoring_a",20:"activity_summary",28:"monitoring_daily",32:"monitoring_b",34:"segment",35:"segment_list",40:"exd_configuration",247:"mfg_range_min",254:"mfg_range_max"},mesg_num:{0:"file_id",1:"capabilities",2:"device_settings",3:"user_profile",4:"hrm_profile",5:"sdm_profile",6:"bike_profile",7:"zones_target",8:"hr_zone",9:"power_zone",10:"met_zone",12:"sport",15:"goal",18:"session",19:"lap",20:"record",21:"event",23:"device_info",26:"workout",27:"workout_step",28:"schedule",30:"weight_scale",31:"course",32:"course_point",33:"totals",34:"activity",35:"software",37:"file_capabilities",38:"mesg_capabilities",39:"field_capabilities",49:"file_creator",51:"blood_pressure",53:"speed_zone",55:"monitoring",72:"training_file",78:"hrv",80:"ant_rx",81:"ant_tx",82:"ant_channel_id",101:"length",103:"monitoring_info",105:"pad",106:"slave_device",127:"connectivity",128:"weather_conditions",129:"weather_alert",131:"cadence_zone",132:"hr",142:"segment_lap",145:"memo_glob",148:"segment_id",149:"segment_leaderboard_entry",150:"segment_point",151:"segment_file",158:"workout_session",159:"watchface_settings",160:"gps_metadata",161:"camera_event",162:"timestamp_correlation",164:"gyroscope_data",165:"accelerometer_data",167:"three_d_sensor_calibration",169:"video_frame",174:"obdii_data",177:"nmea_sentence",178:"aviation_attitude",184:"video",185:"video_title",186:"video_description",187:"video_clip",200:"exd_screen_configuration",201:"exd_data_field_configuration",202:"exd_data_concept_configuration",206:"field_description",207:"developer_data_id",208:"magnetometer_data",209:"barometer_data",210:"one_d_sensor_calibration",225:"set",227:"stress_level",258:"dive_settings",259:"dive_gas",262:"dive_alarm",264:"exercise_title",268:"dive_summary",285:"jump",317:"climb_pro",319:"tank_pressure",323:"tank_summary",65280:"mfg_range_min",65534:"mfg_range_max"},checksum:{0:"clear",1:"ok"},file_flags:{0:0,2:"read",4:"write",8:"erase"},mesg_count:{0:"num_per_file",1:"max_per_file",2:"max_per_file_type"},date_time:{0:0,268435456:"min"},local_date_time:{0:0,268435456:"min"},message_index:{0:0,4095:"mask",28672:"reserved",32768:"selected"},gender:{0:"female",1:"male"},language:{0:"english",1:"french",2:"italian",3:"german",4:"spanish",5:"croatian",6:"czech",7:"danish",8:"dutch",9:"finnish",10:"greek",11:"hungarian",12:"norwegian",13:"polish",14:"portuguese",15:"slovakian",16:"slovenian",17:"swedish",18:"russian",19:"turkish",20:"latvian",21:"ukrainian",22:"arabic",23:"farsi",24:"bulgarian",25:"romanian",26:"chinese",27:"japanese",28:"korean",29:"taiwanese",30:"thai",31:"hebrew",32:"brazilian_portuguese",33:"indonesian",34:"malaysian",35:"vietnamese",36:"burmese",37:"mongolian",254:"custom"},language_bits_0:{0:0,1:"english",2:"french",4:"italian",8:"german",16:"spanish",32:"croatian",64:"czech",128:"danish"},language_bits_1:{0:0,1:"dutch",2:"finnish",4:"greek",8:"hungarian",16:"norwegian",32:"polish",64:"portuguese",128:"slovakian"},language_bits_2:{0:0,1:"slovenian",2:"swedish",4:"russian",8:"turkish",16:"latvian",32:"ukrainian",64:"arabic",128:"farsi"},language_bits_3:{0:0,1:"bulgarian",2:"romanian",4:"chinese",8:"japanese",16:"korean",32:"taiwanese",64:"thai",128:"hebrew"},language_bits_4:{0:0,1:"brazilian_portuguese",2:"indonesian",4:"malaysian",8:"vietnamese",16:"burmese",32:"mongolian"},time_zone:{0:"almaty",1:"bangkok",2:"bombay",3:"brasilia",4:"cairo",5:"cape_verde_is",6:"darwin",7:"eniwetok",8:"fiji",9:"hong_kong",10:"islamabad",11:"kabul",12:"magadan",13:"mid_atlantic",14:"moscow",15:"muscat",16:"newfoundland",17:"samoa",18:"sydney",19:"tehran",20:"tokyo",21:"us_alaska",22:"us_atlantic",23:"us_central",24:"us_eastern",25:"us_hawaii",26:"us_mountain",27:"us_pacific",28:"other",29:"auckland",30:"kathmandu",31:"europe_western_wet",32:"europe_central_cet",33:"europe_eastern_eet",34:"jakarta",35:"perth",36:"adelaide",37:"brisbane",38:"tasmania",39:"iceland",40:"amsterdam",41:"athens",42:"barcelona",43:"berlin",44:"brussels",45:"budapest",46:"copenhagen",47:"dublin",48:"helsinki",49:"lisbon",50:"london",51:"madrid",52:"munich",53:"oslo",54:"paris",55:"prague",56:"reykjavik",57:"rome",58:"stockholm",59:"vienna",60:"warsaw",61:"zurich",62:"quebec",63:"ontario",64:"manitoba",65:"saskatchewan",66:"alberta",67:"british_columbia",68:"boise",69:"boston",70:"chicago",71:"dallas",72:"denver",73:"kansas_city",74:"las_vegas",75:"los_angeles",76:"miami",77:"minneapolis",78:"new_york",79:"new_orleans",80:"phoenix",81:"santa_fe",82:"seattle",83:"washington_dc",84:"us_arizona",85:"chita",86:"ekaterinburg",87:"irkutsk",88:"kaliningrad",89:"krasnoyarsk",90:"novosibirsk",91:"petropavlovsk_kamchatskiy",92:"samara",93:"vladivostok",94:"mexico_central",95:"mexico_mountain",96:"mexico_pacific",97:"cape_town",98:"winkhoek",99:"lagos",100:"riyahd",101:"venezuela",102:"australia_lh",103:"santiago",253:"manual",254:"automatic"},display_measure:{0:"metric",1:"statute",2:"nautical"},display_heart:{0:"bpm",1:"max",2:"reserve"},display_power:{0:"watts",1:"percent_ftp"},display_position:{0:"degree",1:"degree_minute",2:"degree_minute_second",3:"austrian_grid",4:"british_grid",5:"dutch_grid",6:"hungarian_grid",7:"finnish_grid",8:"german_grid",9:"icelandic_grid",10:"indonesian_equatorial",11:"indonesian_irian",12:"indonesian_southern",13:"india_zone_0",14:"india_zone_IA",15:"india_zone_IB",16:"india_zone_IIA",17:"india_zone_IIB",18:"india_zone_IIIA",19:"india_zone_IIIB",20:"india_zone_IVA",21:"india_zone_IVB",22:"irish_transverse",23:"irish_grid",24:"loran",25:"maidenhead_grid",26:"mgrs_grid",27:"new_zealand_grid",28:"new_zealand_transverse",29:"qatar_grid",30:"modified_swedish_grid",31:"swedish_grid",32:"south_african_grid",33:"swiss_grid",34:"taiwan_grid",35:"united_states_grid",36:"utm_ups_grid",37:"west_malayan",38:"borneo_rso",39:"estonian_grid",40:"latvian_grid",41:"swedish_ref_99_grid"},switch:{0:"off",1:"on",2:"auto"},sport:{0:"generic",1:"running",2:"cycling",3:"transition",4:"fitness_equipment",5:"swimming",6:"basketball",7:"soccer",8:"tennis",9:"american_football",10:"training",11:"walking",12:"cross_country_skiing",13:"alpine_skiing",14:"snowboarding",15:"rowing",16:"mountaineering",17:"hiking",18:"multisport",19:"paddling",20:"flying",21:"e_biking",22:"motorcycling",23:"boating",24:"driving",25:"golf",26:"hang_gliding",27:"horseback_riding",28:"hunting",29:"fishing",30:"inline_skating",31:"rock_climbing",32:"sailing",33:"ice_skating",34:"sky_diving",35:"snowshoeing",36:"snowmobiling",37:"stand_up_paddleboarding",38:"surfing",39:"wakeboarding",40:"water_skiing",41:"kayaking",42:"rafting",43:"windsurfing",44:"kitesurfing",45:"tactical",46:"jumpmaster",47:"boxing",48:"floor_climbing",53:"diving",254:"all"},sport_bits_0:{0:0,1:"generic",2:"running",4:"cycling",8:"transition",16:"fitness_equipment",32:"swimming",64:"basketball",128:"soccer"},sport_bits_1:{0:0,1:"tennis",2:"american_football",4:"training",8:"walking",16:"cross_country_skiing",32:"alpine_skiing",64:"snowboarding",128:"rowing"},sport_bits_2:{0:0,1:"mountaineering",2:"hiking",4:"multisport",8:"paddling",16:"flying",32:"e_biking",64:"motorcycling",128:"boating"},sport_bits_3:{0:0,1:"driving",2:"golf",4:"hang_gliding",8:"horseback_riding",16:"hunting",32:"fishing",64:"inline_skating",128:"rock_climbing"},sport_bits_4:{0:0,1:"sailing",2:"ice_skating",4:"sky_diving",8:"snowshoeing",16:"snowmobiling",32:"stand_up_paddleboarding",64:"surfing",128:"wakeboarding"},sport_bits_5:{0:0,1:"water_skiing",2:"kayaking",4:"rafting",8:"windsurfing",16:"kitesurfing",32:"tactical",64:"jumpmaster",128:"boxing"},sport_bits_6:{0:0,1:"floor_climbing"},sub_sport:{0:"generic",1:"treadmill",2:"street",3:"trail",4:"track",5:"spin",6:"indoor_cycling",7:"road",8:"mountain",9:"downhill",10:"recumbent",11:"cyclocross",12:"hand_cycling",13:"track_cycling",14:"indoor_rowing",15:"elliptical",16:"stair_climbing",17:"lap_swimming",18:"open_water",19:"flexibility_training",20:"strength_training",21:"warm_up",22:"match",23:"exercise",24:"challenge",25:"indoor_skiing",26:"cardio_training",27:"indoor_walking",28:"e_bike_fitness",29:"bmx",30:"casual_walking",31:"speed_walking",32:"bike_to_run_transition",33:"run_to_bike_transition",34:"swim_to_bike_transition",35:"atv",36:"motocross",37:"backcountry",38:"resort",39:"rc_drone",40:"wingsuit",41:"whitewater",42:"skate_skiing",43:"yoga",44:"pilates",45:"indoor_running",46:"gravel_cycling",47:"e_bike_mountain",48:"commuting",49:"mixed_surface",50:"navigate",51:"track_me",52:"map",53:"single_gas_diving",54:"multi_gas_diving",55:"gauge_diving",56:"apnea_diving",57:"apnea_hunting",58:"virtual_activity",59:"obstacle",254:"all"},sport_event:{0:"uncategorized",1:"geocaching",2:"fitness",3:"recreation",4:"race",5:"special_event",6:"training",7:"transportation",8:"touring"},activity:{0:"manual",1:"auto_multi_sport"},intensity:{0:"active",1:"rest",2:"warmup",3:"cooldown",4:"recovery",5:"interval",6:"other"},session_trigger:{0:"activity_end",1:"manual",2:"auto_multi_sport",3:"fitness_equipment"},autolap_trigger:{0:"time",1:"distance",2:"position_start",3:"position_lap",4:"position_waypoint",5:"position_marked",6:"off"},lap_trigger:{0:"manual",1:"time",2:"distance",3:"position_start",4:"position_lap",5:"position_waypoint",6:"position_marked",7:"session_end",8:"fitness_equipment"},time_mode:{0:"hour12",1:"hour24",2:"military",3:"hour_12_with_seconds",4:"hour_24_with_seconds",5:"utc"},backlight_mode:{0:"off",1:"manual",2:"key_and_messages",3:"auto_brightness",4:"smart_notifications",5:"key_and_messages_night",6:"key_and_messages_and_smart_notifications"},date_mode:{0:"day_month",1:"month_day"},backlight_timeout:{0:"infinite"},event:{0:"timer",3:"workout",4:"workout_step",5:"power_down",6:"power_up",7:"off_course",8:"session",9:"lap",10:"course_point",11:"battery",12:"virtual_partner_pace",13:"hr_high_alert",14:"hr_low_alert",15:"speed_high_alert",16:"speed_low_alert",17:"cad_high_alert",18:"cad_low_alert",19:"power_high_alert",20:"power_low_alert",21:"recovery_hr",22:"battery_low",23:"time_duration_alert",24:"distance_duration_alert",25:"calorie_duration_alert",26:"activity",27:"fitness_equipment",28:"length",32:"user_marker",33:"sport_point",36:"calibration",42:"front_gear_change",43:"rear_gear_change",44:"rider_position_change",45:"elev_high_alert",46:"elev_low_alert",47:"comm_timeout"},event_type:{0:"start",1:"stop",2:"consecutive_depreciated",3:"marker",4:"stop_all",5:"begin_depreciated",6:"end_depreciated",7:"end_all_depreciated",8:"stop_disable",9:"stop_disable_all"},timer_trigger:{0:"manual",1:"auto",2:"fitness_equipment"},fitness_equipment_state:{0:"ready",1:"in_use",2:"paused",3:"unknown"},tone:{0:"off",1:"tone",2:"vibrate",3:"tone_and_vibrate"},autoscroll:{0:"none",1:"slow",2:"medium",3:"fast"},activity_class:{0:0,100:"level_max",127:"level",128:"athlete"},hr_zone_calc:{0:"custom",1:"percent_max_hr",2:"percent_hrr"},pwr_zone_calc:{0:"custom",1:"percent_ftp"},wkt_step_duration:{0:"time",1:"distance",2:"hr_less_than",3:"hr_greater_than",4:"calories",5:"open",6:"repeat_until_steps_cmplt",7:"repeat_until_time",8:"repeat_until_distance",9:"repeat_until_calories",10:"repeat_until_hr_less_than",11:"repeat_until_hr_greater_than",12:"repeat_until_power_less_than",13:"repeat_until_power_greater_than",14:"power_less_than",15:"power_greater_than",16:"training_peaks_tss",17:"repeat_until_power_last_lap_less_than",18:"repeat_until_max_power_last_lap_less_than",19:"power_3s_less_than",20:"power_10s_less_than",21:"power_30s_less_than",22:"power_3s_greater_than",23:"power_10s_greater_than",24:"power_30s_greater_than",25:"power_lap_less_than",26:"power_lap_greater_than",27:"repeat_until_training_peaks_tss",28:"repetition_time",29:"reps"},wkt_step_target:{0:"speed",1:"heart_rate",2:"open",3:"cadence",4:"power",5:"grade",6:"resistance",7:"power_3s",8:"power_10s",9:"power_30s",10:"power_lap",11:"swim_stroke",12:"speed_lap",13:"heart_rate_lap"},goal:{0:"time",1:"distance",2:"calories",3:"frequency",4:"steps",5:"ascent",6:"active_minutes"},goal_recurrence:{0:"off",1:"daily",2:"weekly",3:"monthly",4:"yearly",5:"custom"},goal_source:{0:"auto",1:"community",2:"user"},schedule:{0:"workout",1:"course"},course_point:{0:"generic",1:"summit",2:"valley",3:"water",4:"food",5:"danger",6:"left",7:"right",8:"straight",9:"first_aid",10:"fourth_category",11:"third_category",12:"second_category",13:"first_category",14:"hors_category",15:"sprint",16:"left_fork",17:"right_fork",18:"middle_fork",19:"slight_left",20:"sharp_left",21:"slight_right",22:"sharp_right",23:"u_turn",24:"segment_start",25:"segment_end"},manufacturer:{0:0,1:"garmin",2:"garmin_fr405_antfs",3:"zephyr",4:"dayton",5:"idt",6:"srm",7:"quarq",8:"ibike",9:"saris",10:"spark_hk",11:"tanita",12:"echowell",13:"dynastream_oem",14:"nautilus",15:"dynastream",16:"timex",17:"metrigear",18:"xelic",19:"beurer",20:"cardiosport",21:"a_and_d",22:"hmm",23:"suunto",24:"thita_elektronik",25:"gpulse",26:"clean_mobile",27:"pedal_brain",28:"peaksware",29:"saxonar",30:"lemond_fitness",31:"dexcom",32:"wahoo_fitness",33:"octane_fitness",34:"archinoetics",35:"the_hurt_box",36:"citizen_systems",37:"magellan",38:"osynce",39:"holux",40:"concept2",42:"one_giant_leap",43:"ace_sensor",44:"brim_brothers",45:"xplova",46:"perception_digital",47:"bf1systems",48:"pioneer",49:"spantec",50:"metalogics",51:"4iiiis",52:"seiko_epson",53:"seiko_epson_oem",54:"ifor_powell",55:"maxwell_guider",56:"star_trac",57:"breakaway",58:"alatech_technology_ltd",59:"mio_technology_europe",60:"rotor",61:"geonaute",62:"id_bike",63:"specialized",64:"wtek",65:"physical_enterprises",66:"north_pole_engineering",67:"bkool",68:"cateye",69:"stages_cycling",70:"sigmasport",71:"tomtom",72:"peripedal",73:"wattbike",76:"moxy",77:"ciclosport",78:"powerbahn",79:"acorn_projects_aps",80:"lifebeam",81:"bontrager",82:"wellgo",83:"scosche",84:"magura",85:"woodway",86:"elite",87:"nielsen_kellerman",88:"dk_city",89:"tacx",90:"direction_technology",91:"magtonic",92:"1partcarbon",93:"inside_ride_technologies",94:"sound_of_motion",95:"stryd",96:"icg",97:"mipulse",98:"bsx_athletics",99:"look",100:"campagnolo_srl",101:"body_bike_smart",102:"praxisworks",103:"limits_technology",104:"topaction_technology",105:"cosinuss",106:"fitcare",107:"magene",108:"giant_manufacturing_co",109:"tigrasport",110:"salutron",111:"technogym",112:"bryton_sensors",113:"latitude_limited",114:"soaring_technology",115:"igpsport",116:"thinkrider",117:"gopher_sport",118:"waterrower",119:"orangetheory",120:"inpeak",121:"kinetic",122:"johnson_health_tech",123:"polar_electro",124:"seesense",125:"nci_technology",255:"development",257:"healthandlife",258:"lezyne",259:"scribe_labs",260:"zwift",261:"watteam",262:"recon",263:"favero_electronics",264:"dynovelo",265:"strava",266:"precor",267:"bryton",268:"sram",269:"navman",270:"cobi",271:"spivi",272:"mio_magellan",273:"evesports",274:"sensitivus_gauge",275:"podoon",276:"life_time_fitness",277:"falco_e_motors",278:"minoura",279:"cycliq",280:"luxottica",281:"trainer_road",282:"the_sufferfest",283:"fullspeedahead",284:"virtualtraining",285:"feedbacksports",286:"omata",287:"vdo",288:"magneticdays",289:"hammerhead",290:"kinetic_by_kurt",291:"shapelog",292:"dabuziduo",293:"jetblack",294:"coros",295:"virtugo",296:"velosense",5759:"actigraphcorp"},garmin_product:{0:"hrm_bike",1:"hrm1",2:"axh01",3:"axb01",4:"axb02",5:"hrm2ss",6:"dsi_alf02",7:"hrm3ss",8:"hrm_run_single_byte_product_id",9:"bsm",10:"bcm",11:"axs01",12:"hrm_tri_single_byte_product_id",14:"fr225_single_byte_product_id",473:"fr301_china",474:"fr301_japan",475:"fr301_korea",494:"fr301_taiwan",717:"fr405",782:"fr50",987:"fr405_japan",988:"fr60",1011:"dsi_alf01",1018:"fr310xt",1036:"edge500",1124:"fr110",1169:"edge800",1199:"edge500_taiwan",1213:"edge500_japan",1253:"chirp",1274:"fr110_japan",1325:"edge200",1328:"fr910xt",1333:"edge800_taiwan",1334:"edge800_japan",1341:"alf04",1345:"fr610",1360:"fr210_japan",1380:"vector_ss",1381:"vector_cp",1386:"edge800_china",1387:"edge500_china",1410:"fr610_japan",1422:"edge500_korea",1436:"fr70",1446:"fr310xt_4t",1461:"amx",1482:"fr10",1497:"edge800_korea",1499:"swim",1537:"fr910xt_china",1551:"fenix",1555:"edge200_taiwan",1561:"edge510",1567:"edge810",1570:"tempe",1600:"fr910xt_japan",1623:"fr620",1632:"fr220",1664:"fr910xt_korea",1688:"fr10_japan",1721:"edge810_japan",1735:"virb_elite",1736:"edge_touring",1742:"edge510_japan",1743:"hrm_tri",1752:"hrm_run",1765:"fr920xt",1821:"edge510_asia",1822:"edge810_china",1823:"edge810_taiwan",1836:"edge1000",1837:"vivo_fit",1853:"virb_remote",1885:"vivo_ki",1903:"fr15",1907:"vivo_active",1918:"edge510_korea",1928:"fr620_japan",1929:"fr620_china",1930:"fr220_japan",1931:"fr220_china",1936:"approach_s6",1956:"vivo_smart",1967:"fenix2",1988:"epix",2050:"fenix3",2052:"edge1000_taiwan",2053:"edge1000_japan",2061:"fr15_japan",2067:"edge520",2070:"edge1000_china",2072:"fr620_russia",2073:"fr220_russia",2079:"vector_s",2100:"edge1000_korea",2130:"fr920xt_taiwan",2131:"fr920xt_china",2132:"fr920xt_japan",2134:"virbx",2135:"vivo_smart_apac",2140:"etrex_touch",2147:"edge25",2148:"fr25",2150:"vivo_fit2",2153:"fr225",2156:"fr630",2157:"fr230",2158:"fr735xt",2160:"vivo_active_apac",2161:"vector_2",2162:"vector_2s",2172:"virbxe",2173:"fr620_taiwan",2174:"fr220_taiwan",2175:"truswing",2188:"fenix3_china",2189:"fenix3_twn",2192:"varia_headlight",2193:"varia_taillight_old",2204:"edge_explore_1000",2219:"fr225_asia",2225:"varia_radar_taillight",2226:"varia_radar_display",2238:"edge20",2262:"d2_bravo",2266:"approach_s20",2276:"varia_remote",2327:"hrm4_run",2337:"vivo_active_hr",2348:"vivo_smart_hr",2368:"vivo_move",2398:"varia_vision",2406:"vivo_fit3",2413:"fenix3_hr",2417:"virb_ultra_30",2429:"index_smart_scale",2431:"fr235",2432:"fenix3_chronos",2441:"oregon7xx",2444:"rino7xx",2496:"nautix",2530:"edge_820",2531:"edge_explore_820",2544:"fenix5s",2547:"d2_bravo_titanium",2567:"varia_ut800",2593:"running_dynamics_pod",2604:"fenix5x",2606:"vivo_fit_jr",2691:"fr935",2697:"fenix5",2859:"descent",10007:"sdm4",10014:"edge_remote",20119:"training_center",65531:"connectiq_simulator",65532:"android_antplus_plugin",65534:"connect"},antplus_device_type:{0:0,1:"antfs",11:"bike_power",12:"environment_sensor_legacy",15:"multi_sport_speed_distance",16:"control",17:"fitness_equipment",18:"blood_pressure",19:"geocache_node",20:"light_electric_vehicle",25:"env_sensor",26:"racquet",27:"control_hub",31:"muscle_oxygen",35:"bike_light_main",36:"bike_light_shared",38:"exd",40:"bike_radar",119:"weight_scale",120:"heart_rate",121:"bike_speed_cadence",122:"bike_cadence",123:"bike_speed",124:"stride_speed_distance"},ant_network:{0:"public",1:"antplus",2:"antfs",3:"private"},workout_capabilities:{0:0,1:"interval",2:"custom",4:"fitness_equipment",8:"firstbeat",16:"new_leaf",32:"tcx",128:"speed",256:"heart_rate",512:"distance",1024:"cadence",2048:"power",4096:"grade",8192:"resistance",16384:"protected"},battery_status:{0:0,1:"new",2:"good",3:"ok",4:"low",5:"critical",6:"charging",7:"unknown"},hr_type:{0:"normal",1:"irregular"},course_capabilities:{0:0,1:"processed",2:"valid",4:"time",8:"distance",16:"position",32:"heart_rate",64:"power",128:"cadence",256:"training",512:"navigation",1024:"bikeway"},weight:{0:0,65534:"calculating"},workout_hr:{0:0,100:"bpm_offset"},workout_power:{0:0,1e3:"watts_offset"},bp_status:{0:"no_error",1:"error_incomplete_data",2:"error_no_measurement",3:"error_data_out_of_range",4:"error_irregular_heart_rate"},user_local_id:{0:"local_min",15:"local_max",16:"stationary_min",255:"stationary_max",256:"portable_min",65534:"portable_max"},swim_stroke:{0:"freestyle",1:"backstroke",2:"breaststroke",3:"butterfly",4:"drill",5:"mixed",6:"im"},activity_type:{0:"generic",1:"running",2:"cycling",3:"transition",4:"fitness_equipment",5:"swimming",6:"walking",8:"sedentary",254:"all"},activity_subtype:{0:"generic",1:"treadmill",2:"street",3:"trail",4:"track",5:"spin",6:"indoor_cycling",7:"road",8:"mountain",9:"downhill",10:"recumbent",11:"cyclocross",12:"hand_cycling",13:"track_cycling",14:"indoor_rowing",15:"elliptical",16:"stair_climbing",17:"lap_swimming",18:"open_water",254:"all"},activity_level:{0:"low",1:"medium",2:"high"},side:{0:"right",1:"left"},left_right_balance:{0:0,127:"mask",128:"right"},left_right_balance_100:{0:0,16383:"mask",32768:"right"},length_type:{0:"idle",1:"active"},day_of_week:{0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},connectivity_capabilities:{0:0,1:"bluetooth",2:"bluetooth_le",4:"ant",8:"activity_upload",16:"course_download",32:"workout_download",64:"live_track",128:"weather_conditions",256:"weather_alerts",512:"gps_ephemeris_download",1024:"explicit_archive",2048:"setup_incomplete",4096:"continue_sync_after_software_update",8192:"connect_iq_app_download",16384:"golf_course_download",32768:"device_initiates_sync",65536:"connect_iq_watch_app_download",131072:"connect_iq_widget_download",262144:"connect_iq_watch_face_download",524288:"connect_iq_data_field_download",1048576:"connect_iq_app_managment",2097152:"swing_sensor",4194304:"swing_sensor_remote",8388608:"incident_detection",16777216:"audio_prompts",33554432:"wifi_verification",67108864:"true_up",134217728:"find_my_watch",268435456:"remote_manual_sync",536870912:"live_track_auto_start",1073741824:"live_track_messaging",2147483648:"instant_input"},weather_report:{0:"current",1:"hourly_forecast",2:"daily_forecast"},weather_status:{0:"clear",1:"partly_cloudy",2:"mostly_cloudy",3:"rain",4:"snow",5:"windy",6:"thunderstorms",7:"wintry_mix",8:"fog",11:"hazy",12:"hail",13:"scattered_showers",14:"scattered_thunderstorms",15:"unknown_precipitation",16:"light_rain",17:"heavy_rain",18:"light_snow",19:"heavy_snow",20:"light_rain_snow",21:"heavy_rain_snow",22:"cloudy"},weather_severity:{0:"unknown",1:"warning",2:"watch",3:"advisory",4:"statement"},weather_severe_type:{0:"unspecified",1:"tornado",2:"tsunami",3:"hurricane",4:"extreme_wind",5:"typhoon",6:"inland_hurricane",7:"hurricane_force_wind",8:"waterspout",9:"severe_thunderstorm",10:"wreckhouse_winds",11:"les_suetes_wind",12:"avalanche",13:"flash_flood",14:"tropical_storm",15:"inland_tropical_storm",16:"blizzard",17:"ice_storm",18:"freezing_rain",19:"debris_flow",20:"flash_freeze",21:"dust_storm",22:"high_wind",23:"winter_storm",24:"heavy_freezing_spray",25:"extreme_cold",26:"wind_chill",27:"cold_wave",28:"heavy_snow_alert",29:"lake_effect_blowing_snow",30:"snow_squall",31:"lake_effect_snow",32:"winter_weather",33:"sleet",34:"snowfall",35:"snow_and_blowing_snow",36:"blowing_snow",37:"snow_alert",38:"arctic_outflow",39:"freezing_drizzle",40:"storm",41:"storm_surge",42:"rainfall",43:"areal_flood",44:"coastal_flood",45:"lakeshore_flood",46:"excessive_heat",47:"heat",48:"weather",49:"high_heat_and_humidity",50:"humidex_and_health",51:"humidex",52:"gale",53:"freezing_spray",54:"special_marine",55:"squall",56:"strong_wind",57:"lake_wind",58:"marine_weather",59:"wind",60:"small_craft_hazardous_seas",61:"hazardous_seas",62:"small_craft",63:"small_craft_winds",64:"small_craft_rough_bar",65:"high_water_level",66:"ashfall",67:"freezing_fog",68:"dense_fog",69:"dense_smoke",70:"blowing_dust",71:"hard_freeze",72:"freeze",73:"frost",74:"fire_weather",75:"flood",76:"rip_tide",77:"high_surf",78:"smog",79:"air_quality",80:"brisk_wind",81:"air_stagnation",82:"low_water",83:"hydrological",84:"special_weather"},stroke_type:{0:"no_event",1:"other",2:"serve",3:"forehand",4:"backhand",5:"smash"},body_location:{0:"left_leg",1:"left_calf",2:"left_shin",3:"left_hamstring",4:"left_quad",5:"left_glute",6:"right_leg",7:"right_calf",8:"right_shin",9:"right_hamstring",10:"right_quad",11:"right_glute",12:"torso_back",13:"left_lower_back",14:"left_upper_back",15:"right_lower_back",16:"right_upper_back",17:"torso_front",18:"left_abdomen",19:"left_chest",20:"right_abdomen",21:"right_chest",22:"left_arm",23:"left_shoulder",24:"left_bicep",25:"left_tricep",26:"left_brachioradialis",27:"left_forearm_extensors",28:"right_arm",29:"right_shoulder",30:"right_bicep",31:"right_tricep",32:"right_brachioradialis",33:"right_forearm_extensors",34:"neck",35:"throat",36:"waist_mid_back",37:"waist_front",38:"waist_left",39:"waist_right"},segment_lap_status:{0:"end",1:"fail"},segment_leaderboard_type:{0:"overall",1:"personal_best",2:"connections",3:"group",4:"challenger",5:"kom",6:"qom",7:"pr",8:"goal",9:"rival",10:"club_leader"},segment_delete_status:{0:"do_not_delete",1:"delete_one",2:"delete_all"},segment_selection_type:{0:"starred",1:"suggested"},source_type:{0:"ant",1:"antplus",2:"bluetooth",3:"bluetooth_low_energy",4:"wifi",5:"local"},display_orientation:{0:"auto",1:"portrait",2:"landscape",3:"portrait_flipped",4:"landscape_flipped"},workout_equipment:{0:"none",1:"swim_fins",2:"swim_kickboard",3:"swim_paddles",4:"swim_pull_buoy",5:"swim_snorkel"},watchface_mode:{0:"digital",1:"analog",2:"connect_iq",3:"disabled"},digital_watchface_layout:{0:"traditional",1:"modern",2:"bold"},analog_watchface_layout:{0:"minimal",1:"traditional",2:"modern"},rider_position_type:{0:"seated",1:"standing",2:"transition_to_seated",3:"transition_to_standing"},power_phase_type:{0:"power_phase_start_angle",1:"power_phase_end_angle",2:"power_phase_arc_length",3:"power_phase_center"},camera_event_type:{0:"video_start",1:"video_split",2:"video_end",3:"photo_taken",4:"video_second_stream_start",5:"video_second_stream_split",6:"video_second_stream_end",7:"video_split_start",8:"video_second_stream_split_start",11:"video_pause",12:"video_second_stream_pause",13:"video_resume",14:"video_second_stream_resume"},sensor_type:{0:"accelerometer",1:"gyroscope",2:"compass",3:"barometer"},bike_light_network_config_type:{0:"auto",4:"individual",5:"high_visibility",6:"trail"},comm_timeout_type:{0:"wildcard_pairing_timeout",1:"pairing_timeout",2:"connection_lost",3:"connection_timeout"},camera_orientation_type:{0:"camera_orientation_0",1:"camera_orientation_90",2:"camera_orientation_180",3:"camera_orientation_270"},attitude_stage:{0:"failed",1:"aligning",2:"degraded",3:"valid"},attitude_validity:{0:0,1:"track_angle_heading_valid",2:"pitch_valid",4:"roll_valid",8:"lateral_body_accel_valid",16:"normal_body_accel_valid",32:"turn_rate_valid",64:"hw_fail",128:"mag_invalid",256:"no_gps",512:"gps_invalid",1024:"solution_coasting",2048:"true_track_angle",4096:"magnetic_heading"},auto_sync_frequency:{0:"never",1:"occasionally",2:"frequent",3:"once_a_day",4:"remote"},exd_layout:{0:"full_screen",1:"half_vertical",2:"half_horizontal",3:"half_vertical_right_split",4:"half_horizontal_bottom_split",5:"full_quarter_split",6:"half_vertical_left_split",7:"half_horizontal_top_split"},exd_display_type:{0:"numerical",1:"simple",2:"graph",3:"bar",4:"circle_graph",5:"virtual_partner",6:"balance",7:"string_list",8:"string",9:"simple_dynamic_icon",10:"gauge"},exd_data_units:{0:"no_units",1:"laps",2:"miles_per_hour",3:"kilometers_per_hour",4:"feet_per_hour",5:"meters_per_hour",6:"degrees_celsius",7:"degrees_farenheit",8:"zone",9:"gear",10:"rpm",11:"bpm",12:"degrees",13:"millimeters",14:"meters",15:"kilometers",16:"feet",17:"yards",18:"kilofeet",19:"miles",20:"time",21:"enum_turn_type",22:"percent",23:"watts",24:"watts_per_kilogram",25:"enum_battery_status",26:"enum_bike_light_beam_angle_mode",27:"enum_bike_light_battery_status",28:"enum_bike_light_network_config_type",29:"lights",30:"seconds",31:"minutes",32:"hours",33:"calories",34:"kilojoules",35:"milliseconds",36:"second_per_mile",37:"second_per_kilometer",38:"centimeter",39:"enum_course_point",40:"bradians",41:"enum_sport",42:"inches_hg",43:"mm_hg",44:"mbars",45:"hecto_pascals",46:"feet_per_min",47:"meters_per_min",48:"meters_per_sec",49:"eight_cardinal"},exd_qualifiers:{0:"no_qualifier",1:"instantaneous",2:"average",3:"lap",4:"maximum",5:"maximum_average",6:"maximum_lap",7:"last_lap",8:"average_lap",9:"to_destination",10:"to_go",11:"to_next",12:"next_course_point",13:"total",14:"three_second_average",15:"ten_second_average",16:"thirty_second_average",17:"percent_maximum",18:"percent_maximum_average",19:"lap_percent_maximum",20:"elapsed",21:"sunrise",22:"sunset",23:"compared_to_virtual_partner",24:"maximum_24h",25:"minimum_24h",26:"minimum",27:"first",28:"second",29:"third",30:"shifter",31:"last_sport",32:"moving",33:"stopped",34:"estimated_total",242:"zone_9",243:"zone_8",244:"zone_7",245:"zone_6",246:"zone_5",247:"zone_4",248:"zone_3",249:"zone_2",250:"zone_1"},exd_descriptors:{0:"bike_light_battery_status",1:"beam_angle_status",2:"batery_level",3:"light_network_mode",4:"number_lights_connected",5:"cadence",6:"distance",7:"estimated_time_of_arrival",8:"heading",9:"time",10:"battery_level",11:"trainer_resistance",12:"trainer_target_power",13:"time_seated",14:"time_standing",15:"elevation",16:"grade",17:"ascent",18:"descent",19:"vertical_speed",20:"di2_battery_level",21:"front_gear",22:"rear_gear",23:"gear_ratio",24:"heart_rate",25:"heart_rate_zone",26:"time_in_heart_rate_zone",27:"heart_rate_reserve",28:"calories",29:"gps_accuracy",30:"gps_signal_strength",31:"temperature",32:"time_of_day",33:"balance",34:"pedal_smoothness",35:"power",36:"functional_threshold_power",37:"intensity_factor",38:"work",39:"power_ratio",40:"normalized_power",41:"training_stress_Score",42:"time_on_zone",43:"speed",44:"laps",45:"reps",46:"workout_step",47:"course_distance",48:"navigation_distance",49:"course_estimated_time_of_arrival",50:"navigation_estimated_time_of_arrival",51:"course_time",52:"navigation_time",53:"course_heading",54:"navigation_heading",55:"power_zone",56:"torque_effectiveness",57:"timer_time",58:"power_weight_ratio",59:"left_platform_center_offset",60:"right_platform_center_offset",61:"left_power_phase_start_angle",62:"right_power_phase_start_angle",63:"left_power_phase_finish_angle",64:"right_power_phase_finish_angle",65:"gears",66:"pace",67:"training_effect",68:"vertical_oscillation",69:"vertical_ratio",70:"ground_contact_time",71:"left_ground_contact_time_balance",72:"right_ground_contact_time_balance",73:"stride_length",74:"running_cadence",75:"performance_condition",76:"course_type",77:"time_in_power_zone",78:"navigation_turn",79:"course_location",80:"navigation_location",81:"compass",82:"gear_combo",83:"muscle_oxygen",84:"icon",85:"compass_heading",86:"gps_heading",87:"gps_elevation",88:"anaerobic_training_effect",89:"course",90:"off_course",91:"glide_ratio",92:"vertical_distance",93:"vmg",94:"ambient_pressure",95:"pressure",96:"vam"},auto_activity_detect:{0:"none",1:"running",2:"cycling",4:"swimming",8:"walking",16:"elliptical",32:"sedentary"},supported_exd_screen_layouts:{0:0,1:"full_screen",2:"half_vertical",4:"half_horizontal",8:"half_vertical_right_split",16:"half_horizontal_bottom_split",32:"full_quarter_split",64:"half_vertical_left_split",128:"half_horizontal_top_split"},fit_base_type:{0:"enum",1:"sint8",2:"uint8",7:"string",10:"uint8z",13:"byte",131:"sint16",132:"uint16",133:"sint32",134:"uint32",136:"float32",137:"float64",139:"uint16z",140:"uint32z",142:"sint64",143:"uint64",144:"uint64z"},turn_type:{0:"arriving_idx",1:"arriving_left_idx",2:"arriving_right_idx",3:"arriving_via_idx",4:"arriving_via_left_idx",5:"arriving_via_right_idx",6:"bear_keep_left_idx",7:"bear_keep_right_idx",8:"continue_idx",9:"exit_left_idx",10:"exit_right_idx",11:"ferry_idx",12:"roundabout_45_idx",13:"roundabout_90_idx",14:"roundabout_135_idx",15:"roundabout_180_idx",16:"roundabout_225_idx",17:"roundabout_270_idx",18:"roundabout_315_idx",19:"roundabout_360_idx",20:"roundabout_neg_45_idx",21:"roundabout_neg_90_idx",22:"roundabout_neg_135_idx",23:"roundabout_neg_180_idx",24:"roundabout_neg_225_idx",25:"roundabout_neg_270_idx",26:"roundabout_neg_315_idx",27:"roundabout_neg_360_idx",28:"roundabout_generic_idx",29:"roundabout_neg_generic_idx",30:"sharp_turn_left_idx",31:"sharp_turn_right_idx",32:"turn_left_idx",33:"turn_right_idx",34:"uturn_left_idx",35:"uturn_right_idx",36:"icon_inv_idx",37:"icon_idx_cnt"},bike_light_beam_angle_mode:{0:"manual",1:"auto"},fit_base_unit:{0:"other",1:"kilogram",2:"pound"},set_type:{0:"rest",1:"active"},exercise_category:{0:"bench_press",1:"calf_raise",2:"cardio",3:"carry",4:"chop",5:"core",6:"crunch",7:"curl",8:"deadlift",9:"flye",10:"hip_raise",11:"hip_stability",12:"hip_swing",13:"hyperextension",14:"lateral_raise",15:"leg_curl",16:"leg_raise",17:"lunge",18:"olympic_lift",19:"plank",20:"plyo",21:"pull_up",22:"push_up",23:"row",24:"shoulder_press",25:"shoulder_stability",26:"shrug",27:"sit_up",28:"squat",29:"total_body",30:"triceps_extension",31:"warm_up",32:"run",65534:"unknown"},bench_press_exercise_name:{0:"alternating_dumbbell_chest_press_on_swiss_ball",1:"barbell_bench_press",2:"barbell_board_bench_press",3:"barbell_floor_press",4:"close_grip_barbell_bench_press",5:"decline_dumbbell_bench_press",6:"dumbbell_bench_press",7:"dumbbell_floor_press",8:"incline_barbell_bench_press",9:"incline_dumbbell_bench_press",10:"incline_smith_machine_bench_press",11:"isometric_barbell_bench_press",12:"kettlebell_chest_press",13:"neutral_grip_dumbbell_bench_press",14:"neutral_grip_dumbbell_incline_bench_press",15:"one_arm_floor_press",16:"weighted_one_arm_floor_press",17:"partial_lockout",18:"reverse_grip_barbell_bench_press",19:"reverse_grip_incline_bench_press",20:"single_arm_cable_chest_press",21:"single_arm_dumbbell_bench_press",22:"smith_machine_bench_press",23:"swiss_ball_dumbbell_chest_press",24:"triple_stop_barbell_bench_press",25:"wide_grip_barbell_bench_press",26:"alternating_dumbbell_chest_press"},calf_raise_exercise_name:{0:"3_way_calf_raise",1:"3_way_weighted_calf_raise",2:"3_way_single_leg_calf_raise",3:"3_way_weighted_single_leg_calf_raise",4:"donkey_calf_raise",5:"weighted_donkey_calf_raise",6:"seated_calf_raise",7:"weighted_seated_calf_raise",8:"seated_dumbbell_toe_raise",9:"single_leg_bent_knee_calf_raise",10:"weighted_single_leg_bent_knee_calf_raise",11:"single_leg_decline_push_up",12:"single_leg_donkey_calf_raise",13:"weighted_single_leg_donkey_calf_raise",14:"single_leg_hip_raise_with_knee_hold",15:"single_leg_standing_calf_raise",16:"single_leg_standing_dumbbell_calf_raise",17:"standing_barbell_calf_raise",18:"standing_calf_raise",19:"weighted_standing_calf_raise",20:"standing_dumbbell_calf_raise"},cardio_exercise_name:{0:"bob_and_weave_circle",1:"weighted_bob_and_weave_circle",2:"cardio_core_crawl",3:"weighted_cardio_core_crawl",4:"double_under",5:"weighted_double_under",6:"jump_rope",7:"weighted_jump_rope",8:"jump_rope_crossover",9:"weighted_jump_rope_crossover",10:"jump_rope_jog",11:"weighted_jump_rope_jog",12:"jumping_jacks",13:"weighted_jumping_jacks",14:"ski_moguls",15:"weighted_ski_moguls",16:"split_jacks",17:"weighted_split_jacks",18:"squat_jacks",19:"weighted_squat_jacks",20:"triple_under",21:"weighted_triple_under"},carry_exercise_name:{0:"bar_holds",1:"farmers_walk",2:"farmers_walk_on_toes",3:"hex_dumbbell_hold",4:"overhead_carry"},chop_exercise_name:{0:"cable_pull_through",1:"cable_rotational_lift",2:"cable_woodchop",3:"cross_chop_to_knee",4:"weighted_cross_chop_to_knee",5:"dumbbell_chop",6:"half_kneeling_rotation",7:"weighted_half_kneeling_rotation",8:"half_kneeling_rotational_chop",9:"half_kneeling_rotational_reverse_chop",10:"half_kneeling_stability_chop",11:"half_kneeling_stability_reverse_chop",12:"kneeling_rotational_chop",13:"kneeling_rotational_reverse_chop",14:"kneeling_stability_chop",15:"kneeling_woodchopper",16:"medicine_ball_wood_chops",17:"power_squat_chops",18:"weighted_power_squat_chops",19:"standing_rotational_chop",20:"standing_split_rotational_chop",21:"standing_split_rotational_reverse_chop",22:"standing_stability_reverse_chop"},core_exercise_name:{0:"abs_jabs",1:"weighted_abs_jabs",2:"alternating_plate_reach",3:"barbell_rollout",4:"weighted_barbell_rollout",5:"body_bar_oblique_twist",6:"cable_core_press",7:"cable_side_bend",8:"side_bend",9:"weighted_side_bend",10:"crescent_circle",11:"weighted_crescent_circle",12:"cycling_russian_twist",13:"weighted_cycling_russian_twist",14:"elevated_feet_russian_twist",15:"weighted_elevated_feet_russian_twist",16:"half_turkish_get_up",17:"kettlebell_windmill",18:"kneeling_ab_wheel",19:"weighted_kneeling_ab_wheel",20:"modified_front_lever",21:"open_knee_tucks",22:"weighted_open_knee_tucks",23:"side_abs_leg_lift",24:"weighted_side_abs_leg_lift",25:"swiss_ball_jackknife",26:"weighted_swiss_ball_jackknife",27:"swiss_ball_pike",28:"weighted_swiss_ball_pike",29:"swiss_ball_rollout",30:"weighted_swiss_ball_rollout",31:"triangle_hip_press",32:"weighted_triangle_hip_press",33:"trx_suspended_jackknife",34:"weighted_trx_suspended_jackknife",35:"u_boat",36:"weighted_u_boat",37:"windmill_switches",38:"weighted_windmill_switches",39:"alternating_slide_out",40:"weighted_alternating_slide_out",41:"ghd_back_extensions",42:"weighted_ghd_back_extensions",43:"overhead_walk",44:"inchworm",45:"weighted_modified_front_lever",46:"russian_twist",47:"abdominal_leg_rotations",48:"arm_and_leg_extension_on_knees",49:"bicycle",50:"bicep_curl_with_leg_extension",51:"cat_cow",52:"corkscrew",53:"criss_cross",54:"criss_cross_with_ball",55:"double_leg_stretch",56:"knee_folds",57:"lower_lift",58:"neck_pull",59:"pelvic_clocks",60:"roll_over",61:"roll_up",62:"rolling",63:"rowing_1",64:"rowing_2",65:"scissors",66:"single_leg_circles",67:"single_leg_stretch",68:"snake_twist_1_and_2",69:"swan",70:"swimming",71:"teaser",72:"the_hundred"},crunch_exercise_name:{0:"bicycle_crunch",1:"cable_crunch",2:"circular_arm_crunch",3:"crossed_arms_crunch",4:"weighted_crossed_arms_crunch",5:"cross_leg_reverse_crunch",6:"weighted_cross_leg_reverse_crunch",7:"crunch_chop",8:"weighted_crunch_chop",9:"double_crunch",10:"weighted_double_crunch",11:"elbow_to_knee_crunch",12:"weighted_elbow_to_knee_crunch",13:"flutter_kicks",14:"weighted_flutter_kicks",15:"foam_roller_reverse_crunch_on_bench",16:"weighted_foam_roller_reverse_crunch_on_bench",17:"foam_roller_reverse_crunch_with_dumbbell",18:"foam_roller_reverse_crunch_with_medicine_ball",19:"frog_press",20:"hanging_knee_raise_oblique_crunch",21:"weighted_hanging_knee_raise_oblique_crunch",22:"hip_crossover",23:"weighted_hip_crossover",24:"hollow_rock",25:"weighted_hollow_rock",26:"incline_reverse_crunch",27:"weighted_incline_reverse_crunch",28:"kneeling_cable_crunch",29:"kneeling_cross_crunch",30:"weighted_kneeling_cross_crunch",31:"kneeling_oblique_cable_crunch",32:"knees_to_elbow",33:"leg_extensions",34:"weighted_leg_extensions",35:"leg_levers",36:"mcgill_curl_up",37:"weighted_mcgill_curl_up",38:"modified_pilates_roll_up_with_ball",39:"weighted_modified_pilates_roll_up_with_ball",40:"pilates_crunch",41:"weighted_pilates_crunch",42:"pilates_roll_up_with_ball",43:"weighted_pilates_roll_up_with_ball",44:"raised_legs_crunch",45:"weighted_raised_legs_crunch",46:"reverse_crunch",47:"weighted_reverse_crunch",48:"reverse_crunch_on_a_bench",49:"weighted_reverse_crunch_on_a_bench",50:"reverse_curl_and_lift",51:"weighted_reverse_curl_and_lift",52:"rotational_lift",53:"weighted_rotational_lift",54:"seated_alternating_reverse_crunch",55:"weighted_seated_alternating_reverse_crunch",56:"seated_leg_u",57:"weighted_seated_leg_u",58:"side_to_side_crunch_and_weave",59:"weighted_side_to_side_crunch_and_weave",60:"single_leg_reverse_crunch",61:"weighted_single_leg_reverse_crunch",62:"skater_crunch_cross",63:"weighted_skater_crunch_cross",64:"standing_cable_crunch",65:"standing_side_crunch",66:"step_climb",67:"weighted_step_climb",68:"swiss_ball_crunch",69:"swiss_ball_reverse_crunch",70:"weighted_swiss_ball_reverse_crunch",71:"swiss_ball_russian_twist",72:"weighted_swiss_ball_russian_twist",73:"swiss_ball_side_crunch",74:"weighted_swiss_ball_side_crunch",75:"thoracic_crunches_on_foam_roller",76:"weighted_thoracic_crunches_on_foam_roller",77:"triceps_crunch",78:"weighted_bicycle_crunch",79:"weighted_crunch",80:"weighted_swiss_ball_crunch",81:"toes_to_bar",82:"weighted_toes_to_bar",83:"crunch",84:"straight_leg_crunch_with_ball"},curl_exercise_name:{0:"alternating_dumbbell_biceps_curl",1:"alternating_dumbbell_biceps_curl_on_swiss_ball",2:"alternating_incline_dumbbell_biceps_curl",3:"barbell_biceps_curl",4:"barbell_reverse_wrist_curl",5:"barbell_wrist_curl",6:"behind_the_back_barbell_reverse_wrist_curl",7:"behind_the_back_one_arm_cable_curl",8:"cable_biceps_curl",9:"cable_hammer_curl",10:"cheating_barbell_biceps_curl",11:"close_grip_ez_bar_biceps_curl",12:"cross_body_dumbbell_hammer_curl",13:"dead_hang_biceps_curl",14:"decline_hammer_curl",15:"dumbbell_biceps_curl_with_static_hold",16:"dumbbell_hammer_curl",17:"dumbbell_reverse_wrist_curl",18:"dumbbell_wrist_curl",19:"ez_bar_preacher_curl",20:"forward_bend_biceps_curl",21:"hammer_curl_to_press",22:"incline_dumbbell_biceps_curl",23:"incline_offset_thumb_dumbbell_curl",24:"kettlebell_biceps_curl",25:"lying_concentration_cable_curl",26:"one_arm_preacher_curl",27:"plate_pinch_curl",28:"preacher_curl_with_cable",29:"reverse_ez_bar_curl",30:"reverse_grip_wrist_curl",31:"reverse_grip_barbell_biceps_curl",32:"seated_alternating_dumbbell_biceps_curl",33:"seated_dumbbell_biceps_curl",34:"seated_reverse_dumbbell_curl",35:"split_stance_offset_pinky_dumbbell_curl",36:"standing_alternating_dumbbell_curls",37:"standing_dumbbell_biceps_curl",38:"standing_ez_bar_biceps_curl",39:"static_curl",40:"swiss_ball_dumbbell_overhead_triceps_extension",41:"swiss_ball_ez_bar_preacher_curl",42:"twisting_standing_dumbbell_biceps_curl",43:"wide_grip_ez_bar_biceps_curl"},deadlift_exercise_name:{0:"barbell_deadlift",1:"barbell_straight_leg_deadlift",2:"dumbbell_deadlift",3:"dumbbell_single_leg_deadlift_to_row",4:"dumbbell_straight_leg_deadlift",5:"kettlebell_floor_to_shelf",6:"one_arm_one_leg_deadlift",7:"rack_pull",8:"rotational_dumbbell_straight_leg_deadlift",9:"single_arm_deadlift",10:"single_leg_barbell_deadlift",11:"single_leg_barbell_straight_leg_deadlift",12:"single_leg_deadlift_with_barbell",13:"single_leg_rdl_circuit",14:"single_leg_romanian_deadlift_with_dumbbell",15:"sumo_deadlift",16:"sumo_deadlift_high_pull",17:"trap_bar_deadlift",18:"wide_grip_barbell_deadlift"},flye_exercise_name:{0:"cable_crossover",1:"decline_dumbbell_flye",2:"dumbbell_flye",3:"incline_dumbbell_flye",4:"kettlebell_flye",5:"kneeling_rear_flye",6:"single_arm_standing_cable_reverse_flye",7:"swiss_ball_dumbbell_flye",8:"arm_rotations",9:"hug_a_tree"},hip_raise_exercise_name:{0:"barbell_hip_thrust_on_floor",1:"barbell_hip_thrust_with_bench",2:"bent_knee_swiss_ball_reverse_hip_raise",3:"weighted_bent_knee_swiss_ball_reverse_hip_raise",4:"bridge_with_leg_extension",5:"weighted_bridge_with_leg_extension",6:"clam_bridge",7:"front_kick_tabletop",8:"weighted_front_kick_tabletop",9:"hip_extension_and_cross",10:"weighted_hip_extension_and_cross",11:"hip_raise",12:"weighted_hip_raise",13:"hip_raise_with_feet_on_swiss_ball",14:"weighted_hip_raise_with_feet_on_swiss_ball",15:"hip_raise_with_head_on_bosu_ball",16:"weighted_hip_raise_with_head_on_bosu_ball",17:"hip_raise_with_head_on_swiss_ball",18:"weighted_hip_raise_with_head_on_swiss_ball",19:"hip_raise_with_knee_squeeze",20:"weighted_hip_raise_with_knee_squeeze",21:"incline_rear_leg_extension",22:"weighted_incline_rear_leg_extension",23:"kettlebell_swing",24:"marching_hip_raise",25:"weighted_marching_hip_raise",26:"marching_hip_raise_with_feet_on_a_swiss_ball",27:"weighted_marching_hip_raise_with_feet_on_a_swiss_ball",28:"reverse_hip_raise",29:"weighted_reverse_hip_raise",30:"single_leg_hip_raise",31:"weighted_single_leg_hip_raise",32:"single_leg_hip_raise_with_foot_on_bench",33:"weighted_single_leg_hip_raise_with_foot_on_bench",34:"single_leg_hip_raise_with_foot_on_bosu_ball",35:"weighted_single_leg_hip_raise_with_foot_on_bosu_ball",36:"single_leg_hip_raise_with_foot_on_foam_roller",37:"weighted_single_leg_hip_raise_with_foot_on_foam_roller",38:"single_leg_hip_raise_with_foot_on_medicine_ball",39:"weighted_single_leg_hip_raise_with_foot_on_medicine_ball",40:"single_leg_hip_raise_with_head_on_bosu_ball",41:"weighted_single_leg_hip_raise_with_head_on_bosu_ball",42:"weighted_clam_bridge",43:"single_leg_swiss_ball_hip_raise_and_leg_curl",44:"clams",45:"inner_thigh_circles",46:"inner_thigh_side_lift",47:"leg_circles",48:"leg_lift",49:"leg_lift_in_external_rotation"},hip_stability_exercise_name:{0:"band_side_lying_leg_raise",1:"dead_bug",2:"weighted_dead_bug",3:"external_hip_raise",4:"weighted_external_hip_raise",5:"fire_hydrant_kicks",6:"weighted_fire_hydrant_kicks",7:"hip_circles",8:"weighted_hip_circles",9:"inner_thigh_lift",10:"weighted_inner_thigh_lift",11:"lateral_walks_with_band_at_ankles",12:"pretzel_side_kick",13:"weighted_pretzel_side_kick",14:"prone_hip_internal_rotation",15:"weighted_prone_hip_internal_rotation",16:"quadruped",17:"quadruped_hip_extension",18:"weighted_quadruped_hip_extension",19:"quadruped_with_leg_lift",20:"weighted_quadruped_with_leg_lift",21:"side_lying_leg_raise",22:"weighted_side_lying_leg_raise",23:"sliding_hip_adduction",24:"weighted_sliding_hip_adduction",25:"standing_adduction",26:"weighted_standing_adduction",27:"standing_cable_hip_abduction",28:"standing_hip_abduction",29:"weighted_standing_hip_abduction",30:"standing_rear_leg_raise",31:"weighted_standing_rear_leg_raise",32:"supine_hip_internal_rotation",33:"weighted_supine_hip_internal_rotation"},hip_swing_excercise_name:{0:"single_arm_kettlebell_swing",1:"single_arm_dumbbell_swing",2:"step_out_swing"},hyperextension_exercise_name:{0:"back_extension_with_opposite_arm_and_leg_reach",1:"weighted_back_extension_with_opposite_arm_and_leg_reach",2:"base_rotations",3:"weighted_base_rotations",4:"bent_knee_reverse_hyperextension",5:"weighted_bent_knee_reverse_hyperextension",6:"hollow_hold_and_roll",7:"weighted_hollow_hold_and_roll",8:"kicks",9:"weighted_kicks",10:"knee_raises",11:"weighted_knee_raises",12:"kneeling_superman",13:"weighted_kneeling_superman",14:"lat_pull_down_with_row",15:"medicine_ball_deadlift_to_reach",16:"one_arm_one_leg_row",17:"one_arm_row_with_band",18:"overhead_lunge_with_medicine_ball",19:"plank_knee_tucks",20:"weighted_plank_knee_tucks",21:"side_step",22:"weighted_side_step",23:"single_leg_back_extension",24:"weighted_single_leg_back_extension",25:"spine_extension",26:"weighted_spine_extension",27:"static_back_extension",28:"weighted_static_back_extension",29:"superman_from_floor",30:"weighted_superman_from_floor",31:"swiss_ball_back_extension",32:"weighted_swiss_ball_back_extension",33:"swiss_ball_hyperextension",34:"weighted_swiss_ball_hyperextension",35:"swiss_ball_opposite_arm_and_leg_lift",36:"weighted_swiss_ball_opposite_arm_and_leg_lift",37:"superman_on_swiss_ball",38:"cobra",39:"supine_floor_barre"},lateral_raise_exercise_name:{0:"45_degree_cable_external_rotation",1:"alternating_lateral_raise_with_static_hold",2:"bar_muscle_up",3:"bent_over_lateral_raise",4:"cable_diagonal_raise",5:"cable_front_raise",6:"calorie_row",7:"combo_shoulder_raise",8:"dumbbell_diagonal_raise",9:"dumbbell_v_raise",10:"front_raise",11:"leaning_dumbbell_lateral_raise",12:"lying_dumbbell_raise",13:"muscle_up",14:"one_arm_cable_lateral_raise",15:"overhand_grip_rear_lateral_raise",16:"plate_raises",17:"ring_dip",18:"weighted_ring_dip",19:"ring_muscle_up",20:"weighted_ring_muscle_up",21:"rope_climb",22:"weighted_rope_climb",23:"scaption",24:"seated_lateral_raise",25:"seated_rear_lateral_raise",26:"side_lying_lateral_raise",27:"standing_lift",28:"suspended_row",29:"underhand_grip_rear_lateral_raise",30:"wall_slide",31:"weighted_wall_slide",32:"arm_circles",33:"shaving_the_head"},leg_curl_exercise_name:{0:"leg_curl",1:"weighted_leg_curl",2:"good_morning",3:"seated_barbell_good_morning",4:"single_leg_barbell_good_morning",5:"single_leg_sliding_leg_curl",6:"sliding_leg_curl",7:"split_barbell_good_morning",8:"split_stance_extension",9:"staggered_stance_good_morning",10:"swiss_ball_hip_raise_and_leg_curl",11:"zercher_good_morning"},leg_raise_exercise_name:{0:"hanging_knee_raise",1:"hanging_leg_raise",2:"weighted_hanging_leg_raise",3:"hanging_single_leg_raise",4:"weighted_hanging_single_leg_raise",5:"kettlebell_leg_raises",6:"leg_lowering_drill",7:"weighted_leg_lowering_drill",8:"lying_straight_leg_raise",9:"weighted_lying_straight_leg_raise",10:"medicine_ball_leg_drops",11:"quadruped_leg_raise",12:"weighted_quadruped_leg_raise",13:"reverse_leg_raise",14:"weighted_reverse_leg_raise",15:"reverse_leg_raise_on_swiss_ball",16:"weighted_reverse_leg_raise_on_swiss_ball",17:"single_leg_lowering_drill",18:"weighted_single_leg_lowering_drill",19:"weighted_hanging_knee_raise",20:"lateral_stepover",21:"weighted_lateral_stepover"},lunge_exercise_name:{0:"overhead_lunge",1:"lunge_matrix",2:"weighted_lunge_matrix",3:"alternating_barbell_forward_lunge",4:"alternating_dumbbell_lunge_with_reach",5:"back_foot_elevated_dumbbell_split_squat",6:"barbell_box_lunge",7:"barbell_bulgarian_split_squat",8:"barbell_crossover_lunge",9:"barbell_front_split_squat",10:"barbell_lunge",11:"barbell_reverse_lunge",12:"barbell_side_lunge",13:"barbell_split_squat",14:"core_control_rear_lunge",15:"diagonal_lunge",16:"drop_lunge",17:"dumbbell_box_lunge",18:"dumbbell_bulgarian_split_squat",19:"dumbbell_crossover_lunge",20:"dumbbell_diagonal_lunge",21:"dumbbell_lunge",22:"dumbbell_lunge_and_rotation",23:"dumbbell_overhead_bulgarian_split_squat",24:"dumbbell_reverse_lunge_to_high_knee_and_press",25:"dumbbell_side_lunge",26:"elevated_front_foot_barbell_split_squat",27:"front_foot_elevated_dumbbell_split_squat",28:"gunslinger_lunge",29:"lawnmower_lunge",30:"low_lunge_with_isometric_adduction",31:"low_side_to_side_lunge",32:"lunge",33:"weighted_lunge",34:"lunge_with_arm_reach",35:"lunge_with_diagonal_reach",36:"lunge_with_side_bend",37:"offset_dumbbell_lunge",38:"offset_dumbbell_reverse_lunge",39:"overhead_bulgarian_split_squat",40:"overhead_dumbbell_reverse_lunge",41:"overhead_dumbbell_split_squat",42:"overhead_lunge_with_rotation",43:"reverse_barbell_box_lunge",44:"reverse_box_lunge",45:"reverse_dumbbell_box_lunge",46:"reverse_dumbbell_crossover_lunge",47:"reverse_dumbbell_diagonal_lunge",48:"reverse_lunge_with_reach_back",49:"weighted_reverse_lunge_with_reach_back",50:"reverse_lunge_with_twist_and_overhead_reach",51:"weighted_reverse_lunge_with_twist_and_overhead_reach",52:"reverse_sliding_box_lunge",53:"weighted_reverse_sliding_box_lunge",54:"reverse_sliding_lunge",55:"weighted_reverse_sliding_lunge",56:"runners_lunge_to_balance",57:"weighted_runners_lunge_to_balance",58:"shifting_side_lunge",59:"side_and_crossover_lunge",60:"weighted_side_and_crossover_lunge",61:"side_lunge",62:"weighted_side_lunge",63:"side_lunge_and_press",64:"side_lunge_jump_off",65:"side_lunge_sweep",66:"weighted_side_lunge_sweep",67:"side_lunge_to_crossover_tap",68:"weighted_side_lunge_to_crossover_tap",69:"side_to_side_lunge_chops",70:"weighted_side_to_side_lunge_chops",71:"siff_jump_lunge",72:"weighted_siff_jump_lunge",73:"single_arm_reverse_lunge_and_press",74:"sliding_lateral_lunge",75:"weighted_sliding_lateral_lunge",76:"walking_barbell_lunge",77:"walking_dumbbell_lunge",78:"walking_lunge",79:"weighted_walking_lunge",80:"wide_grip_overhead_barbell_split_squat"},olympic_lift_exercise_name:{0:"barbell_hang_power_clean",1:"barbell_hang_squat_clean",2:"barbell_power_clean",3:"barbell_power_snatch",4:"barbell_squat_clean",5:"clean_and_jerk",6:"barbell_hang_power_snatch",7:"barbell_hang_pull",8:"barbell_high_pull",9:"barbell_snatch",10:"barbell_split_jerk",11:"clean",12:"dumbbell_clean",13:"dumbbell_hang_pull",14:"one_hand_dumbbell_split_snatch",15:"push_jerk",16:"single_arm_dumbbell_snatch",17:"single_arm_hang_snatch",18:"single_arm_kettlebell_snatch",19:"split_jerk",20:"squat_clean_and_jerk"},plank_exercise_name:{0:"45_degree_plank",1:"weighted_45_degree_plank",2:"90_degree_static_hold",3:"weighted_90_degree_static_hold",4:"bear_crawl",5:"weighted_bear_crawl",6:"cross_body_mountain_climber",7:"weighted_cross_body_mountain_climber",8:"elbow_plank_pike_jacks",9:"weighted_elbow_plank_pike_jacks",10:"elevated_feet_plank",11:"weighted_elevated_feet_plank",12:"elevator_abs",13:"weighted_elevator_abs",14:"extended_plank",15:"weighted_extended_plank",16:"full_plank_passe_twist",17:"weighted_full_plank_passe_twist",18:"inching_elbow_plank",19:"weighted_inching_elbow_plank",20:"inchworm_to_side_plank",21:"weighted_inchworm_to_side_plank",22:"kneeling_plank",23:"weighted_kneeling_plank",24:"kneeling_side_plank_with_leg_lift",25:"weighted_kneeling_side_plank_with_leg_lift",26:"lateral_roll",27:"weighted_lateral_roll",28:"lying_reverse_plank",29:"weighted_lying_reverse_plank",30:"medicine_ball_mountain_climber",31:"weighted_medicine_ball_mountain_climber",32:"modified_mountain_climber_and_extension",33:"weighted_modified_mountain_climber_and_extension",34:"mountain_climber",35:"weighted_mountain_climber",36:"mountain_climber_on_sliding_discs",37:"weighted_mountain_climber_on_sliding_discs",38:"mountain_climber_with_feet_on_bosu_ball",39:"weighted_mountain_climber_with_feet_on_bosu_ball",40:"mountain_climber_with_hands_on_bench",41:"mountain_climber_with_hands_on_swiss_ball",42:"weighted_mountain_climber_with_hands_on_swiss_ball",43:"plank",44:"plank_jacks_with_feet_on_sliding_discs",45:"weighted_plank_jacks_with_feet_on_sliding_discs",46:"plank_knee_twist",47:"weighted_plank_knee_twist",48:"plank_pike_jumps",49:"weighted_plank_pike_jumps",50:"plank_pikes",51:"weighted_plank_pikes",52:"plank_to_stand_up",53:"weighted_plank_to_stand_up",54:"plank_with_arm_raise",55:"weighted_plank_with_arm_raise",56:"plank_with_knee_to_elbow",57:"weighted_plank_with_knee_to_elbow",58:"plank_with_oblique_crunch",59:"weighted_plank_with_oblique_crunch",60:"plyometric_side_plank",61:"weighted_plyometric_side_plank",62:"rolling_side_plank",63:"weighted_rolling_side_plank",64:"side_kick_plank",65:"weighted_side_kick_plank",66:"side_plank",67:"weighted_side_plank",68:"side_plank_and_row",69:"weighted_side_plank_and_row",70:"side_plank_lift",71:"weighted_side_plank_lift",72:"side_plank_with_elbow_on_bosu_ball",73:"weighted_side_plank_with_elbow_on_bosu_ball",74:"side_plank_with_feet_on_bench",75:"weighted_side_plank_with_feet_on_bench",76:"side_plank_with_knee_circle",77:"weighted_side_plank_with_knee_circle",78:"side_plank_with_knee_tuck",79:"weighted_side_plank_with_knee_tuck",80:"side_plank_with_leg_lift",81:"weighted_side_plank_with_leg_lift",82:"side_plank_with_reach_under",83:"weighted_side_plank_with_reach_under",84:"single_leg_elevated_feet_plank",85:"weighted_single_leg_elevated_feet_plank",86:"single_leg_flex_and_extend",87:"weighted_single_leg_flex_and_extend",88:"single_leg_side_plank",89:"weighted_single_leg_side_plank",90:"spiderman_plank",91:"weighted_spiderman_plank",92:"straight_arm_plank",93:"weighted_straight_arm_plank",94:"straight_arm_plank_with_shoulder_touch",95:"weighted_straight_arm_plank_with_shoulder_touch",96:"swiss_ball_plank",97:"weighted_swiss_ball_plank",98:"swiss_ball_plank_leg_lift",99:"weighted_swiss_ball_plank_leg_lift",100:"swiss_ball_plank_leg_lift_and_hold",101:"swiss_ball_plank_with_feet_on_bench",102:"weighted_swiss_ball_plank_with_feet_on_bench",103:"swiss_ball_prone_jackknife",104:"weighted_swiss_ball_prone_jackknife",105:"swiss_ball_side_plank",106:"weighted_swiss_ball_side_plank",107:"three_way_plank",108:"weighted_three_way_plank",109:"towel_plank_and_knee_in",110:"weighted_towel_plank_and_knee_in",111:"t_stabilization",112:"weighted_t_stabilization",113:"turkish_get_up_to_side_plank",114:"weighted_turkish_get_up_to_side_plank",115:"two_point_plank",116:"weighted_two_point_plank",117:"weighted_plank",118:"wide_stance_plank_with_diagonal_arm_lift",119:"weighted_wide_stance_plank_with_diagonal_arm_lift",120:"wide_stance_plank_with_diagonal_leg_lift",121:"weighted_wide_stance_plank_with_diagonal_leg_lift",122:"wide_stance_plank_with_leg_lift",123:"weighted_wide_stance_plank_with_leg_lift",124:"wide_stance_plank_with_opposite_arm_and_leg_lift",125:"weighted_mountain_climber_with_hands_on_bench",126:"weighted_swiss_ball_plank_leg_lift_and_hold",127:"weighted_wide_stance_plank_with_opposite_arm_and_leg_lift",128:"plank_with_feet_on_swiss_ball",129:"side_plank_to_plank_with_reach_under",130:"bridge_with_glute_lower_lift",131:"bridge_one_leg_bridge",132:"plank_with_arm_variations",133:"plank_with_leg_lift",134:"reverse_plank_with_leg_pull"},plyo_exercise_name:{0:"alternating_jump_lunge",1:"weighted_alternating_jump_lunge",2:"barbell_jump_squat",3:"body_weight_jump_squat",4:"weighted_jump_squat",5:"cross_knee_strike",6:"weighted_cross_knee_strike",7:"depth_jump",8:"weighted_depth_jump",9:"dumbbell_jump_squat",10:"dumbbell_split_jump",11:"front_knee_strike",12:"weighted_front_knee_strike",13:"high_box_jump",14:"weighted_high_box_jump",15:"isometric_explosive_body_weight_jump_squat",16:"weighted_isometric_explosive_jump_squat",17:"lateral_leap_and_hop",18:"weighted_lateral_leap_and_hop",19:"lateral_plyo_squats",20:"weighted_lateral_plyo_squats",21:"lateral_slide",22:"weighted_lateral_slide",23:"medicine_ball_overhead_throws",24:"medicine_ball_side_throw",25:"medicine_ball_slam",26:"side_to_side_medicine_ball_throws",27:"side_to_side_shuffle_jump",28:"weighted_side_to_side_shuffle_jump",29:"squat_jump_onto_box",30:"weighted_squat_jump_onto_box",31:"squat_jumps_in_and_out",32:"weighted_squat_jumps_in_and_out"},pull_up_exercise_name:{0:"banded_pull_ups",1:"30_degree_lat_pulldown",2:"band_assisted_chin_up",3:"close_grip_chin_up",4:"weighted_close_grip_chin_up",5:"close_grip_lat_pulldown",6:"crossover_chin_up",7:"weighted_crossover_chin_up",8:"ez_bar_pullover",9:"hanging_hurdle",10:"weighted_hanging_hurdle",11:"kneeling_lat_pulldown",12:"kneeling_underhand_grip_lat_pulldown",13:"lat_pulldown",14:"mixed_grip_chin_up",15:"weighted_mixed_grip_chin_up",16:"mixed_grip_pull_up",17:"weighted_mixed_grip_pull_up",18:"reverse_grip_pulldown",19:"standing_cable_pullover",20:"straight_arm_pulldown",21:"swiss_ball_ez_bar_pullover",22:"towel_pull_up",23:"weighted_towel_pull_up",24:"weighted_pull_up",25:"wide_grip_lat_pulldown",26:"wide_grip_pull_up",27:"weighted_wide_grip_pull_up",28:"burpee_pull_up",29:"weighted_burpee_pull_up",30:"jumping_pull_ups",31:"weighted_jumping_pull_ups",32:"kipping_pull_up",33:"weighted_kipping_pull_up",34:"l_pull_up",35:"weighted_l_pull_up",36:"suspended_chin_up",37:"weighted_suspended_chin_up",38:"pull_up"},push_up_exercise_name:{0:"chest_press_with_band",1:"alternating_staggered_push_up",2:"weighted_alternating_staggered_push_up",3:"alternating_hands_medicine_ball_push_up",4:"weighted_alternating_hands_medicine_ball_push_up",5:"bosu_ball_push_up",6:"weighted_bosu_ball_push_up",7:"clapping_push_up",8:"weighted_clapping_push_up",9:"close_grip_medicine_ball_push_up",10:"weighted_close_grip_medicine_ball_push_up",11:"close_hands_push_up",12:"weighted_close_hands_push_up",13:"decline_push_up",14:"weighted_decline_push_up",15:"diamond_push_up",16:"weighted_diamond_push_up",17:"explosive_crossover_push_up",18:"weighted_explosive_crossover_push_up",19:"explosive_push_up",20:"weighted_explosive_push_up",21:"feet_elevated_side_to_side_push_up",22:"weighted_feet_elevated_side_to_side_push_up",23:"hand_release_push_up",24:"weighted_hand_release_push_up",25:"handstand_push_up",26:"weighted_handstand_push_up",27:"incline_push_up",28:"weighted_incline_push_up",29:"isometric_explosive_push_up",30:"weighted_isometric_explosive_push_up",31:"judo_push_up",32:"weighted_judo_push_up",33:"kneeling_push_up",34:"weighted_kneeling_push_up",35:"medicine_ball_chest_pass",36:"medicine_ball_push_up",37:"weighted_medicine_ball_push_up",38:"one_arm_push_up",39:"weighted_one_arm_push_up",40:"weighted_push_up",41:"push_up_and_row",42:"weighted_push_up_and_row",43:"push_up_plus",44:"weighted_push_up_plus",45:"push_up_with_feet_on_swiss_ball",46:"weighted_push_up_with_feet_on_swiss_ball",47:"push_up_with_one_hand_on_medicine_ball",48:"weighted_push_up_with_one_hand_on_medicine_ball",49:"shoulder_push_up",50:"weighted_shoulder_push_up",51:"single_arm_medicine_ball_push_up",52:"weighted_single_arm_medicine_ball_push_up",53:"spiderman_push_up",54:"weighted_spiderman_push_up",55:"stacked_feet_push_up",56:"weighted_stacked_feet_push_up",57:"staggered_hands_push_up",58:"weighted_staggered_hands_push_up",59:"suspended_push_up",60:"weighted_suspended_push_up",61:"swiss_ball_push_up",62:"weighted_swiss_ball_push_up",63:"swiss_ball_push_up_plus",64:"weighted_swiss_ball_push_up_plus",65:"t_push_up",66:"weighted_t_push_up",67:"triple_stop_push_up",68:"weighted_triple_stop_push_up",69:"wide_hands_push_up",70:"weighted_wide_hands_push_up",71:"parallette_handstand_push_up",72:"weighted_parallette_handstand_push_up",73:"ring_handstand_push_up",74:"weighted_ring_handstand_push_up",75:"ring_push_up",76:"weighted_ring_push_up",77:"push_up",78:"pilates_pushup"},row_exercise_name:{0:"barbell_straight_leg_deadlift_to_row",1:"cable_row_standing",2:"dumbbell_row",3:"elevated_feet_inverted_row",4:"weighted_elevated_feet_inverted_row",5:"face_pull",6:"face_pull_with_external_rotation",7:"inverted_row_with_feet_on_swiss_ball",8:"weighted_inverted_row_with_feet_on_swiss_ball",9:"kettlebell_row",10:"modified_inverted_row",11:"weighted_modified_inverted_row",12:"neutral_grip_alternating_dumbbell_row",13:"one_arm_bent_over_row",14:"one_legged_dumbbell_row",15:"renegade_row",16:"reverse_grip_barbell_row",17:"rope_handle_cable_row",18:"seated_cable_row",19:"seated_dumbbell_row",20:"single_arm_cable_row",21:"single_arm_cable_row_and_rotation",22:"single_arm_inverted_row",23:"weighted_single_arm_inverted_row",24:"single_arm_neutral_grip_dumbbell_row",25:"single_arm_neutral_grip_dumbbell_row_and_rotation",26:"suspended_inverted_row",27:"weighted_suspended_inverted_row",28:"t_bar_row",29:"towel_grip_inverted_row",30:"weighted_towel_grip_inverted_row",31:"underhand_grip_cable_row",32:"v_grip_cable_row",33:"wide_grip_seated_cable_row"},shoulder_press_exercise_name:{0:"alternating_dumbbell_shoulder_press",1:"arnold_press",2:"barbell_front_squat_to_push_press",3:"barbell_push_press",4:"barbell_shoulder_press",5:"dead_curl_press",6:"dumbbell_alternating_shoulder_press_and_twist",7:"dumbbell_hammer_curl_to_lunge_to_press",8:"dumbbell_push_press",9:"floor_inverted_shoulder_press",10:"weighted_floor_inverted_shoulder_press",11:"inverted_shoulder_press",12:"weighted_inverted_shoulder_press",13:"one_arm_push_press",14:"overhead_barbell_press",15:"overhead_dumbbell_press",16:"seated_barbell_shoulder_press",17:"seated_dumbbell_shoulder_press",18:"single_arm_dumbbell_shoulder_press",19:"single_arm_step_up_and_press",20:"smith_machine_overhead_press",21:"split_stance_hammer_curl_to_press",22:"swiss_ball_dumbbell_shoulder_press",23:"weight_plate_front_raise"},shoulder_stability_exercise_name:{0:"90_degree_cable_external_rotation",1:"band_external_rotation",2:"band_internal_rotation",3:"bent_arm_lateral_raise_and_external_rotation",4:"cable_external_rotation",5:"dumbbell_face_pull_with_external_rotation",6:"floor_i_raise",7:"weighted_floor_i_raise",8:"floor_t_raise",9:"weighted_floor_t_raise",10:"floor_y_raise",11:"weighted_floor_y_raise",12:"incline_i_raise",13:"weighted_incline_i_raise",14:"incline_l_raise",15:"weighted_incline_l_raise",16:"incline_t_raise",17:"weighted_incline_t_raise",18:"incline_w_raise",19:"weighted_incline_w_raise",20:"incline_y_raise",21:"weighted_incline_y_raise",22:"lying_external_rotation",23:"seated_dumbbell_external_rotation",24:"standing_l_raise",25:"swiss_ball_i_raise",26:"weighted_swiss_ball_i_raise",27:"swiss_ball_t_raise",28:"weighted_swiss_ball_t_raise",29:"swiss_ball_w_raise",30:"weighted_swiss_ball_w_raise",31:"swiss_ball_y_raise",32:"weighted_swiss_ball_y_raise"},shrug_exercise_name:{0:"barbell_jump_shrug",1:"barbell_shrug",2:"barbell_upright_row",3:"behind_the_back_smith_machine_shrug",4:"dumbbell_jump_shrug",5:"dumbbell_shrug",6:"dumbbell_upright_row",7:"incline_dumbbell_shrug",8:"overhead_barbell_shrug",9:"overhead_dumbbell_shrug",10:"scaption_and_shrug",11:"scapular_retraction",12:"serratus_chair_shrug",13:"weighted_serratus_chair_shrug",14:"serratus_shrug",15:"weighted_serratus_shrug",16:"wide_grip_jump_shrug"},sit_up_exercise_name:{0:"alternating_sit_up",1:"weighted_alternating_sit_up",2:"bent_knee_v_up",3:"weighted_bent_knee_v_up",4:"butterfly_sit_up",5:"weighted_butterfly_situp",6:"cross_punch_roll_up",7:"weighted_cross_punch_roll_up",8:"crossed_arms_sit_up",9:"weighted_crossed_arms_sit_up",10:"get_up_sit_up",11:"weighted_get_up_sit_up",12:"hovering_sit_up",13:"weighted_hovering_sit_up",14:"kettlebell_sit_up",15:"medicine_ball_alternating_v_up",16:"medicine_ball_sit_up",17:"medicine_ball_v_up",18:"modified_sit_up",19:"negative_sit_up",20:"one_arm_full_sit_up",21:"reclining_circle",22:"weighted_reclining_circle",23:"reverse_curl_up",24:"weighted_reverse_curl_up",25:"single_leg_swiss_ball_jackknife",26:"weighted_single_leg_swiss_ball_jackknife",27:"the_teaser",28:"the_teaser_weighted",29:"three_part_roll_down",30:"weighted_three_part_roll_down",31:"v_up",32:"weighted_v_up",33:"weighted_russian_twist_on_swiss_ball",34:"weighted_sit_up",35:"x_abs",36:"weighted_x_abs",37:"sit_up"},squat_exercise_name:{0:"leg_press",1:"back_squat_with_body_bar",2:"back_squats",3:"weighted_back_squats",4:"balancing_squat",5:"weighted_balancing_squat",6:"barbell_back_squat",7:"barbell_box_squat",8:"barbell_front_squat",9:"barbell_hack_squat",10:"barbell_hang_squat_snatch",11:"barbell_lateral_step_up",12:"barbell_quarter_squat",13:"barbell_siff_squat",14:"barbell_squat_snatch",15:"barbell_squat_with_heels_raised",16:"barbell_stepover",17:"barbell_step_up",18:"bench_squat_with_rotational_chop",19:"weighted_bench_squat_with_rotational_chop",20:"body_weight_wall_squat",21:"weighted_wall_squat",22:"box_step_squat",23:"weighted_box_step_squat",24:"braced_squat",25:"crossed_arm_barbell_front_squat",26:"crossover_dumbbell_step_up",27:"dumbbell_front_squat",28:"dumbbell_split_squat",29:"dumbbell_squat",30:"dumbbell_squat_clean",31:"dumbbell_stepover",32:"dumbbell_step_up",33:"elevated_single_leg_squat",34:"weighted_elevated_single_leg_squat",35:"figure_four_squats",36:"weighted_figure_four_squats",37:"goblet_squat",38:"kettlebell_squat",39:"kettlebell_swing_overhead",40:"kettlebell_swing_with_flip_to_squat",41:"lateral_dumbbell_step_up",42:"one_legged_squat",43:"overhead_dumbbell_squat",44:"overhead_squat",45:"partial_single_leg_squat",46:"weighted_partial_single_leg_squat",47:"pistol_squat",48:"weighted_pistol_squat",49:"plie_slides",50:"weighted_plie_slides",51:"plie_squat",52:"weighted_plie_squat",53:"prisoner_squat",54:"weighted_prisoner_squat",55:"single_leg_bench_get_up",56:"weighted_single_leg_bench_get_up",57:"single_leg_bench_squat",58:"weighted_single_leg_bench_squat",59:"single_leg_squat_on_swiss_ball",60:"weighted_single_leg_squat_on_swiss_ball",61:"squat",62:"weighted_squat",63:"squats_with_band",64:"staggered_squat",65:"weighted_staggered_squat",66:"step_up",67:"weighted_step_up",68:"suitcase_squats",69:"sumo_squat",70:"sumo_squat_slide_in",71:"weighted_sumo_squat_slide_in",72:"sumo_squat_to_high_pull",73:"sumo_squat_to_stand",74:"weighted_sumo_squat_to_stand",75:"sumo_squat_with_rotation",76:"weighted_sumo_squat_with_rotation",77:"swiss_ball_body_weight_wall_squat",78:"weighted_swiss_ball_wall_squat",79:"thrusters",80:"uneven_squat",81:"weighted_uneven_squat",82:"waist_slimming_squat",83:"wall_ball",84:"wide_stance_barbell_squat",85:"wide_stance_goblet_squat",86:"zercher_squat",87:"kbs_overhead",88:"squat_and_side_kick",89:"squat_jumps_in_n_out",90:"pilates_plie_squats_parallel_turned_out_flat_and_heels",91:"releve_straight_leg_and_knee_bent_with_one_leg_variation"},total_body_exercise_name:{0:"burpee",1:"weighted_burpee",2:"burpee_box_jump",3:"weighted_burpee_box_jump",4:"high_pull_burpee",5:"man_makers",6:"one_arm_burpee",7:"squat_thrusts",8:"weighted_squat_thrusts",9:"squat_plank_push_up",10:"weighted_squat_plank_push_up",11:"standing_t_rotation_balance",12:"weighted_standing_t_rotation_balance"},triceps_extension_exercise_name:{0:"bench_dip",1:"weighted_bench_dip",2:"body_weight_dip",3:"cable_kickback",4:"cable_lying_triceps_extension",5:"cable_overhead_triceps_extension",6:"dumbbell_kickback",7:"dumbbell_lying_triceps_extension",8:"ez_bar_overhead_triceps_extension",9:"incline_dip",10:"weighted_incline_dip",11:"incline_ez_bar_lying_triceps_extension",12:"lying_dumbbell_pullover_to_extension",13:"lying_ez_bar_triceps_extension",14:"lying_triceps_extension_to_close_grip_bench_press",15:"overhead_dumbbell_triceps_extension",16:"reclining_triceps_press",17:"reverse_grip_pressdown",18:"reverse_grip_triceps_pressdown",19:"rope_pressdown",20:"seated_barbell_overhead_triceps_extension",21:"seated_dumbbell_overhead_triceps_extension",22:"seated_ez_bar_overhead_triceps_extension",23:"seated_single_arm_overhead_dumbbell_extension",24:"single_arm_dumbbell_overhead_triceps_extension",25:"single_dumbbell_seated_overhead_triceps_extension",26:"single_leg_bench_dip_and_kick",27:"weighted_single_leg_bench_dip_and_kick",28:"single_leg_dip",29:"weighted_single_leg_dip",30:"static_lying_triceps_extension",31:"suspended_dip",32:"weighted_suspended_dip",33:"swiss_ball_dumbbell_lying_triceps_extension",34:"swiss_ball_ez_bar_lying_triceps_extension",35:"swiss_ball_ez_bar_overhead_triceps_extension",36:"tabletop_dip",37:"weighted_tabletop_dip",38:"triceps_extension_on_floor",39:"triceps_pressdown",40:"weighted_dip"},warm_up_exercise_name:{0:"quadruped_rocking",1:"neck_tilts",2:"ankle_circles",3:"ankle_dorsiflexion_with_band",4:"ankle_internal_rotation",5:"arm_circles",6:"bent_over_reach_to_sky",7:"cat_camel",8:"elbow_to_foot_lunge",9:"forward_and_backward_leg_swings",10:"groiners",11:"inverted_hamstring_stretch",12:"lateral_duck_under",13:"neck_rotations",14:"opposite_arm_and_leg_balance",15:"reach_roll_and_lift",16:"scorpion",17:"shoulder_circles",18:"side_to_side_leg_swings",19:"sleeper_stretch",20:"slide_out",21:"swiss_ball_hip_crossover",22:"swiss_ball_reach_roll_and_lift",23:"swiss_ball_windshield_wipers",24:"thoracic_rotation",25:"walking_high_kicks",26:"walking_high_knees",27:"walking_knee_hugs",28:"walking_leg_cradles",29:"walkout",30:"walkout_from_push_up_position"},run_exercise_name:{0:"run",1:"walk",2:"jog",3:"sprint"},water_type:{0:"fresh",1:"salt",2:"en13319",3:"custom"},tissue_model_type:{0:"zhl_16c"},dive_gas_status:{0:"disabled",1:"enabled",2:"backup_only"},dive_alarm_type:{0:"depth",1:"time"},dive_backlight_mode:{0:"at_depth",1:"always_on"},favero_product:{10:"assioma_uno",12:"assioma_duo"}}};function Va(s,e){let t=J.messages[e];return t?t[s]||{}:{}}function Ka(s){let e=J.messages[s];return e?e.name:""}function Tn(s){return{name:Ka(s),getAttributes:e=>Va(e,s)}}var Xa=96,Ki=128,On=6310656e5,Us=0;function Qi(s,e){let t=0;s||e.reverse();for(let n=0;n<e.length;n++)t+=e[n]<<(n<<3)>>>0;return t}function Ga(s,e,t,n){if(e.endianAbility){let i=[];for(let o=0;o<e.size;o++)i.push(s[t+o]);let{buffer:r}=new Uint8Array(i),a=new DataView(r);try{switch(e.type){case"sint16":return a.getInt16(0,e.littleEndian);case"uint16":case"uint16z":return a.getUint16(0,e.littleEndian);case"sint32":return a.getInt32(0,e.littleEndian);case"uint32":case"uint32z":return a.getUint32(0,e.littleEndian);case"float32":return a.getFloat32(0,e.littleEndian);case"float64":return a.getFloat64(0,e.littleEndian);case"uint32_array":{let o=[];for(let l=0;l<e.size;l+=4)o.push(a.getUint32(l,e.littleEndian));return o}case"uint16_array":{let o=[];for(let l=0;l<e.size;l+=2)o.push(a.getUint16(l,e.littleEndian));return o}}}catch(o){if(!n.force)throw o}return Qi(e.littleEndian,i)}if(e.type==="string"){let i=[];for(let r=0;r<e.size;r++)s[t+r]&&i.push(s[t+r]);return Yi.Buffer.from(i).toString("utf-8")}if(e.type==="byte_array"){let i=[];for(let r=0;r<e.size;r++)i.push(s[t+r]);return i}return s[t]}function Xi(s,e,t,n){switch(e){case"date_time":case"local_date_time":return new Date(s*1e3+On);case"sint32":return s*J.scConst;case"uint8":case"sint16":case"uint32":case"uint16":return t?s/t+n:s;case"uint32_array":case"uint16_array":return s.map(i=>t?i/t+n:i);default:{if(!J.types[e])return s;let i=[];for(let a in J.types[e])a in J.types[e]&&i.push(String(J.types[e][a]));if(!i.includes("mask"))return J.types[e][s];let r={};for(let a in J.types[e])a in J.types[e]&&(J.types[e][a]==="mask"?r.value=s&Number(a):r[J.types[e][a]]=!!((s&Number(a))>>7));return r}}}function Ya(s,e){switch(e){case"enum":return s===255;case"sint8":return s===127;case"uint8":return s===255;case"sint16":return s===32767;case"uint16":return s===65535;case"sint32":return s===2147483647;case"uint32":return s===4294967295;case"string":return s===0;case"float32":return s===4294967295;case"float64":return s===18446744073709552e3;case"uint8z":return s===0;case"uint16z":return s===0;case"uint32z":return s===0;case"byte":return s===255;case"sint64":return s===9223372036854776e3;case"uint64":return s===18446744073709552e3;case"uint64z":return s===0;default:return!1}}function Ms(s,e,t){let i=J.options[e][t];return i?s*i.multiplier+i.offset:s}function Gi(s,e,t){switch(e){case"speed":case"enhanced_speed":case"vertical_speed":case"avg_speed":case"max_speed":case"speed_1s":case"ball_speed":case"enhanced_avg_speed":case"enhanced_max_speed":case"avg_pos_vertical_speed":case"max_pos_vertical_speed":case"avg_neg_vertical_speed":case"max_neg_vertical_speed":return Ms(s,"speedUnits",t.speedUnit);case"distance":case"total_distance":case"enhanced_avg_altitude":case"enhanced_min_altitude":case"enhanced_max_altitude":case"enhanced_altitude":case"height":case"odometer":case"avg_stroke_distance":case"min_altitude":case"avg_altitude":case"max_altitude":case"total_ascent":case"total_descent":case"altitude":case"cycle_length":case"auto_wheelsize":case"custom_wheelsize":case"gps_accuracy":return Ms(s,"lengthUnits",t.lengthUnit);case"temperature":case"avg_temperature":case"max_temperature":return Ms(s,"temperatureUnits",t.temperatureUnit);case"pressure":case"start_pressure":case"end_pressure":return Ms(s,"pressureUnits",t.pressureUnit);default:return s}}function Zi(s,e,t,n,i,r,a){let o=s[n],l=o&15;if((o&Ki)===Ki)l=(o&Xa)>>5;else if((o&64)===64){let v=(o&32)===32,w=s[n+2]===0,R=s[n+5],I=v?s[n+5+R*3+1]:0,b={littleEndian:w,globalMessageNumber:Qi(w,[s[n+3],s[n+4]]),numberOfFields:R+I,fieldDefs:[]},F=Tn(b.globalMessageNumber);for(let B=0;B<R;B++){let S=n+6+B*3,$=s[S+2],{field:N,type:T}=F.getAttributes(s[S]),O={type:T,fDefNo:s[S],size:s[S+1],endianAbility:($&128)===128,littleEndian:w,baseTypeNo:$&15,name:N,dataType:$&15};b.fieldDefs.push(O)}for(let B=0;B<I;B++)try{let S=n+6+R*3+1+B*3,$=s[S],N=s[S+1],T=s[S+2],O=t[T][$],ie=O.fit_base_type_id,Ae={type:J.types.fit_base_type[ie],fDefNo:$,size:N,endianAbility:(ie&128)===128,littleEndian:w,baseTypeNo:ie&15,name:O.field_name,dataType:ie&15,scale:O.scale||1,offset:O.offset||0,developerDataIndex:T,isDeveloperField:!0};b.fieldDefs.push(Ae)}catch(S){if(i.force)continue;throw S}e[l]=b;let P=n+6+b.numberOfFields*3,M=P+1;return{messageType:"definition",nextIndex:v?M:P}}let _=e[l]||e[0],h=0,c=n+1,g={},f=Tn(_.globalMessageNumber);for(let v=0;v<_.fieldDefs.length;v++){let w=_.fieldDefs[v],R=Ga(s,w,c,i);if(!Ya(R,w.type)){if(w.isDeveloperField){let I=w.name,{type:b}=w,{scale:F}=w,{offset:P}=w;g[w.name]=Gi(Xi(R,b,F,P),I,i)}else{let{field:I,type:b,scale:F,offset:P}=f.getAttributes(w.fDefNo);I!=="unknown"&&I!==""&&I!==void 0&&(g[I]=Gi(Xi(R,b,F,P),I,i))}f.name==="record"&&i.elapsedRecordField&&(g.elapsed_time=(g.timestamp-(r||0))/1e3,g.timer_time=g.elapsed_time-a)}c+=w.size,h+=w.size}return f.name==="field_description"&&(t[g.developer_data_index]=t[g.developer_data_index]||[],t[g.developer_data_index][g.field_definition_number]=g),f.name==="monitoring"&&(g.timestamp&&(Us=g.timestamp,g.timestamp=new Date(g.timestamp*1e3+On)),g.timestamp16&&!g.timestamp&&(Us+=g.timestamp16-(Us&65535)&65535,g.timestamp=new Date(Us*1e3+On))),{messageType:f.name,nextIndex:n+h+1,message:g}}function er(s){if(s instanceof ArrayBuffer)return s;let e=new ArrayBuffer(s.length),t=new Uint8Array(e);for(let n=0;n<s.length;++n)t[n]=s[n];return e}function $n(s,e,t){let n=[0,52225,55297,5120,61441,15360,10240,58369,40961,27648,30720,46081,20480,39937,34817,17408],i=0;for(let r=e;r<t;r++){let a=s[r],o=n[i&15];i=i>>4&4095,i=i^o^n[a&15],o=n[i&15],i=i>>4&4095,i=i^o^n[a>>4&15]}return i}function Bn(s,e,t){let n=[...s],i=0;for(let r=0;r<n.length;r++){let a=n[r],o=n[r+1],l=[],_=new Date(a.start_time).getTime(),h=o?new Date(o.start_time).getTime():null;for(let c=i;c<t.length;c++){let g=t[c];if(o&&h){let f=new Date(g.timestamp).getTime();if(_<=f&&h>f)l.push(g);else if(h<=f){i=c;break}}else l.push(g)}n[r][e]||(n[r][e]=l)}return n}function tr(s,e){let t=[...s],n=0;for(let i=0;i<t.length;i++){let r=t[i],a=t[i+1],o=[],l=new Date(r.start_time).getTime(),_=a?new Date(a.start_time).getTime():null;for(let h=n;h<e.length;h++){let c=e[h];if(a&&_){let g=new Date(c.start_time).getTime();if(l<=g&&_>g)o.push(c);else if(_<=g){n=h;break}}else o.push(c)}t[i].laps||(t[i].laps=o)}return t}var cs=class{constructor(e={}){this.options={force:e.force!=null?e.force:!0,speedUnit:e.speedUnit||"m/s",lengthUnit:e.lengthUnit||"m",temperatureUnit:e.temperatureUnit||"celsius",elapsedRecordField:e.elapsedRecordField||!1,pressureUnit:e.pressureUnit||"bar",mode:e.mode||"list"}}parseAsync(e){return new Promise((t,n)=>{this.parse(e,(i,r)=>{i?n(i):r&&t(r)})})}parse(e,t){var n;let i=new Uint8Array(er(e));if(i.length<12&&(t("File to small to be a FIT file",void 0),!this.options.force))return;let r=i[0];if(r!==14&&r!==12&&(t("Incorrect header size",void 0),!this.options.force))return;let a="";for(let Le=8;Le<12;Le++)a+=String.fromCharCode(i[Le]);if(a!==".FIT"&&(t("Missing '.FIT' in header",void 0),!this.options.force))return;if(r===14){let Le=i[12]+(i[13]<<8),_s=$n(i,0,12);if(Le!==_s&&!this.options.force)return}let o=i[1],l=i[2]+(i[3]<<8),h=i[4]+(i[5]<<8)+(i[6]<<16)+(i[7]<<24)+r,c=i[h]+(i[h+1]<<8),g=$n(i,r===12?0:r,h);if(c!==g&&!this.options.force)return;let f={profileVersion:l,protocolVersion:o},v=[],w=[],R=[],I=[],b=[],F=[],P=[],M=[],B=[],S=[],$=[],N=[],T=[],O=[],ie=[],Ae=[],$s=[],ls=[],gn=[],vi=[],ki=[],yn=r,ia=[],ra=[],Ai=this.options.mode==="cascade",aa=Ai||this.options.mode==="both",wn,bn,Ii=0;for(;yn<h;){let{nextIndex:Le,messageType:_s,message:C}=Zi(i,ia,ra,yn,this.options,wn,Ii);switch(yn=Le,_s){case"lap":w.push(C);break;case"session":v.push(C);break;case"event":C.event==="timer"&&(C.event_type==="stop_all"?bn=C.timestamp:C.event_type==="start"&&bn&&(Ii+=(C.timestamp-bn)/1e3)),I.push(C);break;case"length":gn.push(C);break;case"hrv":P.push(C);break;case"hr_zone":b.push(C);break;case"power_zone":F.push(C);break;case"record":wn||(wn=C.timestamp,C.elapsed_time=0,C.timer_time=0),R.push(C);break;case"field_description":S.push(C);break;case"device_info":M.push(C);break;case"developer_data_id":B.push(C);break;case"dive_gas":$.push(C);break;case"course_point":N.push(C);break;case"sport":T.push(C);break;case"file_id":C&&$s.push(C);break;case"definition":C&&Ae.push(C);break;case"monitoring":O.push(C);break;case"monitoring_info":ls.push(C);break;case"stress_level":ie.push(C);break;case"software":f.software=C;break;case"tank_update":vi.push(C);break;case"tank_summary":ki.push(C);break;default:_s!==""&&(f[_s]=C);break}}f.hr_zone=b,f.power_zone=F,f.dive_gases=$,f.course_points=N,f.sports=T,f.monitors=O,f.stress=ie,f.file_ids=$s,f.monitor_info=ls,f.definitions=Ae,f.tank_updates=vi,f.tank_summaries=ki,aa&&(w=Bn(w,"records",R),w=Bn(w,"lengths",gn),v=tr(v,w),f.activity=Object.assign(Object.assign({},(n=f.activity)!==null&&n!==void 0?n:{}),{sessions:v,events:I,hrv:P,device_infos:M,developer_data_ids:B,field_descriptions:S,sports:T})),Ai||(f.sessions=v,f.laps=w,f.lengths=gn,f.records=R,f.events=I,f.device_infos=M,f.developer_data_ids=B,f.field_descriptions=S,f.hrv=P),t(void 0,f)}};function k(s,e,t,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!i:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(s,t):i?i.value=t:e.set(s,t),t}function u(s,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!n:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(s):n?n.value:e.get(s)}var Nn=function(){let{crypto:s}=globalThis;if(s?.randomUUID)return Nn=s.randomUUID.bind(s),s.randomUUID();let e=new Uint8Array(1),t=s?()=>s.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^t()&15>>+n/4).toString(16))};function fs(s){return typeof s=="object"&&s!==null&&("name"in s&&s.name==="AbortError"||"message"in s&&String(s.message).includes("FetchRequestCanceledException"))}var ds=s=>{if(s instanceof Error)return s;if(typeof s=="object"&&s!==null){try{if(Object.prototype.toString.call(s)==="[object Error]"){let e=new Error(s.message,s.cause?{cause:s.cause}:{});return s.stack&&(e.stack=s.stack),s.cause&&!e.cause&&(e.cause=s.cause),s.name&&(e.name=s.name),e}}catch{}try{return new Error(JSON.stringify(s))}catch{}}return new Error(s)};var x=class extends Error{},j=class s extends x{constructor(e,t,n,i){super(`${s.makeMessage(e,t,n)}`),this.status=e,this.headers=i,this.requestID=i?.get("x-request-id"),this.error=t;let r=t;this.code=r?.code,this.param=r?.param,this.type=r?.type}static makeMessage(e,t,n){let i=t?.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,n,i){if(!e||!i)return new Ee({message:n,cause:ds(t)});let r=t?.error;return e===400?new yt(e,r,n,i):e===401?new wt(e,r,n,i):e===403?new bt(e,r,n,i):e===404?new xt(e,r,n,i):e===409?new vt(e,r,n,i):e===422?new kt(e,r,n,i):e===429?new At(e,r,n,i):e>=500?new It(e,r,n,i):new s(e,r,n,i)}},U=class extends j{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}},Ee=class extends j{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}},Re=class extends Ee{constructor({message:e}={}){super({message:e??"Request timed out."})}},yt=class extends j{},wt=class extends j{},bt=class extends j{},xt=class extends j{},vt=class extends j{},kt=class extends j{},At=class extends j{},It=class extends j{},Et=class extends x{constructor(){super("Could not parse response content as the length limit was reached")}},Rt=class extends x{constructor(){super("Could not parse response content as the request was rejected by the content filter")}},oe=class extends Error{constructor(e){super(e)}};var Za=/^[a-z][a-z0-9+.-]*:/i,sr=s=>Za.test(s),V=s=>(V=Array.isArray,V(s)),qn=V;function Un(s){return typeof s!="object"?{}:s??{}}function nr(s){if(!s)return!0;for(let e in s)return!1;return!0}function ir(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function ps(s){return s!=null&&typeof s=="object"&&!Array.isArray(s)}var rr=(s,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new x(`${s} must be an integer`);if(e<0)throw new x(`${s} must be a positive integer`);return e};var ar=s=>{try{return JSON.parse(s)}catch{return}};var le=s=>new Promise(e=>setTimeout(e,s));var Se="6.15.0";var ur=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function eo(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}var to=()=>{let s=eo();if(s==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Se,"X-Stainless-OS":lr(Deno.build.os),"X-Stainless-Arch":or(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Se,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(s==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Se,"X-Stainless-OS":lr(globalThis.process.platform??"unknown"),"X-Stainless-Arch":or(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};let e=so();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Se,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Se,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function so(){if(typeof navigator>"u"||!navigator)return null;let s=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(let{key:e,pattern:t}of s){let n=t.exec(navigator.userAgent);if(n){let i=n[1]||0,r=n[2]||0,a=n[3]||0;return{browser:e,version:`${i}.${r}.${a}`}}}return null}var or=s=>s==="x32"?"x32":s==="x86_64"||s==="x64"?"x64":s==="arm"?"arm":s==="aarch64"||s==="arm64"?"arm64":s?`other:${s}`:"unknown",lr=s=>(s=s.toLowerCase(),s.includes("ios")?"iOS":s==="android"?"Android":s==="darwin"?"MacOS":s==="win32"?"Windows":s==="freebsd"?"FreeBSD":s==="openbsd"?"OpenBSD":s==="linux"?"Linux":s?`Other:${s}`:"Unknown"),_r,cr=()=>_r??(_r=to());function fr(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Mn(...s){let e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...s)}function js(s){let e=Symbol.asyncIterator in s?s[Symbol.asyncIterator]():s[Symbol.iterator]();return Mn({start(){},async pull(t){let{done:n,value:i}=await e.next();n?t.close():t.enqueue(i)},async cancel(){await e.return?.()}})}function jn(s){if(s[Symbol.asyncIterator])return s;let e=s.getReader();return{async next(){try{let t=await e.read();return t?.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){let t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function dr(s){if(s===null||typeof s!="object")return;if(s[Symbol.asyncIterator]){await s[Symbol.asyncIterator]().return?.();return}let e=s.getReader(),t=e.cancel();e.releaseLock(),await t}var pr=({headers:s,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});var Ds="RFC3986",Dn=s=>String(s),Ls={RFC1738:s=>String(s).replace(/%20/g,"+"),RFC3986:Dn},Ln="RFC1738";var zs=(s,e)=>(zs=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),zs(s,e)),_e=(()=>{let s=[];for(let e=0;e<256;++e)s.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return s})();var zn=1024,hr=(s,e,t,n,i)=>{if(s.length===0)return s;let r=s;if(typeof s=="symbol"?r=Symbol.prototype.toString.call(s):typeof s!="string"&&(r=String(s)),t==="iso-8859-1")return escape(r).replace(/%u[0-9a-f]{4}/gi,function(o){return"%26%23"+parseInt(o.slice(2),16)+"%3B"});let a="";for(let o=0;o<r.length;o+=zn){let l=r.length>=zn?r.slice(o,o+zn):r,_=[];for(let h=0;h<l.length;++h){let c=l.charCodeAt(h);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===Ln&&(c===40||c===41)){_[_.length]=l.charAt(h);continue}if(c<128){_[_.length]=_e[c];continue}if(c<2048){_[_.length]=_e[192|c>>6]+_e[128|c&63];continue}if(c<55296||c>=57344){_[_.length]=_e[224|c>>12]+_e[128|c>>6&63]+_e[128|c&63];continue}h+=1,c=65536+((c&1023)<<10|l.charCodeAt(h)&1023),_[_.length]=_e[240|c>>18]+_e[128|c>>12&63]+_e[128|c>>6&63]+_e[128|c&63]}a+=_.join("")}return a};function mr(s){return!s||typeof s!="object"?!1:!!(s.constructor&&s.constructor.isBuffer&&s.constructor.isBuffer(s))}function Wn(s,e){if(V(s)){let t=[];for(let n=0;n<s.length;n+=1)t.push(e(s[n]));return t}return e(s)}var yr={brackets(s){return String(s)+"[]"},comma:"comma",indices(s,e){return String(s)+"["+e+"]"},repeat(s){return String(s)}},wr=function(s,e){Array.prototype.push.apply(s,V(e)?e:[e])},gr,D={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:hr,encodeValuesOnly:!1,format:Ds,formatter:Dn,indices:!1,serializeDate(s){return(gr??(gr=Function.prototype.call.bind(Date.prototype.toISOString)))(s)},skipNulls:!1,strictNullHandling:!1};function ro(s){return typeof s=="string"||typeof s=="number"||typeof s=="boolean"||typeof s=="symbol"||typeof s=="bigint"}var Hn={};function br(s,e,t,n,i,r,a,o,l,_,h,c,g,f,v,w,R,I){let b=s,F=I,P=0,M=!1;for(;(F=F.get(Hn))!==void 0&&!M;){let T=F.get(s);if(P+=1,typeof T<"u"){if(T===P)throw new RangeError("Cyclic object value");M=!0}typeof F.get(Hn)>"u"&&(P=0)}if(typeof _=="function"?b=_(e,b):b instanceof Date?b=g?.(b):t==="comma"&&V(b)&&(b=Wn(b,function(T){return T instanceof Date?g?.(T):T})),b===null){if(r)return l&&!w?l(e,D.encoder,R,"key",f):e;b=""}if(ro(b)||mr(b)){if(l){let T=w?e:l(e,D.encoder,R,"key",f);return[v?.(T)+"="+v?.(l(b,D.encoder,R,"value",f))]}return[v?.(e)+"="+v?.(String(b))]}let B=[];if(typeof b>"u")return B;let S;if(t==="comma"&&V(b))w&&l&&(b=Wn(b,l)),S=[{value:b.length>0?b.join(",")||null:void 0}];else if(V(_))S=_;else{let T=Object.keys(b);S=h?T.sort(h):T}let $=o?String(e).replace(/\./g,"%2E"):String(e),N=n&&V(b)&&b.length===1?$+"[]":$;if(i&&V(b)&&b.length===0)return N+"[]";for(let T=0;T<S.length;++T){let O=S[T],ie=typeof O=="object"&&typeof O.value<"u"?O.value:b[O];if(a&&ie===null)continue;let Ae=c&&o?O.replace(/\./g,"%2E"):O,$s=V(b)?typeof t=="function"?t(N,Ae):N:N+(c?"."+Ae:"["+Ae+"]");I.set(s,P);let ls=new WeakMap;ls.set(Hn,I),wr(B,br(ie,$s,t,n,i,r,a,o,t==="comma"&&w&&V(b)?null:l,_,h,c,g,f,v,w,R,ls))}return B}function ao(s=D){if(typeof s.allowEmptyArrays<"u"&&typeof s.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof s.encodeDotInKeys<"u"&&typeof s.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(s.encoder!==null&&typeof s.encoder<"u"&&typeof s.encoder!="function")throw new TypeError("Encoder has to be a function.");let e=s.charset||D.charset;if(typeof s.charset<"u"&&s.charset!=="utf-8"&&s.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let t=Ds;if(typeof s.format<"u"){if(!zs(Ls,s.format))throw new TypeError("Unknown format option provided.");t=s.format}let n=Ls[t],i=D.filter;(typeof s.filter=="function"||V(s.filter))&&(i=s.filter);let r;if(s.arrayFormat&&s.arrayFormat in yr?r=s.arrayFormat:"indices"in s?r=s.indices?"indices":"repeat":r=D.arrayFormat,"commaRoundTrip"in s&&typeof s.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");let a=typeof s.allowDots>"u"?s.encodeDotInKeys?!0:D.allowDots:!!s.allowDots;return{addQueryPrefix:typeof s.addQueryPrefix=="boolean"?s.addQueryPrefix:D.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof s.allowEmptyArrays=="boolean"?!!s.allowEmptyArrays:D.allowEmptyArrays,arrayFormat:r,charset:e,charsetSentinel:typeof s.charsetSentinel=="boolean"?s.charsetSentinel:D.charsetSentinel,commaRoundTrip:!!s.commaRoundTrip,delimiter:typeof s.delimiter>"u"?D.delimiter:s.delimiter,encode:typeof s.encode=="boolean"?s.encode:D.encode,encodeDotInKeys:typeof s.encodeDotInKeys=="boolean"?s.encodeDotInKeys:D.encodeDotInKeys,encoder:typeof s.encoder=="function"?s.encoder:D.encoder,encodeValuesOnly:typeof s.encodeValuesOnly=="boolean"?s.encodeValuesOnly:D.encodeValuesOnly,filter:i,format:t,formatter:n,serializeDate:typeof s.serializeDate=="function"?s.serializeDate:D.serializeDate,skipNulls:typeof s.skipNulls=="boolean"?s.skipNulls:D.skipNulls,sort:typeof s.sort=="function"?s.sort:null,strictNullHandling:typeof s.strictNullHandling=="boolean"?s.strictNullHandling:D.strictNullHandling}}function Jn(s,e={}){let t=s,n=ao(e),i,r;typeof n.filter=="function"?(r=n.filter,t=r("",t)):V(n.filter)&&(r=n.filter,i=r);let a=[];if(typeof t!="object"||t===null)return"";let o=yr[n.arrayFormat],l=o==="comma"&&n.commaRoundTrip;i||(i=Object.keys(t)),n.sort&&i.sort(n.sort);let _=new WeakMap;for(let g=0;g<i.length;++g){let f=i[g];n.skipNulls&&t[f]===null||wr(a,br(t[f],f,o,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,_))}let h=a.join(n.delimiter),c=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),h.length>0?c+h:""}function kr(s){let e=0;for(let i of s)e+=i.length;let t=new Uint8Array(e),n=0;for(let i of s)t.set(i,n),n+=i.length;return t}var xr;function St(s){let e;return(xr??(e=new globalThis.TextEncoder,xr=e.encode.bind(e)))(s)}var vr;function Vn(s){let e;return(vr??(e=new globalThis.TextDecoder,vr=e.decode.bind(e)))(s)}var G,Y,He=class{constructor(){G.set(this,void 0),Y.set(this,void 0),k(this,G,new Uint8Array,"f"),k(this,Y,null,"f")}decode(e){if(e==null)return[];let t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?St(e):e;k(this,G,kr([u(this,G,"f"),t]),"f");let n=[],i;for(;(i=lo(u(this,G,"f"),u(this,Y,"f")))!=null;){if(i.carriage&&u(this,Y,"f")==null){k(this,Y,i.index,"f");continue}if(u(this,Y,"f")!=null&&(i.index!==u(this,Y,"f")+1||i.carriage)){n.push(Vn(u(this,G,"f").subarray(0,u(this,Y,"f")-1))),k(this,G,u(this,G,"f").subarray(u(this,Y,"f")),"f"),k(this,Y,null,"f");continue}let r=u(this,Y,"f")!==null?i.preceding-1:i.preceding,a=Vn(u(this,G,"f").subarray(0,r));n.push(a),k(this,G,u(this,G,"f").subarray(i.index),"f"),k(this,Y,null,"f")}return n}flush(){return u(this,G,"f").length?this.decode(`
`):[]}};G=new WeakMap,Y=new WeakMap;He.NEWLINE_CHARS=new Set([`
`,"\r"]);He.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function lo(s,e){for(let i=e??0;i<s.length;i++){if(s[i]===10)return{preceding:i,index:i+1,carriage:!1};if(s[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Ar(s){for(let n=0;n<s.length-1;n++){if(s[n]===10&&s[n+1]===10||s[n]===13&&s[n+1]===13)return n+2;if(s[n]===13&&s[n+1]===10&&n+3<s.length&&s[n+2]===13&&s[n+3]===10)return n+4}return-1}var Hs={off:0,error:200,warn:300,info:400,debug:500},Kn=(s,e,t)=>{if(s){if(ir(Hs,s))return s;q(t).warn(`${e} was set to ${JSON.stringify(s)}, expected one of ${JSON.stringify(Object.keys(Hs))}`)}};function hs(){}function Ws(s,e,t){return!e||Hs[s]>Hs[t]?hs:e[s].bind(e)}var _o={error:hs,warn:hs,info:hs,debug:hs},Ir=new WeakMap;function q(s){let e=s.logger,t=s.logLevel??"off";if(!e)return _o;let n=Ir.get(e);if(n&&n[0]===t)return n[1];let i={error:Ws("error",e,t),warn:Ws("warn",e,t),info:Ws("info",e,t),debug:Ws("debug",e,t)};return Ir.set(e,[t,i]),i}var he=s=>(s.options&&(s.options={...s.options},delete s.options.headers),s.headers&&(s.headers=Object.fromEntries((s.headers instanceof Headers?[...s.headers]:Object.entries(s.headers)).map(([e,t])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in s&&(s.retryOfRequestLogID&&(s.retryOf=s.retryOfRequestLogID),delete s.retryOfRequestLogID),s);var ms,ue=class s{constructor(e,t,n){this.iterator=e,ms.set(this,void 0),this.controller=t,k(this,ms,n,"f")}static fromSSEResponse(e,t,n){let i=!1,r=n?q(n):console;async function*a(){if(i)throw new x("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(let l of uo(e,t))if(!o){if(l.data.startsWith("[DONE]")){o=!0;continue}if(l.event===null||!l.event.startsWith("thread.")){let _;try{_=JSON.parse(l.data)}catch(h){throw r.error("Could not parse message into JSON:",l.data),r.error("From chunk:",l.raw),h}if(_&&_.error)throw new j(void 0,_.error,void 0,e.headers);yield _}else{let _;try{_=JSON.parse(l.data)}catch(h){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),h}if(l.event=="error")throw new j(void 0,_.error,_.message,void 0);yield{event:l.event,data:_}}}o=!0}catch(l){if(fs(l))return;throw l}finally{o||t.abort()}}return new s(a,t,n)}static fromReadableStream(e,t,n){let i=!1;async function*r(){let o=new He,l=jn(e);for await(let _ of l)for(let h of o.decode(_))yield h;for(let _ of o.flush())yield _}async function*a(){if(i)throw new x("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let o=!1;try{for await(let l of r())o||l&&(yield JSON.parse(l));o=!0}catch(l){if(fs(l))return;throw l}finally{o||t.abort()}}return new s(a,t,n)}[(ms=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){let e=[],t=[],n=this.iterator(),i=r=>({next:()=>{if(r.length===0){let a=n.next();e.push(a),t.push(a)}return r.shift()}});return[new s(()=>i(e),this.controller,u(this,ms,"f")),new s(()=>i(t),this.controller,u(this,ms,"f"))]}toReadableStream(){let e=this,t;return Mn({async start(){t=e[Symbol.asyncIterator]()},async pull(n){try{let{value:i,done:r}=await t.next();if(r)return n.close();let a=St(JSON.stringify(i)+`
`);n.enqueue(a)}catch(i){n.error(i)}},async cancel(){await t.return?.()}})}};async function*uo(s,e){if(!s.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new x("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new x("Attempted to iterate over a response with no body");let t=new Xn,n=new He,i=jn(s.body);for await(let r of co(i))for(let a of n.decode(r)){let o=t.decode(a);o&&(yield o)}for(let r of n.flush()){let a=t.decode(r);a&&(yield a)}}async function*co(s){let e=new Uint8Array;for await(let t of s){if(t==null)continue;let n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?St(t):t,i=new Uint8Array(e.length+n.length);i.set(e),i.set(n,e.length),e=i;let r;for(;(r=Ar(e))!==-1;)yield e.slice(0,r),e=e.slice(r)}e.length>0&&(yield e)}var Xn=class{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;let r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,i]=fo(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}};function fo(s,e){let t=s.indexOf(e);return t!==-1?[s.substring(0,t),e,s.substring(t+e.length)]:[s,"",""]}async function Js(s,e){let{response:t,requestLogID:n,retryOfRequestLogID:i,startTime:r}=e,a=await(async()=>{if(e.options.stream)return q(s).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,s):ue.fromSSEResponse(t,e.controller,s);if(t.status===204)return null;if(e.options.__binaryResponse)return t;let l=t.headers.get("content-type")?.split(";")[0]?.trim();if(l?.includes("application/json")||l?.endsWith("+json")){let c=await t.json();return Gn(c,t)}return await t.text()})();return q(s).debug(`[${n}] response parsed`,he({retryOfRequestLogID:i,url:t.url,status:t.status,body:a,durationMs:Date.now()-r})),a}function Gn(s,e){return!s||typeof s!="object"||Array.isArray(s)?s:Object.defineProperty(s,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var gs,Je=class s extends Promise{constructor(e,t,n=Js){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=n,gs.set(this,void 0),k(this,gs,e,"f")}_thenUnwrap(e){return new s(u(this,gs,"f"),this.responsePromise,async(t,n)=>Gn(e(await this.parseResponse(t,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){let[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(u(this,gs,"f"),e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}};gs=new WeakMap;var Vs,ys=class{constructor(e,t,n,i){Vs.set(this,void 0),k(this,Vs,e,"f"),this.options=i,this.response=t,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){let e=this.nextPageRequestOptions();if(!e)throw new x("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await u(this,Vs,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Vs=new WeakMap,Symbol.asyncIterator)](){for await(let e of this.iterPages())for(let t of e.getPaginatedItems())yield t}},ws=class extends Je{constructor(e,t,n){super(e,t,async(i,r)=>new n(i,r.response,await Js(i,r),r.options))}async*[Symbol.asyncIterator](){let e=await this;for await(let t of e)yield t}},ce=class extends ys{constructor(e,t,n,i){super(e,t,n,i),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}},E=class extends ys{constructor(e,t,n,i){super(e,t,n,i),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.getPaginatedItems(),t=e[e.length-1]?.id;return t?{...this.options,query:{...Un(this.options.query),after:t}}:null}},me=class extends ys{constructor(e,t,n,i){super(e,t,n,i),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){let e=this.last_id;return e?{...this.options,query:{...Un(this.options.query),after:e}}:null}};var Zn=()=>{if(typeof File>"u"){let{process:s}=globalThis,e=typeof s?.versions?.node=="string"&&parseInt(s.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pt(s,e,t){return Zn(),new File(s,e??"unknown_file",t)}function bs(s){return(typeof s=="object"&&s!==null&&("name"in s&&s.name&&String(s.name)||"url"in s&&s.url&&String(s.url)||"filename"in s&&s.filename&&String(s.filename)||"path"in s&&s.path&&String(s.path))||"").split(/[\\/]/).pop()||void 0}var Ks=s=>s!=null&&typeof s=="object"&&typeof s[Symbol.asyncIterator]=="function",ei=async(s,e)=>Yn(s.body)?{...s,body:await Rr(s.body,e)}:s,Q=async(s,e)=>({...s,body:await Rr(s.body,e)}),Er=new WeakMap;function ho(s){let e=typeof s=="function"?s:s.fetch,t=Er.get(e);if(t)return t;let n=(async()=>{try{let i="Response"in e?e.Response:(await e("data:,")).constructor,r=new FormData;return r.toString()!==await new i(r).text()}catch{return!0}})();return Er.set(e,n),n}var Rr=async(s,e)=>{if(!await ho(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");let t=new FormData;return await Promise.all(Object.entries(s||{}).map(([n,i])=>Qn(t,n,i))),t},Sr=s=>s instanceof Blob&&"name"in s,mo=s=>typeof s=="object"&&s!==null&&(s instanceof Response||Ks(s)||Sr(s)),Yn=s=>{if(mo(s))return!0;if(Array.isArray(s))return s.some(Yn);if(s&&typeof s=="object"){for(let e in s)if(Yn(s[e]))return!0}return!1},Qn=async(s,e,t)=>{if(t!==void 0){if(t==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")s.append(e,String(t));else if(t instanceof Response)s.append(e,Pt([await t.blob()],bs(t)));else if(Ks(t))s.append(e,Pt([await new Response(js(t)).blob()],bs(t)));else if(Sr(t))s.append(e,t,bs(t));else if(Array.isArray(t))await Promise.all(t.map(n=>Qn(s,e+"[]",n)));else if(typeof t=="object")await Promise.all(Object.entries(t).map(([n,i])=>Qn(s,`${e}[${n}]`,i)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${t} instead`)}};var Pr=s=>s!=null&&typeof s=="object"&&typeof s.size=="number"&&typeof s.type=="string"&&typeof s.text=="function"&&typeof s.slice=="function"&&typeof s.arrayBuffer=="function",go=s=>s!=null&&typeof s=="object"&&typeof s.name=="string"&&typeof s.lastModified=="number"&&Pr(s),yo=s=>s!=null&&typeof s=="object"&&typeof s.url=="string"&&typeof s.blob=="function";async function Xs(s,e,t){if(Zn(),s=await s,go(s))return s instanceof File?s:Pt([await s.arrayBuffer()],s.name);if(yo(s)){let i=await s.blob();return e||(e=new URL(s.url).pathname.split(/[\\/]/).pop()),Pt(await ti(i),e,t)}let n=await ti(s);if(e||(e=bs(s)),!t?.type){let i=n.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof i=="string"&&(t={...t,type:i})}return Pt(n,e,t)}async function ti(s){let e=[];if(typeof s=="string"||ArrayBuffer.isView(s)||s instanceof ArrayBuffer)e.push(s);else if(Pr(s))e.push(s instanceof Blob?s:await s.arrayBuffer());else if(Ks(s))for await(let t of s)e.push(...await ti(t));else{let t=s?.constructor?.name;throw new Error(`Unexpected data type: ${typeof s}${t?`; constructor: ${t}`:""}${wo(s)}`)}return e}function wo(s){return typeof s!="object"||s===null?"":`; props: [${Object.getOwnPropertyNames(s).map(t=>`"${t}"`).join(", ")}]`}var m=class{constructor(e){this._client=e}};function Fr(s){return s.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}var Cr=Object.freeze(Object.create(null)),xo=(s=Fr)=>function(t,...n){if(t.length===1)return t[0];let i=!1,r=[],a=t.reduce((h,c,g)=>{/[?#]/.test(c)&&(i=!0);let f=n[g],v=(i?encodeURIComponent:s)(""+f);return g!==n.length&&(f==null||typeof f=="object"&&f.toString===Object.getPrototypeOf(Object.getPrototypeOf(f.hasOwnProperty??Cr)??Cr)?.toString)&&(v=f+"",r.push({start:h.length+c.length,length:v.length,error:`Value of type ${Object.prototype.toString.call(f).slice(8,-1)} is not a valid path parameter`})),h+c+(g===n.length?"":v)},""),o=a.split(/[?#]/,1)[0],l=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi,_;for(;(_=l.exec(o))!==null;)r.push({start:_.index,length:_[0].length,error:`Value "${_[0]}" can't be safely passed as a path parameter`});if(r.sort((h,c)=>h.start-c.start),r.length>0){let h=0,c=r.reduce((g,f)=>{let v=" ".repeat(f.start-h),w="^".repeat(f.length);return h=f.start+f.length,g+v+w},"");throw new x(`Path parameters result in path with invalid segments:
${r.map(g=>g.error).join(`
`)}
${a}
${c}`)}return a},d=xo(Fr);var Ve=class extends m{list(e,t={},n){return this._client.getAPIList(d`/chat/completions/${e}/messages`,E,{query:t,...n})}};function xs(s){return s!==void 0&&"function"in s&&s.function!==void 0}function vs(s){return s?.$brand==="auto-parseable-response-format"}function Ke(s){return s?.$brand==="auto-parseable-tool"}function Tr(s,e){return!e||!si(e)?{...s,choices:s.choices.map(t=>($r(t.message.tool_calls),{...t,message:{...t.message,parsed:null,...t.message.tool_calls?{tool_calls:t.message.tool_calls}:void 0}}))}:ks(s,e)}function ks(s,e){let t=s.choices.map(n=>{if(n.finish_reason==="length")throw new Et;if(n.finish_reason==="content_filter")throw new Rt;return $r(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(i=>Io(e,i))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?Ao(e,n.message.content):null}}});return{...s,choices:t}}function Ao(s,e){return s.response_format?.type!=="json_schema"?null:s.response_format?.type==="json_schema"?"$parseRaw"in s.response_format?s.response_format.$parseRaw(e):JSON.parse(e):null}function Io(s,e){let t=s.tools?.find(n=>xs(n)&&n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Ke(t)?t.$parseRaw(e.function.arguments):t?.function.strict?JSON.parse(e.function.arguments):null}}}function Or(s,e){if(!s||!("tools"in s)||!s.tools)return!1;let t=s.tools?.find(n=>xs(n)&&n.function?.name===e.function.name);return xs(t)&&(Ke(t)||t?.function.strict||!1)}function si(s){return vs(s.response_format)?!0:s.tools?.some(e=>Ke(e)||e.type==="function"&&e.function.strict===!0)??!1}function $r(s){for(let e of s||[])if(e.type!=="function")throw new x(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function Br(s){for(let e of s??[]){if(e.type!=="function")throw new x(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new x(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var Ct=s=>s?.role==="assistant",ni=s=>s?.role==="tool";var ii,Gs,Ys,As,Is,Qs,Es,ge,Rs,Zs,en,Ft,Nr,Pe=class{constructor(){ii.add(this),this.controller=new AbortController,Gs.set(this,void 0),Ys.set(this,()=>{}),As.set(this,()=>{}),Is.set(this,void 0),Qs.set(this,()=>{}),Es.set(this,()=>{}),ge.set(this,{}),Rs.set(this,!1),Zs.set(this,!1),en.set(this,!1),Ft.set(this,!1),k(this,Gs,new Promise((e,t)=>{k(this,Ys,e,"f"),k(this,As,t,"f")}),"f"),k(this,Is,new Promise((e,t)=>{k(this,Qs,e,"f"),k(this,Es,t,"f")}),"f"),u(this,Gs,"f").catch(()=>{}),u(this,Is,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},u(this,ii,"m",Nr).bind(this))},0)}_connected(){this.ended||(u(this,Ys,"f").call(this),this._emit("connect"))}get ended(){return u(this,Rs,"f")}get errored(){return u(this,Zs,"f")}get aborted(){return u(this,en,"f")}abort(){this.controller.abort()}on(e,t){return(u(this,ge,"f")[e]||(u(this,ge,"f")[e]=[])).push({listener:t}),this}off(e,t){let n=u(this,ge,"f")[e];if(!n)return this;let i=n.findIndex(r=>r.listener===t);return i>=0&&n.splice(i,1),this}once(e,t){return(u(this,ge,"f")[e]||(u(this,ge,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise((t,n)=>{k(this,Ft,!0,"f"),e!=="error"&&this.once("error",n),this.once(e,t)})}async done(){k(this,Ft,!0,"f"),await u(this,Is,"f")}_emit(e,...t){if(u(this,Rs,"f"))return;e==="end"&&(k(this,Rs,!0,"f"),u(this,Qs,"f").call(this));let n=u(this,ge,"f")[e];if(n&&(u(this,ge,"f")[e]=n.filter(i=>!i.once),n.forEach(({listener:i})=>i(...t))),e==="abort"){let i=t[0];!u(this,Ft,"f")&&!n?.length&&Promise.reject(i),u(this,As,"f").call(this,i),u(this,Es,"f").call(this,i),this._emit("end");return}if(e==="error"){let i=t[0];!u(this,Ft,"f")&&!n?.length&&Promise.reject(i),u(this,As,"f").call(this,i),u(this,Es,"f").call(this,i),this._emit("end")}}_emitFinal(){}};Gs=new WeakMap,Ys=new WeakMap,As=new WeakMap,Is=new WeakMap,Qs=new WeakMap,Es=new WeakMap,ge=new WeakMap,Rs=new WeakMap,Zs=new WeakMap,en=new WeakMap,Ft=new WeakMap,ii=new WeakSet,Nr=function(e){if(k(this,Zs,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new U),e instanceof U)return k(this,en,!0,"f"),this._emit("abort",e);if(e instanceof x)return this._emit("error",e);if(e instanceof Error){let t=new x(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new x(String(e)))};function qr(s){return typeof s.parse=="function"}var K,ri,tn,ai,oi,li,Ur,Mr,Eo=10,Tt=class extends Pe{constructor(){super(...arguments),K.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);let t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t){if(this._emit("message",e),ni(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(Ct(e)&&e.tool_calls)for(let n of e.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();let e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new x("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),u(this,K,"m",ri).call(this)}async finalMessage(){return await this.done(),u(this,K,"m",tn).call(this)}async finalFunctionToolCall(){return await this.done(),u(this,K,"m",ai).call(this)}async finalFunctionToolCallResult(){return await this.done(),u(this,K,"m",oi).call(this)}async totalUsage(){return await this.done(),u(this,K,"m",li).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){let e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);let t=u(this,K,"m",tn).call(this);t&&this._emit("finalMessage",t);let n=u(this,K,"m",ri).call(this);n&&this._emit("finalContent",n);let i=u(this,K,"m",ai).call(this);i&&this._emit("finalFunctionToolCall",i);let r=u(this,K,"m",oi).call(this);r!=null&&this._emit("finalFunctionToolCallResult",r),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",u(this,K,"m",li).call(this))}async _createChatCompletion(e,t,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),u(this,K,"m",Ur).call(this,t);let r=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(ks(r,t))}async _runChatCompletion(e,t,n){for(let i of t.messages)this._addMessage(i,!1);return await this._createChatCompletion(e,t,n)}async _runTools(e,t,n){let i="tool",{tool_choice:r="auto",stream:a,...o}=t,l=typeof r!="string"&&r.type==="function"&&r?.function?.name,{maxChatCompletions:_=Eo}=n||{},h=t.tools.map(f=>{if(Ke(f)){if(!f.$callback)throw new x("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:f.$callback,name:f.function.name,description:f.function.description||"",parameters:f.function.parameters,parse:f.$parseRaw,strict:!0}}}return f}),c={};for(let f of h)f.type==="function"&&(c[f.function.name||f.function.function.name]=f.function);let g="tools"in t?h.map(f=>f.type==="function"?{type:"function",function:{name:f.function.name||f.function.function.name,parameters:f.function.parameters,description:f.function.description,strict:f.function.strict}}:f):void 0;for(let f of t.messages)this._addMessage(f,!1);for(let f=0;f<_;++f){let w=(await this._createChatCompletion(e,{...o,tool_choice:r,tools:g,messages:[...this.messages]},n)).choices[0]?.message;if(!w)throw new x("missing message in ChatCompletion response");if(!w.tool_calls?.length)return;for(let R of w.tool_calls){if(R.type!=="function")continue;let I=R.id,{name:b,arguments:F}=R.function,P=c[b];if(P){if(l&&l!==b){let $=`Invalid tool_call: ${JSON.stringify(b)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:i,tool_call_id:I,content:$});continue}}else{let $=`Invalid tool_call: ${JSON.stringify(b)}. Available options are: ${Object.keys(c).map(N=>JSON.stringify(N)).join(", ")}. Please try again`;this._addMessage({role:i,tool_call_id:I,content:$});continue}let M;try{M=qr(P)?await P.parse(F):F}catch($){let N=$ instanceof Error?$.message:String($);this._addMessage({role:i,tool_call_id:I,content:N});continue}let B=await P.function(M,this),S=u(this,K,"m",Mr).call(this,B);if(this._addMessage({role:i,tool_call_id:I,content:S}),l)return}}}};K=new WeakSet,ri=function(){return u(this,K,"m",tn).call(this).content??null},tn=function(){let e=this.messages.length;for(;e-- >0;){let t=this.messages[e];if(Ct(t))return{...t,content:t.content??null,refusal:t.refusal??null}}throw new x("stream ended without producing a ChatCompletionMessage with role=assistant")},ai=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if(Ct(t)&&t?.tool_calls?.length)return t.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},oi=function(){for(let e=this.messages.length-1;e>=0;e--){let t=this.messages[e];if(ni(t)&&t.content!=null&&typeof t.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(i=>i.type==="function"&&i.id===t.tool_call_id)))return t.content}},li=function(){let e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(let{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Ur=function(e){if(e.n!=null&&e.n>1)throw new x("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Mr=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};var Ss=class s extends Tt{static runTools(e,t,n){let i=new s,r={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,r)),i}_addMessage(e,t=!0){super._addMessage(e,t),Ct(e)&&e.content&&this._emit("content",e.content)}};var W={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511},_i=class extends Error{},ui=class extends Error{};function Ro(s,e=W.ALL){if(typeof s!="string")throw new TypeError(`expecting str, got ${typeof s}`);if(!s.trim())throw new Error(`${s} is empty`);return So(s.trim(),e)}var So=(s,e)=>{let t=s.length,n=0,i=g=>{throw new _i(`${g} at position ${n}`)},r=g=>{throw new ui(`${g} at position ${n}`)},a=()=>(c(),n>=t&&i("Unexpected end of input"),s[n]==='"'?o():s[n]==="{"?l():s[n]==="["?_():s.substring(n,n+4)==="null"||W.NULL&e&&t-n<4&&"null".startsWith(s.substring(n))?(n+=4,null):s.substring(n,n+4)==="true"||W.BOOL&e&&t-n<4&&"true".startsWith(s.substring(n))?(n+=4,!0):s.substring(n,n+5)==="false"||W.BOOL&e&&t-n<5&&"false".startsWith(s.substring(n))?(n+=5,!1):s.substring(n,n+8)==="Infinity"||W.INFINITY&e&&t-n<8&&"Infinity".startsWith(s.substring(n))?(n+=8,1/0):s.substring(n,n+9)==="-Infinity"||W.MINUS_INFINITY&e&&1<t-n&&t-n<9&&"-Infinity".startsWith(s.substring(n))?(n+=9,-1/0):s.substring(n,n+3)==="NaN"||W.NAN&e&&t-n<3&&"NaN".startsWith(s.substring(n))?(n+=3,NaN):h()),o=()=>{let g=n,f=!1;for(n++;n<t&&(s[n]!=='"'||f&&s[n-1]==="\\");)f=s[n]==="\\"?!f:!1,n++;if(s.charAt(n)=='"')try{return JSON.parse(s.substring(g,++n-Number(f)))}catch(v){r(String(v))}else if(W.STR&e)try{return JSON.parse(s.substring(g,n-Number(f))+'"')}catch{return JSON.parse(s.substring(g,s.lastIndexOf("\\"))+'"')}i("Unterminated string literal")},l=()=>{n++,c();let g={};try{for(;s[n]!=="}";){if(c(),n>=t&&W.OBJ&e)return g;let f=o();c(),n++;try{let v=a();Object.defineProperty(g,f,{value:v,writable:!0,enumerable:!0,configurable:!0})}catch(v){if(W.OBJ&e)return g;throw v}c(),s[n]===","&&n++}}catch{if(W.OBJ&e)return g;i("Expected '}' at end of object")}return n++,g},_=()=>{n++;let g=[];try{for(;s[n]!=="]";)g.push(a()),c(),s[n]===","&&n++}catch{if(W.ARR&e)return g;i("Expected ']' at end of array")}return n++,g},h=()=>{if(n===0){s==="-"&&W.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(s)}catch(f){if(W.NUM&e)try{return s[s.length-1]==="."?JSON.parse(s.substring(0,s.lastIndexOf("."))):JSON.parse(s.substring(0,s.lastIndexOf("e")))}catch{}r(String(f))}}let g=n;for(s[n]==="-"&&n++;s[n]&&!",]}".includes(s[n]);)n++;n==t&&!(W.NUM&e)&&i("Unterminated number literal");try{return JSON.parse(s.substring(g,n))}catch{s.substring(g,n)==="-"&&W.NUM&e&&i("Not sure what '-' is");try{return JSON.parse(s.substring(g,s.lastIndexOf("e")))}catch(v){r(String(v))}}},c=()=>{for(;n<t&&` 
\r	`.includes(s[n]);)n++};return a()},ci=s=>Ro(s,W.ALL^W.NUM);var L,ye,Ot,Ce,fi,sn,di,pi,hi,nn,mi,jr,Xe=class s extends Tt{constructor(e){super(),L.add(this),ye.set(this,void 0),Ot.set(this,void 0),Ce.set(this,void 0),k(this,ye,e,"f"),k(this,Ot,[],"f")}get currentChatCompletionSnapshot(){return u(this,Ce,"f")}static fromReadableStream(e){let t=new s(null);return t._run(()=>t._fromReadableStream(e)),t}static createChatCompletion(e,t,n){let i=new s(t);return i._run(()=>i._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createChatCompletion(e,t,n){super._createChatCompletion;let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),u(this,L,"m",fi).call(this);let r=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(let a of r)u(this,L,"m",di).call(this,a);if(r.controller.signal?.aborted)throw new U;return this._addChatCompletion(u(this,L,"m",nn).call(this))}async _fromReadableStream(e,t){let n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),u(this,L,"m",fi).call(this),this._connected();let i=ue.fromReadableStream(e,this.controller),r;for await(let a of i)r&&r!==a.id&&this._addChatCompletion(u(this,L,"m",nn).call(this)),u(this,L,"m",di).call(this,a),r=a.id;if(i.controller.signal?.aborted)throw new U;return this._addChatCompletion(u(this,L,"m",nn).call(this))}[(ye=new WeakMap,Ot=new WeakMap,Ce=new WeakMap,L=new WeakSet,fi=function(){this.ended||k(this,Ce,void 0,"f")},sn=function(t){let n=u(this,Ot,"f")[t.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},u(this,Ot,"f")[t.index]=n,n)},di=function(t){if(this.ended)return;let n=u(this,L,"m",jr).call(this,t);this._emit("chunk",t,n);for(let i of t.choices){let r=n.choices[i.index];i.delta.content!=null&&r.message?.role==="assistant"&&r.message?.content&&(this._emit("content",i.delta.content,r.message.content),this._emit("content.delta",{delta:i.delta.content,snapshot:r.message.content,parsed:r.message.parsed})),i.delta.refusal!=null&&r.message?.role==="assistant"&&r.message?.refusal&&this._emit("refusal.delta",{delta:i.delta.refusal,snapshot:r.message.refusal}),i.logprobs?.content!=null&&r.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:i.logprobs?.content,snapshot:r.logprobs?.content??[]}),i.logprobs?.refusal!=null&&r.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:i.logprobs?.refusal,snapshot:r.logprobs?.refusal??[]});let a=u(this,L,"m",sn).call(this,r);r.finish_reason&&(u(this,L,"m",hi).call(this,r),a.current_tool_call_index!=null&&u(this,L,"m",pi).call(this,r,a.current_tool_call_index));for(let o of i.delta.tool_calls??[])a.current_tool_call_index!==o.index&&(u(this,L,"m",hi).call(this,r),a.current_tool_call_index!=null&&u(this,L,"m",pi).call(this,r,a.current_tool_call_index)),a.current_tool_call_index=o.index;for(let o of i.delta.tool_calls??[]){let l=r.message.tool_calls?.[o.index];l?.type&&(l?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:l.function?.name,index:o.index,arguments:l.function.arguments,parsed_arguments:l.function.parsed_arguments,arguments_delta:o.function?.arguments??""}):(l?.type,void 0))}}},pi=function(t,n){if(u(this,L,"m",sn).call(this,t).done_tool_calls.has(n))return;let r=t.message.tool_calls?.[n];if(!r)throw new Error("no tool call snapshot");if(!r.type)throw new Error("tool call snapshot missing `type`");if(r.type==="function"){let a=u(this,ye,"f")?.tools?.find(o=>xs(o)&&o.function.name===r.function.name);this._emit("tool_calls.function.arguments.done",{name:r.function.name,index:n,arguments:r.function.arguments,parsed_arguments:Ke(a)?a.$parseRaw(r.function.arguments):a?.function.strict?JSON.parse(r.function.arguments):null})}else r.type},hi=function(t){let n=u(this,L,"m",sn).call(this,t);if(t.message.content&&!n.content_done){n.content_done=!0;let i=u(this,L,"m",mi).call(this);this._emit("content.done",{content:t.message.content,parsed:i?i.$parseRaw(t.message.content):null})}t.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:t.message.refusal})),t.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:t.logprobs.content})),t.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:t.logprobs.refusal}))},nn=function(){if(this.ended)throw new x("stream has ended, this shouldn't happen");let t=u(this,Ce,"f");if(!t)throw new x("request ended without sending any chunks");return k(this,Ce,void 0,"f"),k(this,Ot,[],"f"),Po(t,u(this,ye,"f"))},mi=function(){let t=u(this,ye,"f")?.response_format;return vs(t)?t:null},jr=function(t){var n,i,r,a;let o=u(this,Ce,"f"),{choices:l,..._}=t;o?Object.assign(o,_):o=k(this,Ce,{..._,choices:[]},"f");for(let{delta:h,finish_reason:c,index:g,logprobs:f=null,...v}of t.choices){let w=o.choices[g];if(w||(w=o.choices[g]={finish_reason:c,index:g,message:{},logprobs:f,...v}),f)if(!w.logprobs)w.logprobs=Object.assign({},f);else{let{content:B,refusal:S,...$}=f;Object.assign(w.logprobs,$),B&&((n=w.logprobs).content??(n.content=[]),w.logprobs.content.push(...B)),S&&((i=w.logprobs).refusal??(i.refusal=[]),w.logprobs.refusal.push(...S))}if(c&&(w.finish_reason=c,u(this,ye,"f")&&si(u(this,ye,"f")))){if(c==="length")throw new Et;if(c==="content_filter")throw new Rt}if(Object.assign(w,v),!h)continue;let{content:R,refusal:I,function_call:b,role:F,tool_calls:P,...M}=h;if(Object.assign(w.message,M),I&&(w.message.refusal=(w.message.refusal||"")+I),F&&(w.message.role=F),b&&(w.message.function_call?(b.name&&(w.message.function_call.name=b.name),b.arguments&&((r=w.message.function_call).arguments??(r.arguments=""),w.message.function_call.arguments+=b.arguments)):w.message.function_call=b),R&&(w.message.content=(w.message.content||"")+R,!w.message.refusal&&u(this,L,"m",mi).call(this)&&(w.message.parsed=ci(w.message.content))),P){w.message.tool_calls||(w.message.tool_calls=[]);for(let{index:B,id:S,type:$,function:N,...T}of P){let O=(a=w.message.tool_calls)[B]??(a[B]={});Object.assign(O,T),S&&(O.id=S),$&&(O.type=$),N&&(O.function??(O.function={name:N.name??"",arguments:""})),N?.name&&(O.function.name=N.name),N?.arguments&&(O.function.arguments+=N.arguments,Or(u(this,ye,"f"),O)&&(O.function.parsed_arguments=ci(O.function.arguments)))}}}return o},Symbol.asyncIterator)](){let e=[],t=[],n=!1;return this.on("chunk",i=>{let r=t.shift();r?r.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of t)i.resolve(void 0);t.length=0}),this.on("abort",i=>{n=!0;for(let r of t)r.reject(i);t.length=0}),this.on("error",i=>{n=!0;for(let r of t)r.reject(i);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((r,a)=>t.push({resolve:r,reject:a})).then(r=>r?{value:r,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new ue(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}};function Po(s,e){let{id:t,choices:n,created:i,model:r,system_fingerprint:a,...o}=s,l={...o,id:t,choices:n.map(({message:_,finish_reason:h,index:c,logprobs:g,...f})=>{if(!h)throw new x(`missing finish_reason for choice ${c}`);let{content:v=null,function_call:w,tool_calls:R,...I}=_,b=_.role;if(!b)throw new x(`missing role for choice ${c}`);if(w){let{arguments:F,name:P}=w;if(F==null)throw new x(`missing function_call.arguments for choice ${c}`);if(!P)throw new x(`missing function_call.name for choice ${c}`);return{...f,message:{content:v,function_call:{arguments:F,name:P},role:b,refusal:_.refusal??null},finish_reason:h,index:c,logprobs:g}}return R?{...f,index:c,finish_reason:h,logprobs:g,message:{...I,role:b,content:v,refusal:_.refusal??null,tool_calls:R.map((F,P)=>{let{function:M,type:B,id:S,...$}=F,{arguments:N,name:T,...O}=M||{};if(S==null)throw new x(`missing choices[${c}].tool_calls[${P}].id
${rn(s)}`);if(B==null)throw new x(`missing choices[${c}].tool_calls[${P}].type
${rn(s)}`);if(T==null)throw new x(`missing choices[${c}].tool_calls[${P}].function.name
${rn(s)}`);if(N==null)throw new x(`missing choices[${c}].tool_calls[${P}].function.arguments
${rn(s)}`);return{...$,id:S,type:B,function:{...O,name:T,arguments:N}}})}}:{...f,message:{...I,content:v,role:b,refusal:_.refusal??null},finish_reason:h,index:c,logprobs:g}}),created:i,model:r,object:"chat.completion",...a?{system_fingerprint:a}:{}};return Tr(l,e)}function rn(s){return JSON.stringify(s)}var Ps=class s extends Xe{static fromReadableStream(e){let t=new s(null);return t._run(()=>t._fromReadableStream(e)),t}static runTools(e,t,n){let i=new s(t),r={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return i._run(()=>i._runTools(e,t,r)),i}};var we=class extends m{constructor(){super(...arguments),this.messages=new Ve(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(d`/chat/completions/${e}`,t)}update(e,t,n){return this._client.post(d`/chat/completions/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/chat/completions",E,{query:e,...t})}delete(e,t){return this._client.delete(d`/chat/completions/${e}`,t)}parse(e,t){return Br(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>ks(n,e))}runTools(e,t){return e.stream?Ps.runTools(this._client,e,t):Ss.runTools(this._client,e,t)}stream(e,t){return Xe.createChatCompletion(this._client,e,t)}};we.Messages=Ve;var Fe=class extends m{constructor(){super(...arguments),this.completions=new we(this._client)}};Fe.Completions=we;var Dr=Symbol("brand.privateNullableHeaders");function*Fo(s){if(!s)return;if(Dr in s){let{values:n,nulls:i}=s;yield*n.entries();for(let r of i)yield[r,null];return}let e=!1,t;s instanceof Headers?t=s.entries():qn(s)?t=s:(e=!0,t=Object.entries(s??{}));for(let n of t){let i=n[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");let r=qn(n[1])?n[1]:[n[1]],a=!1;for(let o of r)o!==void 0&&(e&&!a&&(a=!0,yield[i,null]),yield[i,o])}}var y=s=>{let e=new Headers,t=new Set;for(let n of s){let i=new Set;for(let[r,a]of Fo(n)){let o=r.toLowerCase();i.has(o)||(e.delete(r),i.add(o)),a===null?(e.delete(r),t.add(o)):(e.append(r,a),t.delete(o))}}return{[Dr]:!0,values:e,nulls:t}};var $t=class extends m{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:y([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}};var Bt=class extends m{create(e,t){return this._client.post("/audio/transcriptions",Q({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}};var Nt=class extends m{create(e,t){return this._client.post("/audio/translations",Q({body:e,...t,__metadata:{model:e.model}},this._client))}};var fe=class extends m{constructor(){super(...arguments),this.transcriptions=new Bt(this._client),this.translations=new Nt(this._client),this.speech=new $t(this._client)}};fe.Transcriptions=Bt;fe.Translations=Nt;fe.Speech=$t;var Ge=class extends m{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(d`/batches/${e}`,t)}list(e={},t){return this._client.getAPIList("/batches",E,{query:e,...t})}cancel(e,t){return this._client.post(d`/batches/${e}/cancel`,t)}};var qt=class extends m{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(d`/assistants/${e}`,{...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(d`/assistants/${e}`,{body:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},t){return this._client.getAPIList("/assistants",E,{query:e,...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(d`/assistants/${e}`,{...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}};var Ut=class extends m{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}};var Mt=class extends m{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}};var Te=class extends m{constructor(){super(...arguments),this.sessions=new Ut(this._client),this.transcriptionSessions=new Mt(this._client)}};Te.Sessions=Ut;Te.TranscriptionSessions=Mt;var jt=class extends m{create(e,t){return this._client.post("/chatkit/sessions",{body:e,...t,headers:y([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}cancel(e,t){return this._client.post(d`/chatkit/sessions/${e}/cancel`,{...t,headers:y([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}};var Dt=class extends m{retrieve(e,t){return this._client.get(d`/chatkit/threads/${e}`,{...t,headers:y([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}list(e={},t){return this._client.getAPIList("/chatkit/threads",me,{query:e,...t,headers:y([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}delete(e,t){return this._client.delete(d`/chatkit/threads/${e}`,{...t,headers:y([{"OpenAI-Beta":"chatkit_beta=v1"},t?.headers])})}listItems(e,t={},n){return this._client.getAPIList(d`/chatkit/threads/${e}/items`,me,{query:t,...n,headers:y([{"OpenAI-Beta":"chatkit_beta=v1"},n?.headers])})}};var Oe=class extends m{constructor(){super(...arguments),this.sessions=new jt(this._client),this.threads=new Dt(this._client)}};Oe.Sessions=jt;Oe.Threads=Dt;var Lt=class extends m{create(e,t,n){return this._client.post(d`/threads/${e}/messages`,{body:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){let{thread_id:i}=t;return this._client.get(d`/threads/${i}/messages/${e}`,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){let{thread_id:i,...r}=t;return this._client.post(d`/threads/${i}/messages/${e}`,{body:r,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(d`/threads/${e}/messages`,E,{query:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){let{thread_id:i}=t;return this._client.delete(d`/threads/${i}/messages/${e}`,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var zt=class extends m{retrieve(e,t,n){let{thread_id:i,run_id:r,...a}=t;return this._client.get(d`/threads/${i}/runs/${r}/steps/${e}`,{query:a,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t,n){let{thread_id:i,...r}=t;return this._client.getAPIList(d`/threads/${i}/runs/${e}/steps`,E,{query:r,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var Lr=s=>{if(typeof Buffer<"u"){let e=Buffer.from(s,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{let e=atob(s),t=e.length,n=new Uint8Array(t);for(let i=0;i<t;i++)n[i]=e.charCodeAt(i);return Array.from(new Float32Array(n.buffer))}};var $e=s=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[s]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(s)?.trim()};var H,Qe,gi,de,an,te,Ze,Wt,Ye,_n,Z,on,ln,Ts,Cs,Fs,zr,Wr,Hr,Jr,Vr,Kr,Xr,be=class extends Pe{constructor(){super(...arguments),H.add(this),gi.set(this,[]),de.set(this,{}),an.set(this,{}),te.set(this,void 0),Ze.set(this,void 0),Wt.set(this,void 0),Ye.set(this,void 0),_n.set(this,void 0),Z.set(this,void 0),on.set(this,void 0),ln.set(this,void 0),Ts.set(this,void 0)}[(gi=new WeakMap,de=new WeakMap,an=new WeakMap,te=new WeakMap,Ze=new WeakMap,Wt=new WeakMap,Ye=new WeakMap,_n=new WeakMap,Z=new WeakMap,on=new WeakMap,ln=new WeakMap,Ts=new WeakMap,H=new WeakSet,Symbol.asyncIterator)](){let e=[],t=[],n=!1;return this.on("event",i=>{let r=t.shift();r?r.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of t)i.resolve(void 0);t.length=0}),this.on("abort",i=>{n=!0;for(let r of t)r.reject(i);t.length=0}),this.on("error",i=>{n=!0;for(let r of t)r.reject(i);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((r,a)=>t.push({resolve:r,reject:a})).then(r=>r?{value:r,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){let t=new Qe;return t._run(()=>t._fromReadableStream(e)),t}async _fromReadableStream(e,t){let n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();let i=ue.fromReadableStream(e,this.controller);for await(let r of i)u(this,H,"m",Cs).call(this,r);if(i.controller.signal?.aborted)throw new U;return this._addRun(u(this,H,"m",Fs).call(this))}toReadableStream(){return new ue(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,i){let r=new Qe;return r._run(()=>r._runToolAssistantStream(e,t,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createToolAssistantStream(e,t,n,i){let r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));let a={...n,stream:!0},o=await e.submitToolOutputs(t,a,{...i,signal:this.controller.signal});this._connected();for await(let l of o)u(this,H,"m",Cs).call(this,l);if(o.controller.signal?.aborted)throw new U;return this._addRun(u(this,H,"m",Fs).call(this))}static createThreadAssistantStream(e,t,n){let i=new Qe;return i._run(()=>i._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}static createAssistantStream(e,t,n,i){let r=new Qe;return r._run(()=>r._runAssistantStream(e,t,n,{...i,headers:{...i?.headers,"X-Stainless-Helper-Method":"stream"}})),r}currentEvent(){return u(this,on,"f")}currentRun(){return u(this,ln,"f")}currentMessageSnapshot(){return u(this,te,"f")}currentRunStepSnapshot(){return u(this,Ts,"f")}async finalRunSteps(){return await this.done(),Object.values(u(this,de,"f"))}async finalMessages(){return await this.done(),Object.values(u(this,an,"f"))}async finalRun(){if(await this.done(),!u(this,Ze,"f"))throw Error("Final run was not received.");return u(this,Ze,"f")}async _createThreadAssistantStream(e,t,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));let r={...t,stream:!0},a=await e.createAndRun(r,{...n,signal:this.controller.signal});this._connected();for await(let o of a)u(this,H,"m",Cs).call(this,o);if(a.controller.signal?.aborted)throw new U;return this._addRun(u(this,H,"m",Fs).call(this))}async _createAssistantStream(e,t,n,i){let r=i?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort()));let a={...n,stream:!0},o=await e.create(t,a,{...i,signal:this.controller.signal});this._connected();for await(let l of o)u(this,H,"m",Cs).call(this,l);if(o.controller.signal?.aborted)throw new U;return this._addRun(u(this,H,"m",Fs).call(this))}static accumulateDelta(e,t){for(let[n,i]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=i;continue}let r=e[n];if(r==null){e[n]=i;continue}if(n==="index"||n==="type"){e[n]=i;continue}if(typeof r=="string"&&typeof i=="string")r+=i;else if(typeof r=="number"&&typeof i=="number")r+=i;else if(ps(r)&&ps(i))r=this.accumulateDelta(r,i);else if(Array.isArray(r)&&Array.isArray(i)){if(r.every(a=>typeof a=="string"||typeof a=="number")){r.push(...i);continue}for(let a of i){if(!ps(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);let o=a.index;if(o==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof o!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${o}`);let l=r[o];l==null?r.push(a):r[o]=this.accumulateDelta(l,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${i}, accValue: ${r}`);e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,i){return await this._createAssistantStream(t,e,n,i)}async _runToolAssistantStream(e,t,n,i){return await this._createToolAssistantStream(t,e,n,i)}};Qe=be,Cs=function(e){if(!this.ended)switch(k(this,on,e,"f"),u(this,H,"m",Hr).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":u(this,H,"m",Xr).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":u(this,H,"m",Wr).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":u(this,H,"m",zr).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier");default:}},Fs=function(){if(this.ended)throw new x("stream has ended, this shouldn't happen");if(!u(this,Ze,"f"))throw Error("Final run has not been received");return u(this,Ze,"f")},zr=function(e){let[t,n]=u(this,H,"m",Vr).call(this,e,u(this,te,"f"));k(this,te,t,"f"),u(this,an,"f")[t.id]=t;for(let i of n){let r=t.content[i.index];r?.type=="text"&&this._emit("textCreated",r.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(let i of e.data.delta.content){if(i.type=="text"&&i.text){let r=i.text,a=t.content[i.index];if(a&&a.type=="text")this._emit("textDelta",r,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(i.index!=u(this,Wt,"f")){if(u(this,Ye,"f"))switch(u(this,Ye,"f").type){case"text":this._emit("textDone",u(this,Ye,"f").text,u(this,te,"f"));break;case"image_file":this._emit("imageFileDone",u(this,Ye,"f").image_file,u(this,te,"f"));break}k(this,Wt,i.index,"f")}k(this,Ye,t.content[i.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(u(this,Wt,"f")!==void 0){let i=e.data.content[u(this,Wt,"f")];if(i)switch(i.type){case"image_file":this._emit("imageFileDone",i.image_file,u(this,te,"f"));break;case"text":this._emit("textDone",i.text,u(this,te,"f"));break}}u(this,te,"f")&&this._emit("messageDone",e.data),k(this,te,void 0,"f")}},Wr=function(e){let t=u(this,H,"m",Jr).call(this,e);switch(k(this,Ts,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":let n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&t.step_details.type=="tool_calls")for(let r of n.step_details.tool_calls)r.index==u(this,_n,"f")?this._emit("toolCallDelta",r,t.step_details.tool_calls[r.index]):(u(this,Z,"f")&&this._emit("toolCallDone",u(this,Z,"f")),k(this,_n,r.index,"f"),k(this,Z,t.step_details.tool_calls[r.index],"f"),u(this,Z,"f")&&this._emit("toolCallCreated",u(this,Z,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":k(this,Ts,void 0,"f"),e.data.step_details.type=="tool_calls"&&u(this,Z,"f")&&(this._emit("toolCallDone",u(this,Z,"f")),k(this,Z,void 0,"f")),this._emit("runStepDone",e.data,t);break;case"thread.run.step.in_progress":break}},Hr=function(e){u(this,gi,"f").push(e),this._emit("event",e)},Jr=function(e){switch(e.event){case"thread.run.step.created":return u(this,de,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=u(this,de,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){let i=Qe.accumulateDelta(t,n.delta);u(this,de,"f")[e.data.id]=i}return u(this,de,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":u(this,de,"f")[e.data.id]=e.data;break}if(u(this,de,"f")[e.data.id])return u(this,de,"f")[e.data.id];throw new Error("No snapshot available")},Vr=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let i=e.data;if(i.delta.content)for(let r of i.delta.content)if(r.index in t.content){let a=t.content[r.index];t.content[r.index]=u(this,H,"m",Kr).call(this,r,a)}else t.content[r.index]=r,n.push(r);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Kr=function(e,t){return Qe.accumulateDelta(t,e)},Xr=function(e){switch(k(this,ln,e.data,"f"),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":k(this,Ze,e.data,"f"),u(this,Z,"f")&&(this._emit("toolCallDone",u(this,Z,"f")),k(this,Z,void 0,"f"));break;case"thread.run.cancelling":break}};var et=class extends m{constructor(){super(...arguments),this.steps=new zt(this._client)}create(e,t,n){let{include:i,...r}=t;return this._client.post(d`/threads/${e}/runs`,{query:{include:i},body:r,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}retrieve(e,t,n){let{thread_id:i}=t;return this._client.get(d`/threads/${i}/runs/${e}`,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){let{thread_id:i,...r}=t;return this._client.post(d`/threads/${i}/runs/${e}`,{body:r,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(d`/threads/${e}/runs`,E,{query:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){let{thread_id:i}=t;return this._client.post(d`/threads/${i}/runs/${e}/cancel`,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){let i=await this.create(e,t,n);return await this.poll(i.id,{thread_id:e},n)}createAndStream(e,t,n){return be.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){let i=y([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:r,response:a}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...i}}).withResponse();switch(r.status){case"queued":case"in_progress":case"cancelling":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{let l=a.headers.get("openai-poll-after-ms");if(l){let _=parseInt(l);isNaN(_)||(o=_)}}await le(o);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return r}}}stream(e,t,n){return be.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n){let{thread_id:i,...r}=t;return this._client.post(d`/threads/${i}/runs/${e}/submit_tool_outputs`,{body:r,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,n){let i=await this.submitToolOutputs(e,t,n);return await this.poll(i.id,t,n)}submitToolOutputsStream(e,t,n){return be.createToolAssistantStream(e,this._client.beta.threads.runs,t,n)}};et.Steps=zt;var Be=class extends m{constructor(){super(...arguments),this.runs=new et(this._client),this.messages=new Lt(this._client)}create(e={},t){return this._client.post("/threads",{body:e,...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(d`/threads/${e}`,{...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(d`/threads/${e}`,{body:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t){return this._client.delete(d`/threads/${e}`,{...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){let n=await this.createAndRun(e,t);return await this.runs.poll(n.id,{thread_id:n.thread_id},t)}createAndRunStream(e,t){return be.createThreadAssistantStream(e,this._client.beta.threads,t)}};Be.Runs=et;Be.Messages=Lt;var se=class extends m{constructor(){super(...arguments),this.realtime=new Te(this._client),this.chatkit=new Oe(this._client),this.assistants=new qt(this._client),this.threads=new Be(this._client)}};se.Realtime=Te;se.ChatKit=Oe;se.Assistants=qt;se.Threads=Be;var tt=class extends m{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}};var Ht=class extends m{retrieve(e,t,n){let{container_id:i}=t;return this._client.get(d`/containers/${i}/files/${e}/content`,{...n,headers:y([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}};var st=class extends m{constructor(){super(...arguments),this.content=new Ht(this._client)}create(e,t,n){return this._client.post(d`/containers/${e}/files`,Q({body:t,...n},this._client))}retrieve(e,t,n){let{container_id:i}=t;return this._client.get(d`/containers/${i}/files/${e}`,n)}list(e,t={},n){return this._client.getAPIList(d`/containers/${e}/files`,E,{query:t,...n})}delete(e,t,n){let{container_id:i}=t;return this._client.delete(d`/containers/${i}/files/${e}`,{...n,headers:y([{Accept:"*/*"},n?.headers])})}};st.Content=Ht;var Ne=class extends m{constructor(){super(...arguments),this.files=new st(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(d`/containers/${e}`,t)}list(e={},t){return this._client.getAPIList("/containers",E,{query:e,...t})}delete(e,t){return this._client.delete(d`/containers/${e}`,{...t,headers:y([{Accept:"*/*"},t?.headers])})}};Ne.Files=st;var Jt=class extends m{create(e,t,n){let{include:i,...r}=t;return this._client.post(d`/conversations/${e}/items`,{query:{include:i},body:r,...n})}retrieve(e,t,n){let{conversation_id:i,...r}=t;return this._client.get(d`/conversations/${i}/items/${e}`,{query:r,...n})}list(e,t={},n){return this._client.getAPIList(d`/conversations/${e}/items`,me,{query:t,...n})}delete(e,t,n){let{conversation_id:i}=t;return this._client.delete(d`/conversations/${i}/items/${e}`,n)}};var qe=class extends m{constructor(){super(...arguments),this.items=new Jt(this._client)}create(e={},t){return this._client.post("/conversations",{body:e,...t})}retrieve(e,t){return this._client.get(d`/conversations/${e}`,t)}update(e,t,n){return this._client.post(d`/conversations/${e}`,{body:t,...n})}delete(e,t){return this._client.delete(d`/conversations/${e}`,t)}};qe.Items=Jt;var nt=class extends m{create(e,t){let n=!!e.encoding_format,i=n?e.encoding_format:"base64";n&&q(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);let r=this._client.post("/embeddings",{body:{...e,encoding_format:i},...t});return n?r:(q(this._client).debug("embeddings/decoding base64 embeddings from base64"),r._thenUnwrap(a=>(a&&a.data&&a.data.forEach(o=>{let l=o.embedding;o.embedding=Lr(l)}),a)))}};var Vt=class extends m{retrieve(e,t,n){let{eval_id:i,run_id:r}=t;return this._client.get(d`/evals/${i}/runs/${r}/output_items/${e}`,n)}list(e,t,n){let{eval_id:i,...r}=t;return this._client.getAPIList(d`/evals/${i}/runs/${e}/output_items`,E,{query:r,...n})}};var it=class extends m{constructor(){super(...arguments),this.outputItems=new Vt(this._client)}create(e,t,n){return this._client.post(d`/evals/${e}/runs`,{body:t,...n})}retrieve(e,t,n){let{eval_id:i}=t;return this._client.get(d`/evals/${i}/runs/${e}`,n)}list(e,t={},n){return this._client.getAPIList(d`/evals/${e}/runs`,E,{query:t,...n})}delete(e,t,n){let{eval_id:i}=t;return this._client.delete(d`/evals/${i}/runs/${e}`,n)}cancel(e,t,n){let{eval_id:i}=t;return this._client.post(d`/evals/${i}/runs/${e}`,n)}};it.OutputItems=Vt;var Ue=class extends m{constructor(){super(...arguments),this.runs=new it(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(d`/evals/${e}`,t)}update(e,t,n){return this._client.post(d`/evals/${e}`,{body:t,...n})}list(e={},t){return this._client.getAPIList("/evals",E,{query:e,...t})}delete(e,t){return this._client.delete(d`/evals/${e}`,t)}};Ue.Runs=it;var rt=class extends m{create(e,t){return this._client.post("/files",Q({body:e,...t},this._client))}retrieve(e,t){return this._client.get(d`/files/${e}`,t)}list(e={},t){return this._client.getAPIList("/files",E,{query:e,...t})}delete(e,t){return this._client.delete(d`/files/${e}`,t)}content(e,t){return this._client.get(d`/files/${e}/content`,{...t,headers:y([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:n=1800*1e3}={}){let i=new Set(["processed","error","deleted"]),r=Date.now(),a=await this.retrieve(e);for(;!a.status||!i.has(a.status);)if(await le(t),a=await this.retrieve(e),Date.now()-r>n)throw new Re({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return a}};var Kt=class extends m{};var Xt=class extends m{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}};var at=class extends m{constructor(){super(...arguments),this.graders=new Xt(this._client)}};at.Graders=Xt;var Gt=class extends m{create(e,t,n){return this._client.getAPIList(d`/fine_tuning/checkpoints/${e}/permissions`,ce,{body:t,method:"post",...n})}retrieve(e,t={},n){return this._client.get(d`/fine_tuning/checkpoints/${e}/permissions`,{query:t,...n})}delete(e,t,n){let{fine_tuned_model_checkpoint:i}=t;return this._client.delete(d`/fine_tuning/checkpoints/${i}/permissions/${e}`,n)}};var ot=class extends m{constructor(){super(...arguments),this.permissions=new Gt(this._client)}};ot.Permissions=Gt;var Yt=class extends m{list(e,t={},n){return this._client.getAPIList(d`/fine_tuning/jobs/${e}/checkpoints`,E,{query:t,...n})}};var lt=class extends m{constructor(){super(...arguments),this.checkpoints=new Yt(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(d`/fine_tuning/jobs/${e}`,t)}list(e={},t){return this._client.getAPIList("/fine_tuning/jobs",E,{query:e,...t})}cancel(e,t){return this._client.post(d`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},n){return this._client.getAPIList(d`/fine_tuning/jobs/${e}/events`,E,{query:t,...n})}pause(e,t){return this._client.post(d`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(d`/fine_tuning/jobs/${e}/resume`,t)}};lt.Checkpoints=Yt;var ne=class extends m{constructor(){super(...arguments),this.methods=new Kt(this._client),this.jobs=new lt(this._client),this.checkpoints=new ot(this._client),this.alpha=new at(this._client)}};ne.Methods=Kt;ne.Jobs=lt;ne.Checkpoints=ot;ne.Alpha=at;var Qt=class extends m{};var Me=class extends m{constructor(){super(...arguments),this.graderModels=new Qt(this._client)}};Me.GraderModels=Qt;var _t=class extends m{createVariation(e,t){return this._client.post("/images/variations",Q({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",Q({body:e,...t,stream:e.stream??!1},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t,stream:e.stream??!1})}};var ut=class extends m{retrieve(e,t){return this._client.get(d`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",ce,e)}delete(e,t){return this._client.delete(d`/models/${e}`,t)}};var ct=class extends m{create(e,t){return this._client.post("/moderations",{body:e,...t})}};var Zt=class extends m{accept(e,t,n){return this._client.post(d`/realtime/calls/${e}/accept`,{body:t,...n,headers:y([{Accept:"*/*"},n?.headers])})}hangup(e,t){return this._client.post(d`/realtime/calls/${e}/hangup`,{...t,headers:y([{Accept:"*/*"},t?.headers])})}refer(e,t,n){return this._client.post(d`/realtime/calls/${e}/refer`,{body:t,...n,headers:y([{Accept:"*/*"},n?.headers])})}reject(e,t={},n){return this._client.post(d`/realtime/calls/${e}/reject`,{body:t,...n,headers:y([{Accept:"*/*"},n?.headers])})}};var es=class extends m{create(e,t){return this._client.post("/realtime/client_secrets",{body:e,...t})}};var xe=class extends m{constructor(){super(...arguments),this.clientSecrets=new es(this._client),this.calls=new Zt(this._client)}};xe.ClientSecrets=es;xe.Calls=Zt;function Gr(s,e){return!e||!ll(e)?{...s,output_parsed:null,output:s.output.map(t=>t.type==="function_call"?{...t,parsed_arguments:null}:t.type==="message"?{...t,content:t.content.map(n=>({...n,parsed:null}))}:t)}:yi(s,e)}function yi(s,e){let t=s.output.map(i=>{if(i.type==="function_call")return{...i,parsed_arguments:cl(e,i)};if(i.type==="message"){let r=i.content.map(a=>a.type==="output_text"?{...a,parsed:ol(e,a.text)}:a);return{...i,content:r}}return i}),n=Object.assign({},s,{output:t});return Object.getOwnPropertyDescriptor(s,"output_text")||un(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(let i of n.output)if(i.type==="message"){for(let r of i.content)if(r.type==="output_text"&&r.parsed!==null)return r.parsed}return null}}),n}function ol(s,e){return s.text?.format?.type!=="json_schema"?null:"$parseRaw"in s.text?.format?(s.text?.format).$parseRaw(e):JSON.parse(e)}function ll(s){return!!vs(s.text?.format)}function _l(s){return s?.$brand==="auto-parseable-tool"}function ul(s,e){return s.find(t=>t.type==="function"&&t.name===e)}function cl(s,e){let t=ul(s.tools??[],e.name);return{...e,...e,parsed_arguments:_l(t)?t.$parseRaw(e.arguments):t?.strict?JSON.parse(e.arguments):null}}function un(s){let e=[];for(let t of s.output)if(t.type==="message")for(let n of t.content)n.type==="output_text"&&e.push(n.text);s.output_text=e.join("")}var ts,cn,je,fn,Yr,Qr,Zr,ea,dn=class s extends Pe{constructor(e){super(),ts.add(this),cn.set(this,void 0),je.set(this,void 0),fn.set(this,void 0),k(this,cn,e,"f")}static createResponse(e,t,n){let i=new s(t);return i._run(()=>i._createOrRetrieveResponse(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),i}async _createOrRetrieveResponse(e,t,n){let i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort())),u(this,ts,"m",Yr).call(this);let r,a=null;"response_id"in t?(r=await e.responses.retrieve(t.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),a=t.starting_after??null):r=await e.responses.create({...t,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(let o of r)u(this,ts,"m",Qr).call(this,o,a);if(r.controller.signal?.aborted)throw new U;return u(this,ts,"m",Zr).call(this)}[(cn=new WeakMap,je=new WeakMap,fn=new WeakMap,ts=new WeakSet,Yr=function(){this.ended||k(this,je,void 0,"f")},Qr=function(t,n){if(this.ended)return;let i=(a,o)=>{(n==null||o.sequence_number>n)&&this._emit(a,o)},r=u(this,ts,"m",ea).call(this,t);switch(i("event",t),t.type){case"response.output_text.delta":{let a=r.output[t.output_index];if(!a)throw new x(`missing output at index ${t.output_index}`);if(a.type==="message"){let o=a.content[t.content_index];if(!o)throw new x(`missing content at index ${t.content_index}`);if(o.type!=="output_text")throw new x(`expected content to be 'output_text', got ${o.type}`);i("response.output_text.delta",{...t,snapshot:o.text})}break}case"response.function_call_arguments.delta":{let a=r.output[t.output_index];if(!a)throw new x(`missing output at index ${t.output_index}`);a.type==="function_call"&&i("response.function_call_arguments.delta",{...t,snapshot:a.arguments});break}default:i(t.type,t);break}},Zr=function(){if(this.ended)throw new x("stream has ended, this shouldn't happen");let t=u(this,je,"f");if(!t)throw new x("request ended without sending any events");k(this,je,void 0,"f");let n=fl(t,u(this,cn,"f"));return k(this,fn,n,"f"),n},ea=function(t){let n=u(this,je,"f");if(!n){if(t.type!=="response.created")throw new x(`When snapshot hasn't been set yet, expected 'response.created' event, got ${t.type}`);return n=k(this,je,t.response,"f"),n}switch(t.type){case"response.output_item.added":{n.output.push(t.item);break}case"response.content_part.added":{let i=n.output[t.output_index];if(!i)throw new x(`missing output at index ${t.output_index}`);let r=i.type,a=t.part;r==="message"&&a.type!=="reasoning_text"?i.content.push(a):r==="reasoning"&&a.type==="reasoning_text"&&(i.content||(i.content=[]),i.content.push(a));break}case"response.output_text.delta":{let i=n.output[t.output_index];if(!i)throw new x(`missing output at index ${t.output_index}`);if(i.type==="message"){let r=i.content[t.content_index];if(!r)throw new x(`missing content at index ${t.content_index}`);if(r.type!=="output_text")throw new x(`expected content to be 'output_text', got ${r.type}`);r.text+=t.delta}break}case"response.function_call_arguments.delta":{let i=n.output[t.output_index];if(!i)throw new x(`missing output at index ${t.output_index}`);i.type==="function_call"&&(i.arguments+=t.delta);break}case"response.reasoning_text.delta":{let i=n.output[t.output_index];if(!i)throw new x(`missing output at index ${t.output_index}`);if(i.type==="reasoning"){let r=i.content?.[t.content_index];if(!r)throw new x(`missing content at index ${t.content_index}`);if(r.type!=="reasoning_text")throw new x(`expected content to be 'reasoning_text', got ${r.type}`);r.text+=t.delta}break}case"response.completed":{k(this,je,t.response,"f");break}}return n},Symbol.asyncIterator)](){let e=[],t=[],n=!1;return this.on("event",i=>{let r=t.shift();r?r.resolve(i):e.push(i)}),this.on("end",()=>{n=!0;for(let i of t)i.resolve(void 0);t.length=0}),this.on("abort",i=>{n=!0;for(let r of t)r.reject(i);t.length=0}),this.on("error",i=>{n=!0;for(let r of t)r.reject(i);t.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((r,a)=>t.push({resolve:r,reject:a})).then(r=>r?{value:r,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();let e=u(this,fn,"f");if(!e)throw new x("stream ended without producing a ChatCompletion");return e}};function fl(s,e){return Gr(s,e)}var ss=class extends m{list(e,t={},n){return this._client.getAPIList(d`/responses/${e}/input_items`,E,{query:t,...n})}};var ns=class extends m{count(e={},t){return this._client.post("/responses/input_tokens",{body:e,...t})}};var ve=class extends m{constructor(){super(...arguments),this.inputItems=new ss(this._client),this.inputTokens=new ns(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&un(n),n))}retrieve(e,t={},n){return this._client.get(d`/responses/${e}`,{query:t,...n,stream:t?.stream??!1})._thenUnwrap(i=>("object"in i&&i.object==="response"&&un(i),i))}delete(e,t){return this._client.delete(d`/responses/${e}`,{...t,headers:y([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap(n=>yi(n,e))}stream(e,t){return dn.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(d`/responses/${e}/cancel`,t)}compact(e,t){return this._client.post("/responses/compact",{body:e,...t})}};ve.InputItems=ss;ve.InputTokens=ns;var is=class extends m{create(e,t,n){return this._client.post(d`/uploads/${e}/parts`,Q({body:t,...n},this._client))}};var De=class extends m{constructor(){super(...arguments),this.parts=new is(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(d`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(d`/uploads/${e}/complete`,{body:t,...n})}};De.Parts=is;var ta=async s=>{let e=await Promise.allSettled(s),t=e.filter(i=>i.status==="rejected");if(t.length){for(let i of t)console.error(i.reason);throw new Error(`${t.length} promise(s) failed - see the above errors`)}let n=[];for(let i of e)i.status==="fulfilled"&&n.push(i.value);return n};var rs=class extends m{create(e,t,n){return this._client.post(d`/vector_stores/${e}/file_batches`,{body:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){let{vector_store_id:i}=t;return this._client.get(d`/vector_stores/${i}/file_batches/${e}`,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){let{vector_store_id:i}=t;return this._client.post(d`/vector_stores/${i}/file_batches/${e}/cancel`,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){let i=await this.create(e,t);return await this.poll(e,i.id,n)}listFiles(e,t,n){let{vector_store_id:i,...r}=t;return this._client.getAPIList(d`/vector_stores/${i}/file_batches/${e}/files`,E,{query:r,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,t,n){let i=y([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let{data:r,response:a}=await this.retrieve(t,{vector_store_id:e},{...n,headers:i}).withResponse();switch(r.status){case"in_progress":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{let l=a.headers.get("openai-poll-after-ms");if(l){let _=parseInt(l);isNaN(_)||(o=_)}}await le(o);break;case"failed":case"cancelled":case"completed":return r}}}async uploadAndPoll(e,{files:t,fileIds:n=[]},i){if(t==null||t.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");let r=i?.maxConcurrency??5,a=Math.min(r,t.length),o=this._client,l=t.values(),_=[...n];async function h(g){for(let f of g){let v=await o.files.create({file:f,purpose:"assistants"},i);_.push(v.id)}}let c=Array(a).fill(l).map(h);return await ta(c),await this.createAndPoll(e,{file_ids:_})}};var as=class extends m{create(e,t,n){return this._client.post(d`/vector_stores/${e}/files`,{body:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){let{vector_store_id:i}=t;return this._client.get(d`/vector_stores/${i}/files/${e}`,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){let{vector_store_id:i,...r}=t;return this._client.post(d`/vector_stores/${i}/files/${e}`,{body:r,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t={},n){return this._client.getAPIList(d`/vector_stores/${e}/files`,E,{query:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){let{vector_store_id:i}=t;return this._client.delete(d`/vector_stores/${i}/files/${e}`,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){let i=await this.create(e,t,n);return await this.poll(e,i.id,n)}async poll(e,t,n){let i=y([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){let r=await this.retrieve(t,{vector_store_id:e},{...n,headers:i}).withResponse(),a=r.data;switch(a.status){case"in_progress":let o=5e3;if(n?.pollIntervalMs)o=n.pollIntervalMs;else{let l=r.response.headers.get("openai-poll-after-ms");if(l){let _=parseInt(l);isNaN(_)||(o=_)}}await le(o);break;case"failed":case"completed":return a}}}async upload(e,t,n){let i=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:i.id},n)}async uploadAndPoll(e,t,n){let i=await this.upload(e,t,n);return await this.poll(e,i.id,n)}content(e,t,n){let{vector_store_id:i}=t;return this._client.getAPIList(d`/vector_stores/${i}/files/${e}/content`,ce,{...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};var ke=class extends m{constructor(){super(...arguments),this.files=new as(this._client),this.fileBatches=new rs(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(d`/vector_stores/${e}`,{...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(d`/vector_stores/${e}`,{body:t,...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},t){return this._client.getAPIList("/vector_stores",E,{query:e,...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(d`/vector_stores/${e}`,{...t,headers:y([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,n){return this._client.getAPIList(d`/vector_stores/${e}/search`,ce,{body:t,method:"post",...n,headers:y([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}};ke.Files=as;ke.FileBatches=rs;var ft=class extends m{create(e,t){return this._client.post("/videos",ei({body:e,...t},this._client))}retrieve(e,t){return this._client.get(d`/videos/${e}`,t)}list(e={},t){return this._client.getAPIList("/videos",me,{query:e,...t})}delete(e,t){return this._client.delete(d`/videos/${e}`,t)}downloadContent(e,t={},n){return this._client.get(d`/videos/${e}/content`,{query:t,...n,headers:y([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}remix(e,t,n){return this._client.post(d`/videos/${e}/remix`,ei({body:t,...n},this._client))}};var os,sa,pn,dt=class extends m{constructor(){super(...arguments),os.add(this)}async unwrap(e,t,n=this._client.webhookSecret,i=300){return await this.verifySignature(e,t,n,i),JSON.parse(e)}async verifySignature(e,t,n=this._client.webhookSecret,i=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");u(this,os,"m",sa).call(this,n);let r=y([t]).values,a=u(this,os,"m",pn).call(this,r,"webhook-signature"),o=u(this,os,"m",pn).call(this,r,"webhook-timestamp"),l=u(this,os,"m",pn).call(this,r,"webhook-id"),_=parseInt(o,10);if(isNaN(_))throw new oe("Invalid webhook timestamp format");let h=Math.floor(Date.now()/1e3);if(h-_>i)throw new oe("Webhook timestamp is too old");if(_>h+i)throw new oe("Webhook timestamp is too new");let c=a.split(" ").map(w=>w.startsWith("v1,")?w.substring(3):w),g=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),f=l?`${l}.${o}.${e}`:`${o}.${e}`,v=await crypto.subtle.importKey("raw",g,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(let w of c)try{let R=Buffer.from(w,"base64");if(await crypto.subtle.verify("HMAC",v,R,new TextEncoder().encode(f)))return}catch{continue}throw new oe("The given webhook signature does not match the expected signature")}};os=new WeakSet,sa=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},pn=function(e,t){if(!e)throw new Error("Headers are required");let n=e.get(t);if(n==null)throw new Error(`Missing required header: ${t}`);return n};var wi,bi,hn,na,A=class{constructor({baseURL:e=$e("OPENAI_BASE_URL"),apiKey:t=$e("OPENAI_API_KEY"),organization:n=$e("OPENAI_ORG_ID")??null,project:i=$e("OPENAI_PROJECT_ID")??null,webhookSecret:r=$e("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(wi.add(this),hn.set(this,void 0),this.completions=new tt(this),this.chat=new Fe(this),this.embeddings=new nt(this),this.files=new rt(this),this.images=new _t(this),this.audio=new fe(this),this.moderations=new ct(this),this.models=new ut(this),this.fineTuning=new ne(this),this.graders=new Me(this),this.vectorStores=new ke(this),this.webhooks=new dt(this),this.beta=new se(this),this.batches=new Ge(this),this.uploads=new De(this),this.responses=new ve(this),this.realtime=new xe(this),this.conversations=new qe(this),this.evals=new Ue(this),this.containers=new Ne(this),this.videos=new ft(this),t===void 0)throw new x("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");let o={apiKey:t,organization:n,project:i,webhookSecret:r,...a,baseURL:e||"https://api.openai.com/v1"};if(!o.dangerouslyAllowBrowser&&ur())throw new x(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=o.baseURL,this.timeout=o.timeout??bi.DEFAULT_TIMEOUT,this.logger=o.logger??console;let l="warn";this.logLevel=l,this.logLevel=Kn(o.logLevel,"ClientOptions.logLevel",this)??Kn($e("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??l,this.fetchOptions=o.fetchOptions,this.maxRetries=o.maxRetries??2,this.fetch=o.fetch??fr(),k(this,hn,pr,"f"),this._options=o,this.apiKey=typeof t=="string"?t:"Missing Key",this.organization=n,this.project=i,this.webhookSecret=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){}async authHeaders(e){return y([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return Jn(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Se}`}defaultIdempotencyKey(){return`stainless-node-retry-${Nn()}`}makeStatusError(e,t,n,i){return j.generate(e,t,n,i)}async _callApiKey(){let e=this._options.apiKey;if(typeof e!="function")return!1;let t;try{t=await e()}catch(n){throw n instanceof x?n:new x(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof t!="string"||!t)throw new x(`Expected 'apiKey' function argument to return a string but it returned ${t}`);return this.apiKey=t,!0}buildURL(e,t,n){let i=!u(this,wi,"m",na).call(this)&&n||this.baseURL,r=sr(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return nr(a)||(t={...a,...t}),typeof t=="object"&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(i=>({method:e,path:t,...i})))}request(e,t=null){return new Je(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){let i=await e,r=i.maxRetries??this.maxRetries;t==null&&(t=r),await this.prepareOptions(i);let{req:a,url:o,timeout:l}=await this.buildRequest(i,{retryCount:r-t});await this.prepareRequest(a,{url:o,options:i});let _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=n===void 0?"":`, retryOf: ${n}`,c=Date.now();if(q(this).debug(`[${_}] sending request`,he({retryOfRequestLogID:n,method:i.method,url:o,options:i,headers:a.headers})),i.signal?.aborted)throw new U;let g=new AbortController,f=await this.fetchWithTimeout(o,a,l,g).catch(ds),v=Date.now();if(f instanceof globalThis.Error){let I=`retrying, ${t} attempts remaining`;if(i.signal?.aborted)throw new U;let b=fs(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(t)return q(this).info(`[${_}] connection ${b?"timed out":"failed"} - ${I}`),q(this).debug(`[${_}] connection ${b?"timed out":"failed"} (${I})`,he({retryOfRequestLogID:n,url:o,durationMs:v-c,message:f.message})),this.retryRequest(i,t,n??_);throw q(this).info(`[${_}] connection ${b?"timed out":"failed"} - error; no more retries left`),q(this).debug(`[${_}] connection ${b?"timed out":"failed"} (error; no more retries left)`,he({retryOfRequestLogID:n,url:o,durationMs:v-c,message:f.message})),b?new Re:new Ee({cause:f})}let w=[...f.headers.entries()].filter(([I])=>I==="x-request-id").map(([I,b])=>", "+I+": "+JSON.stringify(b)).join(""),R=`[${_}${h}${w}] ${a.method} ${o} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${v-c}ms`;if(!f.ok){let I=await this.shouldRetry(f);if(t&&I){let S=`retrying, ${t} attempts remaining`;return await dr(f.body),q(this).info(`${R} - ${S}`),q(this).debug(`[${_}] response error (${S})`,he({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:v-c})),this.retryRequest(i,t,n??_,f.headers)}let b=I?"error; no more retries left":"error; not retryable";q(this).info(`${R} - ${b}`);let F=await f.text().catch(S=>ds(S).message),P=ar(F),M=P?void 0:F;throw q(this).debug(`[${_}] response error (${b})`,he({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:M,durationMs:Date.now()-c})),this.makeStatusError(f.status,P,M,f.headers)}return q(this).info(R),q(this).debug(`[${_}] response start`,he({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:v-c})),{response:f,options:i,controller:g,requestLogID:_,retryOfRequestLogID:n,startTime:c}}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}requestAPIList(e,t){let n=this.makeRequest(t,null,void 0);return new ws(this,n,e)}async fetchWithTimeout(e,t,n,i){let{signal:r,method:a,...o}=t||{};r&&r.addEventListener("abort",()=>i.abort());let l=setTimeout(()=>i.abort(),n),_=globalThis.ReadableStream&&o.body instanceof globalThis.ReadableStream||typeof o.body=="object"&&o.body!==null&&Symbol.asyncIterator in o.body,h={signal:i.signal,..._?{duplex:"half"}:{},method:"GET",...o};a&&(h.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(l)}}async shouldRetry(e){let t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,n,i){let r,a=i?.get("retry-after-ms");if(a){let l=parseFloat(a);Number.isNaN(l)||(r=l)}let o=i?.get("retry-after");if(o&&!r){let l=parseFloat(o);Number.isNaN(l)?r=Date.parse(o)-Date.now():r=l*1e3}if(!(r&&0<=r&&r<60*1e3)){let l=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,l)}return await le(r),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){let r=t-e,a=Math.min(.5*Math.pow(2,r),8),o=1-Math.random()*.25;return a*o*1e3}async buildRequest(e,{retryCount:t=0}={}){let n={...e},{method:i,path:r,query:a,defaultBaseURL:o}=n,l=this.buildURL(r,a,o);"timeout"in n&&rr("timeout",n.timeout),n.timeout=n.timeout??this.timeout;let{bodyHeaders:_,body:h}=this.buildBody({options:n}),c=await this.buildHeaders({options:e,method:i,bodyHeaders:_,retryCount:t});return{req:{method:i,headers:c,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"},...h&&{body:h},...this.fetchOptions??{},...n.fetchOptions??{}},url:l,timeout:n.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:i}){let r={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=e.idempotencyKey);let a=y([r,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...cr(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};let n=y([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:js(e)}:u(this,hn,"f").call(this,{body:e,headers:n})}};bi=A,hn=new WeakMap,wi=new WeakSet,na=function(){return this.baseURL!=="https://api.openai.com/v1"};A.OpenAI=bi;A.DEFAULT_TIMEOUT=6e5;A.OpenAIError=x;A.APIError=j;A.APIConnectionError=Ee;A.APIConnectionTimeoutError=Re;A.APIUserAbortError=U;A.NotFoundError=xt;A.ConflictError=vt;A.RateLimitError=At;A.BadRequestError=yt;A.AuthenticationError=wt;A.InternalServerError=It;A.PermissionDeniedError=bt;A.UnprocessableEntityError=kt;A.InvalidWebhookSignatureError=oe;A.toFile=Xs;A.Completions=tt;A.Chat=Fe;A.Embeddings=nt;A.Files=rt;A.Images=_t;A.Audio=fe;A.Moderations=ct;A.Models=ut;A.FineTuning=ne;A.Graders=Me;A.VectorStores=ke;A.Webhooks=dt;A.Beta=se;A.Batches=Ge;A.Uploads=De;A.Responses=ve;A.Realtime=xe;A.Conversations=qe;A.Evals=Ue;A.Containers=Ne;A.Videos=ft;function wl(s,e){if(!s)return null;let t=s.split(";");for(let n of t){let[i,r]=n.trim().split("=");if(i===e)return r}return null}async function bl(s,e,t,n,i=5){try{if(!s.env.DB)return console.log("[Get Recent Workouts] DB not available"),[];console.log("[Get Recent Workouts] Fetching for user:",e,"sport:",n,"before:",t);let r=await s.env.DB.prepare(`SELECT sport, start_time, total_distance, total_time, avg_pace, avg_heart_rate 
       FROM workouts 
       WHERE user_id = ? AND sport = ? AND start_time < ?
       ORDER BY start_time DESC 
       LIMIT ?`).bind(e,n,t,i).all();return console.log("[Get Recent Workouts] Query returned:",r.results?.length||0,"workouts for sport:",n),!r.results||r.results.length===0?[]:r.results.map(a=>({date:a.start_time,sport:a.sport||"unknown",distance:a.total_distance||0,duration:a.total_time||0,avgPace:a.avg_pace,avgHeartRate:a.avg_heart_rate}))}catch(r){return console.error("[Get Recent Workouts] Error:",r),[]}}async function xl(s){let e=wl(s.request.headers.get("Cookie"),"session");if(!e)return null;try{let t=await s.env.DB.prepare('SELECT user_id FROM sessions WHERE id = ? AND expires_at > datetime("now")').bind(e).first();return t?{id:t.user_id}:null}catch{return null}}async function vl(s,e,t,n){let i=t.id,r=`workouts/${e}/${i}.json`,a=!1;if(s.env.WORKOUT_DATA)try{await s.env.WORKOUT_DATA.put(r,JSON.stringify(t),{httpMetadata:{contentType:"application/json"},customMetadata:{userId:e,workoutId:i,sport:t.summary.sport,startTime:t.summary.startTime}}),a=!0,console.log("R2 save successful:",r)}catch(o){console.error("R2 save error:",o)}else console.warn("WORKOUT_DATA R2 bucket is not bound. Skipping R2 save.");if(a)try{await s.env.DB.prepare(`INSERT INTO workouts (id, user_id, file_name, sport, start_time, total_distance, total_time, 
         avg_heart_rate, max_heart_rate, avg_pace, total_calories, total_ascent, total_descent, avg_power, r2_key)
         VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`).bind(i,e,t.fileName,t.summary.sport,t.summary.startTime,t.summary.totalDistance,Math.round(t.summary.totalElapsedTime),t.summary.avgHeartRate||null,t.summary.maxHeartRate||null,t.summary.avgSpeed?1e3/t.summary.avgSpeed/60:null,t.summary.totalCalories||null,t.summary.totalAscent||null,t.summary.totalDescent||null,t.summary.avgPower||null,r).run(),console.log("D1 metadata saved with r2_key")}catch(o){console.error("D1 save error with r2_key:",o);try{await s.env.DB.prepare(`INSERT INTO workouts (id, user_id, file_name, sport, start_time, total_distance, total_time, 
           avg_heart_rate, max_heart_rate, avg_pace, total_calories, total_ascent, total_descent, avg_power, workout_data)
           VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)`).bind(i,e,t.fileName,t.summary.sport,t.summary.startTime,t.summary.totalDistance,Math.round(t.summary.totalElapsedTime),t.summary.avgHeartRate||null,t.summary.maxHeartRate||null,t.summary.avgSpeed?1e3/t.summary.avgSpeed/60:null,t.summary.totalCalories||null,t.summary.totalAscent||null,t.summary.totalDescent||null,t.summary.avgPower||null,null).run(),console.log("D1 metadata saved with legacy schema (workout_data=NULL)")}catch(l){throw console.error("D1 save error with legacy schema:",l),l}}else console.warn("Skipping D1 save because R2 save failed. Data would be too large for D1.");await s.env.DB.prepare(`INSERT INTO ai_analyses (id, workout_id, overall_score, summary, strengths, improvements, recommendations, detailed_analysis)
     VALUES (?, ?, ?, ?, ?, ?, ?, ?)`).bind(crypto.randomUUID(),i,n.overallScore,n.performanceSummary,JSON.stringify(n.strengths),JSON.stringify(n.areasForImprovement),JSON.stringify(n.trainingRecommendations),JSON.stringify({heartRateAnalysis:n.heartRateAnalysis,paceAnalysis:n.paceAnalysis,recoveryAdvice:n.recoveryAdvice})).run()}async function kl(s,e){let n=await new cs({force:!0,speedUnit:"m/s",lengthUnit:"m",temperatureUnit:"celsius",elapsedRecordField:!0,mode:"list"}).parseAsync(s);return Al(n,e)}function Al(s,e){let t=s.sessions?.[0],n=s.records||[],i=s.laps||[],r=s.device_infos?.[0];if(!t)throw new Error("No session data found in FIT file");let a={sport:t.sport||"generic",subSport:t.sub_sport,startTime:t.start_time?.toISOString()||new Date().toISOString(),totalElapsedTime:t.total_elapsed_time||0,totalTimerTime:t.total_timer_time||t.total_elapsed_time||0,totalDistance:t.total_distance||0,totalCalories:t.total_calories,avgHeartRate:t.avg_heart_rate,maxHeartRate:t.max_heart_rate,avgSpeed:t.avg_speed,maxSpeed:t.max_speed,avgCadence:t.avg_cadence,maxCadence:t.max_cadence,avgPower:t.avg_power,maxPower:t.max_power,totalAscent:t.total_ascent,totalDescent:t.total_descent,minAltitude:t.min_altitude,maxAltitude:t.max_altitude},o=n.map(_=>({timestamp:_.timestamp?.toISOString()||new Date().toISOString(),heartRate:_.heart_rate,speed:_.speed,distance:_.distance,altitude:_.altitude,cadence:_.cadence,power:_.power,temperature:_.temperature,latitude:_.position_lat,longitude:_.position_long})),l=i.map(_=>({startTime:_.start_time?.toISOString()||new Date().toISOString(),totalElapsedTime:_.total_elapsed_time||0,totalDistance:_.total_distance||0,avgHeartRate:_.avg_heart_rate,maxHeartRate:_.max_heart_rate,avgSpeed:_.avg_speed,maxSpeed:_.max_speed,avgCadence:_.avg_cadence,avgPower:_.avg_power}));return{id:crypto.randomUUID(),fileName:e,summary:a,laps:l,records:o,deviceInfo:r?{manufacturer:r.manufacturer,product:r.product?.toString(),serialNumber:r.serial_number?.toString()}:void 0}}function Os(s){let e=Math.floor(s/3600),t=Math.floor(s%3600/60),n=Math.floor(s%60);return e>0?`${e}\u6642\u9593${t}\u5206${n}\u79D2`:`${t}\u5206${n}\u79D2`}function mn(s){if(!s||s===0)return"N/A";let e=1e3/s,t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}/km`}function Il(s){let e=s.map(a=>a.heartRate).filter(a=>a!==void 0&&a>0);if(e.length===0)return"\u30C7\u30FC\u30BF\u306A\u3057";let t=e.reduce((a,o)=>a+o,0)/e.length,n=e.reduce((a,o)=>a+Math.pow(o-t,2),0)/e.length,r=Math.sqrt(n)/t*100;return r<5?"\u975E\u5E38\u306B\u5B89\u5B9A\uFF08CV < 5%\uFF09":r<10?"\u5B89\u5B9A\uFF08CV < 10%\uFF09":r<15?"\u3084\u3084\u5909\u52D5\u3042\u308A\uFF08CV < 15%\uFF09":"\u5909\u52D5\u304C\u5927\u304D\u3044\uFF08CV >= 15%\uFF09"}function El(s){let e=s.map(a=>a.avgSpeed).filter(a=>a!==void 0&&a>0);if(e.length<2)return"\u30E9\u30C3\u30D7\u30C7\u30FC\u30BF\u4E0D\u8DB3";let t=e.reduce((a,o)=>a+o,0)/e.length,n=e.reduce((a,o)=>a+Math.pow(o-t,2),0)/e.length,r=Math.sqrt(n)/t*100;return r<3?"\u975E\u5E38\u306B\u4E00\u8CAB\uFF08CV < 3%\uFF09":r<6?"\u4E00\u8CAB\uFF08CV < 6%\uFF09":r<10?"\u3084\u3084\u5909\u52D5\u3042\u308A\uFF08CV < 10%\uFF09":"\u5909\u52D5\u304C\u5927\u304D\u3044\uFF08CV >= 10%\uFF09"}async function Rl(s,e,t=[]){let{summary:n,laps:i,records:r}=s,a=10,o=i.slice(0,a),l=Il(r),_=El(i),h="";if(t.length>0){let v=Math.floor((new Date().getTime()-new Date(t[0].date).getTime())/864e5),w=t.reduce((I,b)=>I+b.distance,0)/t.length/1e3,R=n.totalDistance/1e3;h=`
## \u76F4\u8FD1\u306E\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u5C65\u6B74
${t.slice(0,3).map((I,b)=>{let F=Math.floor((new Date().getTime()-new Date(I.date).getTime())/864e5);return`${b+1}. ${F}\u65E5\u524D: ${(I.distance/1e3).toFixed(1)}km, ${Os(I.duration)}`}).join(`
`)}
\u524D\u56DE\u304B\u3089\u306E\u65E5\u6570: ${v}\u65E5
\u904E\u53BB\u5E73\u5747\u8DDD\u96E2: ${w.toFixed(1)}km
\u4ECA\u56DE\u8DDD\u96E2: ${R.toFixed(1)}km (${R>w?"+":""}${(R-w).toFixed(1)}km)`}let c=`\u30A8\u30F3\u30C7\u30E5\u30E9\u30F3\u30B9\u30B9\u30DD\u30FC\u30C4\u30B3\u30FC\u30C1\u3068\u3057\u3066\u3001\u4EE5\u4E0B\u306E\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u30C7\u30FC\u30BF\u3092\u5BA2\u89B3\u7684\u306B\u5206\u6790\u3057\u3066\u304F\u3060\u3055\u3044\u3002

## \u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u6982\u8981
- \u30B9\u30DD\u30FC\u30C4: ${n.sport}
- \u8DDD\u96E2: ${(n.totalDistance/1e3).toFixed(2)} km
- \u6642\u9593: ${Os(n.totalElapsedTime)}
- \u5E73\u5747\u30DA\u30FC\u30B9: ${mn(n.avgSpeed)}
- \u6700\u901F\u30DA\u30FC\u30B9: ${mn(n.maxSpeed)}
${n.avgHeartRate?`- \u5E73\u5747\u5FC3\u62CD\u6570: ${Math.round(n.avgHeartRate)} bpm`:""}
${n.maxHeartRate?`- \u6700\u5927\u5FC3\u62CD\u6570: ${Math.round(n.maxHeartRate)} bpm`:""}
${n.totalCalories?`- \u6D88\u8CBB\u30AB\u30ED\u30EA\u30FC: ${Math.round(n.totalCalories)} kcal`:""}
${n.totalAscent?`- \u7372\u5F97\u6A19\u9AD8: ${Math.round(n.totalAscent)} m`:""}

## \u30E9\u30C3\u30D7\u60C5\u5831\uFF08\u6700\u521D\u306E${a}\u30E9\u30C3\u30D7\uFF09
${o.map((v,w)=>`\u30E9\u30C3\u30D7${w+1}: ${(v.totalDistance/1e3).toFixed(2)}km, ${Os(v.totalElapsedTime)}, \u30DA\u30FC\u30B9 ${mn(v.avgSpeed)}${v.avgHeartRate?`, HR ${Math.round(v.avgHeartRate)}`:""}`).join(`
`)}

## \u7D71\u8A08\u30C7\u30FC\u30BF
- \u5FC3\u62CD\u6570\u5909\u52D5: ${l}
- \u30DA\u30FC\u30B9\u4E00\u8CAB\u6027: ${_}
${h}

\u4EE5\u4E0B\u306EJSON\u5F62\u5F0F\u3067\u5BA2\u89B3\u7684\u306A\u5206\u6790\u7D50\u679C\u3092\u56DE\u7B54\u3057\u3066\u304F\u3060\u3055\u3044\uFF1A
{
  "paceAnalysis": "\u30DA\u30FC\u30B9\u306E\u7279\u5FB4\u3068\u63A8\u79FB\u3092100\u6587\u5B57\u7A0B\u5EA6\u3067\u8A73\u7D30\u306B\u5206\u6790",
  "heartRateAnalysis": "\u5FC3\u62CD\u6570\u306E\u7279\u5FB4\u3068\u52B9\u7387\u6027\u3092100\u6587\u5B57\u7A0B\u5EA6\u3067\u8A73\u7D30\u306B\u5206\u6790",
  "historyComparison": "\u904E\u53BB\u306E\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u3068\u306E\u6BD4\u8F03\uFF08\u8DDD\u96E2\u3001\u30DA\u30FC\u30B9\u3001\u983B\u5EA6\u306A\u3069\uFF09\u3092100\u6587\u5B57\u7A0B\u5EA6\u3067\u5206\u6790\u3002\u5C65\u6B74\u304C\u306A\u3044\u5834\u5408\u306F\u5358\u4F53\u3067\u306E\u7279\u5FB4\u3092\u8A18\u8FF0"
}`,g=await xi(e,c,"\u30C7\u30FC\u30BF\u5206\u6790"),f=JSON.parse(g);return console.log("[Step 1: Data Analysis] Completed"),f}async function Sl(s,e,t){let{summary:n}=s,i=`\u30A8\u30F3\u30C7\u30E5\u30E9\u30F3\u30B9\u30B9\u30DD\u30FC\u30C4\u30B3\u30FC\u30C1\u3068\u3057\u3066\u3001\u4EE5\u4E0B\u306E\u30C7\u30FC\u30BF\u5206\u6790\u7D50\u679C\u3092\u57FA\u306B\u8A55\u4FA1\u3092\u884C\u3063\u3066\u304F\u3060\u3055\u3044\u3002

## \u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u57FA\u672C\u60C5\u5831
- \u30B9\u30DD\u30FC\u30C4: ${n.sport}
- \u8DDD\u96E2: ${(n.totalDistance/1e3).toFixed(2)} km
- \u6642\u9593: ${Os(n.totalElapsedTime)}
- \u5E73\u5747\u30DA\u30FC\u30B9: ${mn(n.avgSpeed)}

## \u30C7\u30FC\u30BF\u5206\u6790\u7D50\u679C
### \u30DA\u30FC\u30B9\u5206\u6790
${t.paceAnalysis}

### \u5FC3\u62CD\u6570\u5206\u6790
${t.heartRateAnalysis}

### \u5C65\u6B74\u6BD4\u8F03
${t.historyComparison}

\u4E0A\u8A18\u306E\u5206\u6790\u7D50\u679C\u3092\u8E0F\u307E\u3048\u3066\u3001\u4EE5\u4E0B\u306EJSON\u5F62\u5F0F\u3067\u8A55\u4FA1\u3057\u3066\u304F\u3060\u3055\u3044\uFF1A
{
  "strengths": ["\u5F37\u307F1\uFF08\u5177\u4F53\u7684\u306A\u30C7\u30FC\u30BF\u3092\u542B\u3081\u306650\u6587\u5B57\u7A0B\u5EA6\uFF09", "\u5F37\u307F2", "\u5F37\u307F3"],
  "areasForImprovement": ["\u6539\u5584\u70B91\uFF08\u5177\u4F53\u7684\u306A\u6570\u5024\u76EE\u6A19\u3092\u542B\u3081\u306650\u6587\u5B57\u7A0B\u5EA6\uFF09", "\u6539\u5584\u70B92"]
}`,r=await xi(e,i,"\u8A55\u4FA1\u751F\u6210"),a=JSON.parse(r);return console.log("[Step 2: Evaluation] Completed"),a}async function Pl(s,e,t,n){let{summary:i}=s,r=`\u30A8\u30F3\u30C7\u30E5\u30E9\u30F3\u30B9\u30B9\u30DD\u30FC\u30C4\u30B3\u30FC\u30C1\u3068\u3057\u3066\u3001\u4EE5\u4E0B\u306E\u30C7\u30FC\u30BF\u5206\u6790\u3068\u8A55\u4FA1\u3092\u7DCF\u5408\u3057\u3066\u3001\u6700\u7D42\u7684\u306A\u30A2\u30C9\u30D0\u30A4\u30B9\u3092\u63D0\u4F9B\u3057\u3066\u304F\u3060\u3055\u3044\u3002

## \u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u57FA\u672C\u60C5\u5831
- \u30B9\u30DD\u30FC\u30C4: ${i.sport}
- \u8DDD\u96E2: ${(i.totalDistance/1e3).toFixed(2)} km
- \u6642\u9593: ${Os(i.totalElapsedTime)}

## \u30C7\u30FC\u30BF\u5206\u6790\u7D50\u679C
### \u30DA\u30FC\u30B9\u5206\u6790
${t.paceAnalysis}

### \u5FC3\u62CD\u6570\u5206\u6790
${t.heartRateAnalysis}

### \u5C65\u6B74\u6BD4\u8F03
${t.historyComparison}

## \u8A55\u4FA1\u7D50\u679C
### \u5F37\u307F
${n.strengths.map((l,_)=>`${_+1}. ${l}`).join(`
`)}

### \u6539\u5584\u70B9
${n.areasForImprovement.map((l,_)=>`${_+1}. ${l}`).join(`
`)}

\u4E0A\u8A18\u3059\u3079\u3066\u3092\u8003\u616E\u3057\u3066\u3001\u4EE5\u4E0B\u306EJSON\u5F62\u5F0F\u3067\u7DCF\u5408\u7684\u306A\u5206\u6790\u3068\u30A2\u30C9\u30D0\u30A4\u30B9\u3092\u63D0\u4F9B\u3057\u3066\u304F\u3060\u3055\u3044\uFF1A
{
  "overallScore": (1-10\u306E\u6574\u6570\u3001\u4E0A\u8A18\u306E\u5206\u6790\u3068\u8A55\u4FA1\u3092\u7DCF\u5408\u7684\u306B\u5224\u65AD),
  "performanceSummary": "\u4ECA\u56DE\u306E\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u5168\u4F53\u3092150\u6587\u5B57\u7A0B\u5EA6\u3067\u8981\u7D04\u3002\u30C7\u30FC\u30BF\u5206\u6790\u306E\u91CD\u8981\u30DD\u30A4\u30F3\u30C8\u3068\u8A55\u4FA1\u7D50\u679C\u3092\u7D71\u5408\u3057\u305F\u5185\u5BB9",
  "trainingRecommendations": [
    "\u6B21\u56DE\u306E\u30C8\u30EC\u30FC\u30CB\u30F3\u30B0\u306B\u5411\u3051\u305F\u5177\u4F53\u7684\u306A\u63A8\u59681\uFF08\u8DDD\u96E2\u3001\u30DA\u30FC\u30B9\u3001\u5FC3\u62CD\u30BE\u30FC\u30F3\u306A\u3069\u6570\u5024\u3092\u542B\u3081\u306670\u6587\u5B57\u7A0B\u5EA6\uFF09",
    "\u63A8\u59682\uFF08\u983B\u5EA6\u3084\u56DE\u5FA9\u671F\u9593\u3092\u8003\u616E\uFF09",
    "\u63A8\u59683\uFF08\u9577\u671F\u7684\u306A\u76EE\u6A19\u306B\u5411\u3051\u3066\uFF09"
  ],
  "recoveryAdvice": "\u3053\u306E\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u5F8C\u306E\u56DE\u5FA9\u306B\u3064\u3044\u3066\u3001\u5177\u4F53\u7684\u306A\u671F\u9593\u3068\u65B9\u6CD5\u3092100\u6587\u5B57\u7A0B\u5EA6\u3067\u30A2\u30C9\u30D0\u30A4\u30B9"
}`,a=await xi(e,r,"\u7DCF\u5408\u8A55\u4FA1"),o=JSON.parse(a);return console.log("[Step 3: Final Analysis] Completed"),o}async function xi(s,e,t){let n=[{role:"system",content:"\u3042\u306A\u305F\u306F\u30A8\u30F3\u30C7\u30E5\u30E9\u30F3\u30B9\u30B9\u30DD\u30FC\u30C4\u306E\u5C02\u9580\u30B3\u30FC\u30C1\u3067\u3059\u3002\u79D1\u5B66\u7684\u6839\u62E0\u306B\u57FA\u3065\u3044\u305F\u5206\u6790\u3092\u884C\u3044\u3001\u5FC5\u305AJSON\u5F62\u5F0F\u3067\u56DE\u7B54\u3057\u3066\u304F\u3060\u3055\u3044\u3002"},{role:"user",content:e}],i=s.env.AI_PROVIDER||"workers-ai";console.log(`[AI Analyzer - ${t}] Using AI provider: ${i}`);let r;if(i==="groq"&&s.env.GROQ_API_KEY)r=(await new A({apiKey:s.env.GROQ_API_KEY,baseURL:"https://api.groq.com/openai/v1"}).chat.completions.create({model:"llama-3.1-8b-instant",messages:n,response_format:{type:"json_object"},max_tokens:2048})).choices[0].message.content||"{}";else if(i==="openai"&&s.env.AI_INTEGRATIONS_OPENAI_API_KEY)r=(await new A({apiKey:s.env.AI_INTEGRATIONS_OPENAI_API_KEY,baseURL:s.env.AI_INTEGRATIONS_OPENAI_BASE_URL}).chat.completions.create({model:"gpt-4o",messages:n,response_format:{type:"json_object"},max_tokens:2048})).choices[0].message.content||"{}";else{let l=s.env.WORKERS_AI_MODEL||"@cf/meta/llama-3.1-70b-instruct";i==="workers-ai-120b"&&(l="@cf/openai/gpt-oss-120b"),r=(await s.env.AI.run(l,{messages:n,max_tokens:2048})).response}if(!r)throw new Error(`No response from AI in ${t}`);let a=r,o=r.match(/\{[\s\S]*\}/);return o&&(a=o[0]),a}async function Cl(s,e,t=[]){console.log("[AI Analyzer] Starting 3-step analysis process");try{let n=await Rl(s,e,t),i=await Sl(s,e,n),r=await Pl(s,e,n,i),a={overallScore:Math.min(10,Math.max(1,r.overallScore)),performanceSummary:r.performanceSummary,strengths:i.strengths.slice(0,5),areasForImprovement:i.areasForImprovement.slice(0,5),trainingRecommendations:r.trainingRecommendations.slice(0,5),heartRateAnalysis:n.heartRateAnalysis,paceAnalysis:n.paceAnalysis,recoveryAdvice:r.recoveryAdvice};return console.log("[AI Analyzer] 3-step analysis completed successfully"),a}catch(n){throw console.error("[AI Analyzer] Error in multi-step analysis:",n),n}}var Cm=async s=>{try{if(!(s.request.headers.get("content-type")||"").includes("multipart/form-data"))return new Response(JSON.stringify({error:"multipart/form-data\u5F62\u5F0F\u3067\u9001\u4FE1\u3057\u3066\u304F\u3060\u3055\u3044"}),{status:400,headers:{"Content-Type":"application/json"}});let n=(await s.request.formData()).get("file");if(!n)return new Response(JSON.stringify({error:"\u30D5\u30A1\u30A4\u30EB\u304C\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u3055\u308C\u3066\u3044\u307E\u305B\u3093"}),{status:400,headers:{"Content-Type":"application/json"}});if(!n.name.toLowerCase().endsWith(".fit"))return new Response(JSON.stringify({error:".fit\u30D5\u30A1\u30A4\u30EB\u306E\u307F\u30A2\u30C3\u30D7\u30ED\u30FC\u30C9\u53EF\u80FD\u3067\u3059"}),{status:400,headers:{"Content-Type":"application/json"}});let i=await n.arrayBuffer(),r=typeof Buffer<"u"?Buffer.from(i):new Uint8Array(i),a;try{a=await kl(r,n.name)}catch(c){return console.error("FIT parse error:",c),new Response(JSON.stringify({error:"FIT\u30D5\u30A1\u30A4\u30EB\u306E\u89E3\u6790\u306B\u5931\u6557\u3057\u307E\u3057\u305F\u3002\u30D5\u30A1\u30A4\u30EB\u304C\u7834\u640D\u3057\u3066\u3044\u306A\u3044\u304B\u78BA\u8A8D\u3057\u3066\u304F\u3060\u3055\u3044\u3002"}),{status:400,headers:{"Content-Type":"application/json"}})}let o=await xl(s),l=o?await bl(s,o.id,a.summary.startTime,a.summary.sport,5):[];console.log("[Analyze] User:",o?`logged in (${o.id})`:"not logged in"),console.log("[Analyze] Recent workouts count:",l.length),l.length>0&&console.log("[Analyze] Recent workouts:",l.map(c=>({date:c.date,distance:(c.distance/1e3).toFixed(1)+"km",duration:Math.floor(c.duration/60)+"min"})));let _;try{_=await Cl(a,s,l)}catch(c){console.error("AI analysis error:",c);let g=c?.message||"";_={overallScore:7,performanceSummary:g.includes("quota")||g.includes("rate limit")||g.includes("\u30AF\u30A9\u30FC\u30BF\u30FC")||g.includes("\u30EC\u30FC\u30C8\u5236\u9650")?"AI\u5206\u6790\u306E\u5229\u7528\u5236\u9650\u306B\u9054\u3057\u307E\u3057\u305F\u3002\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u30C7\u30FC\u30BF\u306F\u6B63\u5E38\u306B\u8A18\u9332\u3055\u308C\u3066\u3044\u307E\u3059\u3002":"AI\u306B\u3088\u308B\u5206\u6790\u304C\u4E00\u6642\u7684\u306B\u5229\u7528\u3067\u304D\u307E\u305B\u3093\u3002\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u30C7\u30FC\u30BF\u306F\u6B63\u5E38\u306B\u89E3\u6790\u3055\u308C\u307E\u3057\u305F\u3002",strengths:["\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u3092\u5B8C\u4E86\u3057\u307E\u3057\u305F"],areasForImprovement:g.includes("quota")||g.includes("rate limit")||g.includes("\u30AF\u30A9\u30FC\u30BF\u30FC")||g.includes("\u30EC\u30FC\u30C8\u5236\u9650")?["\u3057\u3070\u3089\u304F\u6642\u9593\u3092\u304A\u3044\u3066\u304B\u3089\u3001\u8A73\u7D30\u306AAI\u5206\u6790\u3092\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"]:["\u8A73\u7D30\u306AAI\u5206\u6790\u306F\u5F8C\u307B\u3069\u304A\u8A66\u3057\u304F\u3060\u3055\u3044"],trainingRecommendations:["\u7D99\u7D9A\u7684\u306A\u30C8\u30EC\u30FC\u30CB\u30F3\u30B0\u3092\u5FC3\u304C\u3051\u3066\u304F\u3060\u3055\u3044"],recoveryAdvice:"\u9069\u5207\u306A\u4F11\u606F\u3092\u53D6\u308A\u3001\u6B21\u306E\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u306B\u5099\u3048\u3066\u304F\u3060\u3055\u3044\u3002"}}let h=!1;if(o&&s.env.DB)try{await vl(s,o.id,a,_),h=!0}catch(c){console.error("Save workout error:",c)}return new Response(JSON.stringify({workout:a,aiAnalysis:_,saved:h}),{status:200,headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Analysis error:",e),new Response(JSON.stringify({error:"\u30EF\u30FC\u30AF\u30A2\u30A6\u30C8\u306E\u89E3\u6790\u4E2D\u306B\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F"}),{status:500,headers:{"Content-Type":"application/json"}})}};export{Cm as onRequestPost};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
*/
